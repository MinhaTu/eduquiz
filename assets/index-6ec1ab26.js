(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y=function(t,e){if(!t)throw Ea(e)},Ea=function(t){return new Error("Firebase Database ("+bC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},hP=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return e.join("")},kp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=r>>2,d=(r&3)<<4|a>>4;let h=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(h=64)),i.push(n[u],n[d],n[h],n[m])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(EC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||a==null||c==null||d==null)throw new fP;const h=r<<2|a>>4;if(i.push(h),c!==64){const m=a<<4&240|c>>2;if(i.push(m),d!==64){const g=c<<6&192|d;i.push(g)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CC=function(t){const e=EC(t);return kp.encodeByteArray(e,!0)},ed=function(t){return CC(t).replace(/\./g,"")},td=function(t){try{return kp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t){return IC(void 0,t)}function IC(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!gP(n)||(t[n]=IC(t[n],e[n]));return t}function gP(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=()=>pP().__FIREBASE_DEFAULTS__,yP=()=>{if(typeof process>"u"||typeof{}>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_P=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&td(t[1]);return e&&JSON.parse(e)},uh=()=>{try{return vP()||yP()||_P()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},SC=t=>{var e,n;return(n=(e=uh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Ap=t=>{const e=SC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},TC=()=>{var t;return(t=uh())===null||t===void 0?void 0:t.config},kC=t=>{var e;return(e=uh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ed(JSON.stringify(n)),ed(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function wP(){var t;const e=(t=uh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function AC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EP(){const t=En();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xC(){return bC.NODE_ADMIN===!0}function RC(){try{return typeof indexedDB=="object"}catch{return!1}}function PC(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}function CP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP="FirebaseError";class Ai extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=IP,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lo.prototype.create)}}class lo{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],o=r?SP(r,i):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Ai(s,a,i)}}function SP(t,e){return t.replace(TP,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const TP=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(t){return JSON.parse(t)}function Qt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=function(t){let e={},n={},i={},s="";try{const r=t.split(".");e=Ll(td(r[0])||""),n=Ll(td(r[1])||""),s=r[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},kP=function(t){const e=NC(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},AP=function(t){const e=NC(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ea(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function nd(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function id(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function sd(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],o=e[s];if(X_(r)&&X_(o)){if(!sd(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function X_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function cl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(r)}}),e}function ul(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)i[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)i[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=(h<<1|h>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^r&(o^a),u=1518500249):(c=r^o^a,u=1859775393):d<60?(c=r&o|a&(r|o),u=2400959708):(c=r^o^a,u=3395469782);const h=(s<<5|s>>>27)+c+l+u+i[d]&4294967295;l=a,a=o,o=(r<<30|r>>>2)&4294967295,r=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const r=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(r[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}else for(;s<n;)if(r[o]=e[s],++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)e[i]=this.chain_[s]>>r&255,++i;return e}}function RP(t,e){const n=new PP(t,e);return n.subscribe.bind(n)}class PP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");NP(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Ff),s.error===void 0&&(s.error=Ff),s.complete===void 0&&(s.complete=Ff);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ff(){}function ta(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const r=s-55296;i++,Y(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;s=65536+(r<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},dh=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t){return t&&t._delegate?t._delegate:t}class ai{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new ls;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LP(e))try{this.getOrInitializeService({instanceIdentifier:Sr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=Sr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sr){return this.instances.has(e)}getOptions(e=Sr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);i===a&&o.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:MP(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Sr){return this.component?this.component.multipleInstances?e:Sr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MP(t){return t===Sr?void 0:t}function LP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new OP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qe||(Qe={}));const VP={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},BP=Qe.INFO,UP={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},$P=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=UP[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ic{constructor(e){this.name=e,this._logLevel=BP,this._logHandler=$P,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const zP=(t,e)=>e.some(n=>t instanceof n);let J_,Z_;function jP(){return J_||(J_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HP(){return Z_||(Z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DC=new WeakMap,Wm=new WeakMap,OC=new WeakMap,Vf=new WeakMap,Pp=new WeakMap;function qP(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Ks(t.result)),s()},o=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&DC.set(n,t)}).catch(()=>{}),Pp.set(e,t),e}function WP(t){if(Wm.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});Wm.set(t,e)}let Km={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||OC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ks(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KP(t){Km=t(Km)}function GP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Bf(this),e,...n);return OC.set(i,e.sort?e.sort():[e]),Ks(i)}:HP().includes(t)?function(...e){return t.apply(Bf(this),e),Ks(DC.get(this))}:function(...e){return Ks(t.apply(Bf(this),e))}}function YP(t){return typeof t=="function"?GP(t):(t instanceof IDBTransaction&&WP(t),zP(t,jP())?new Proxy(t,Km):t)}function Ks(t){if(t instanceof IDBRequest)return qP(t);if(Vf.has(t))return Vf.get(t);const e=YP(t);return e!==t&&(Vf.set(t,e),Pp.set(e,t)),e}const Bf=t=>Pp.get(t);function QP(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(t,e),a=Ks(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Ks(o.result),l.oldVersion,l.newVersion,Ks(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const XP=["get","getKey","getAll","getAllKeys","count"],JP=["put","add","delete","clear"],Uf=new Map;function ew(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Uf.get(e))return Uf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=JP.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||XP.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Uf.set(e,r),r}KP(t=>({...t,get:(e,n,i)=>ew(e,n)||t.get(e,n,i),has:(e,n)=>!!ew(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eN(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function eN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gm="@firebase/app",tw="0.9.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new Ic("@firebase/app"),tN="@firebase/app-compat",nN="@firebase/analytics-compat",iN="@firebase/analytics",sN="@firebase/app-check-compat",rN="@firebase/app-check",oN="@firebase/auth",aN="@firebase/auth-compat",lN="@firebase/database",cN="@firebase/database-compat",uN="@firebase/functions",dN="@firebase/functions-compat",hN="@firebase/installations",fN="@firebase/installations-compat",mN="@firebase/messaging",gN="@firebase/messaging-compat",pN="@firebase/performance",vN="@firebase/performance-compat",yN="@firebase/remote-config",_N="@firebase/remote-config-compat",wN="@firebase/storage",bN="@firebase/storage-compat",EN="@firebase/firestore",CN="@firebase/firestore-compat",IN="firebase",SN="9.22.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="[DEFAULT]",TN={[Gm]:"fire-core",[tN]:"fire-core-compat",[iN]:"fire-analytics",[nN]:"fire-analytics-compat",[rN]:"fire-app-check",[sN]:"fire-app-check-compat",[oN]:"fire-auth",[aN]:"fire-auth-compat",[lN]:"fire-rtdb",[cN]:"fire-rtdb-compat",[uN]:"fire-fn",[dN]:"fire-fn-compat",[hN]:"fire-iid",[fN]:"fire-iid-compat",[mN]:"fire-fcm",[gN]:"fire-fcm-compat",[pN]:"fire-perf",[vN]:"fire-perf-compat",[yN]:"fire-rc",[_N]:"fire-rc-compat",[wN]:"fire-gcs",[bN]:"fire-gcs-compat",[EN]:"fire-fst",[CN]:"fire-fst-compat","fire-js":"fire-js",[IN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=new Map,Qm=new Map;function kN(t,e){try{t.container.addComponent(e)}catch(n){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ei(t){const e=t.name;if(Qm.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;Qm.set(e,t);for(const n of rd.values())kN(n,t);return!0}function mr(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Gs=new lo("app","Firebase",AN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ai("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=SN;function MC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Ym,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Gs.create("bad-app-name",{appName:String(s)});if(n||(n=TC()),!n)throw Gs.create("no-options");const r=rd.get(s);if(r){if(sd(n,r.options)&&sd(i,r.config))return r;throw Gs.create("duplicate-app",{appName:s})}const o=new FP(s);for(const l of Qm.values())o.addComponent(l);const a=new xN(n,i,o);return rd.set(s,a),a}function Sc(t=Ym){const e=rd.get(t);if(!e&&t===Ym&&TC())return MC();if(!e)throw Gs.create("no-app",{appName:t});return e}function vn(t,e,n){var i;let s=(i=TN[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(a.join(" "));return}Ei(new ai(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="firebase-heartbeat-database",PN=1,Fl="firebase-heartbeat-store";let $f=null;function LC(){return $f||($f=QP(RN,PN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Fl)}}}).catch(t=>{throw Gs.create("idb-open",{originalErrorMessage:t.message})})),$f}async function NN(t){try{return await(await LC()).transaction(Fl).objectStore(Fl).get(FC(t))}catch(e){if(e instanceof Ai)Gr.warn(e.message);else{const n=Gs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gr.warn(n.message)}}}async function nw(t,e){try{const i=(await LC()).transaction(Fl,"readwrite");await i.objectStore(Fl).put(e,FC(t)),await i.done}catch(n){if(n instanceof Ai)Gr.warn(n.message);else{const i=Gs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gr.warn(i.message)}}}function FC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=1024,ON=30*24*60*60*1e3;class MN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FN(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=iw();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const r=new Date(s.date).valueOf();return Date.now()-r<=ON}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=iw(),{heartbeatsToSend:n,unsentEntries:i}=LN(this._heartbeatsCache.heartbeats),s=ed(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function iw(){return new Date().toISOString().substring(0,10)}function LN(t,e=DN){const n=[];let i=t.slice();for(const s of t){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),sw(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),sw(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class FN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RC()?PC().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await NN(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return nw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return nw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function sw(t){return ed(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(t){Ei(new ai("platform-logger",e=>new ZP(e),"PRIVATE")),Ei(new ai("heartbeat",e=>new MN(e),"PRIVATE")),vn(Gm,tw,t),vn(Gm,tw,"esm2017"),vn("fire-js","")}VN("");function Np(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function VC(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BN=VC,BC=new lo("auth","Firebase",VC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=new Ic("@firebase/auth");function UN(t,...e){od.logLevel<=Qe.WARN&&od.warn(`Auth (${gr}): ${t}`,...e)}function Vu(t,...e){od.logLevel<=Qe.ERROR&&od.error(`Auth (${gr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t,...e){throw Dp(t,...e)}function Bi(t,...e){return Dp(t,...e)}function $N(t,e,n){const i=Object.assign(Object.assign({},BN()),{[e]:n});return new lo("auth","Firebase",i).create(e,{appName:t.name})}function Dp(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return BC.create(t,...e)}function xe(t,e,...n){if(!t)throw Dp(e,...n)}function cs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vu(e),new Error(e)}function vs(t,e){t||cs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function zN(){return rw()==="http:"||rw()==="https:"}function rw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zN()||bP()||"connection"in navigator)?navigator.onLine:!0}function HN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n){this.shortDelay=e,this.longDelay=n,vs(n>e,"Short delay should be less than long delay!"),this.isMobile=Rp()||AC()}get(){return jN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(t,e){vs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=new Tc(3e4,6e4);function Ia(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Sa(t,e,n,i,s={}){return $C(t,s,async()=>{let r={},o={};i&&(e==="GET"?o=i:r={body:JSON.stringify(i)});const a=Ca(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),UC.fetch()(zC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},r))})}async function $C(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},qN),e);try{const s=new KN(t),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw lu(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw lu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw lu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw lu(t,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw $N(t,u,c);Ci(t,u)}}catch(s){if(s instanceof Ai)throw s;Ci(t,"network-request-failed",{message:String(s)})}}async function kc(t,e,n,i,s={}){const r=await Sa(t,e,n,i,s);return"mfaPendingCredential"in r&&Ci(t,"multi-factor-auth-required",{_serverResponse:r}),r}function zC(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?Op(t.config,s):`${t.config.apiScheme}://${s}`}class KN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Bi(this.auth,"network-request-failed")),WN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function lu(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Bi(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(t,e){return Sa(t,"POST","/v1/accounts:delete",e)}async function YN(t,e){return Sa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QN(t,e=!1){const n=et(t),i=await n.getIdToken(e),s=Mp(i);xe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:_l(zf(s.auth_time)),issuedAtTime:_l(zf(s.iat)),expirationTime:_l(zf(s.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function zf(t){return Number(t)*1e3}function Mp(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Vu("JWT malformed, contained fewer than 3 sections"),null;try{const s=td(n);return s?JSON.parse(s):(Vu("Failed to decode base64 JWT payload"),null)}catch(s){return Vu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function XN(t){const e=Mp(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Ai&&JN(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function JN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_l(this.lastLoginAt),this.creationTime=_l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ad(t){var e;const n=t.auth,i=await t.getIdToken(),s=await Vl(t,YN(n,{idToken:i}));xe(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?nD(r.providerUserInfo):[],a=tD(t.providerData,o),l=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new jC(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function eD(t){const e=et(t);await ad(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tD(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function nD(t){return t.map(e=>{var{providerId:n}=e,i=Np(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(t,e){const n=await $C(t,{},async()=>{const i=Ca({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=t.config,o=zC(t,s,"/v1/token",`key=${r}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",UC.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return xe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await iD(e,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,o=new Bl;return i&&(xe(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),s&&(xe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),r&&(xe(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bl,this.toJSON())}_performRefresh(){return cs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Br{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,r=Np(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new jC(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Vl(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QN(this,e)}reload(){return eD(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Br(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await ad(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Vl(this,GN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,r,o,a,l,c,u;const d=(i=n.displayName)!==null&&i!==void 0?i:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,m=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,p=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,b=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:C,emailVerified:S,isAnonymous:R,providerData:x,stsTokenManager:N}=n;xe(C&&N,e,"internal-error");const T=Bl.fromJSON(this.name,N);xe(typeof C=="string",e,"internal-error"),Os(d,e.name),Os(h,e.name),xe(typeof S=="boolean",e,"internal-error"),xe(typeof R=="boolean",e,"internal-error"),Os(m,e.name),Os(g,e.name),Os(p,e.name),Os(v,e.name),Os(E,e.name),Os(b,e.name);const k=new Br({uid:C,auth:e,email:h,emailVerified:S,displayName:d,isAnonymous:R,photoURL:g,phoneNumber:m,tenantId:p,stsTokenManager:T,createdAt:E,lastLoginAt:b});return x&&Array.isArray(x)&&(k.providerData=x.map(L=>Object.assign({},L))),v&&(k._redirectEventId=v),k}static async _fromIdTokenResponse(e,n,i=!1){const s=new Bl;s.updateFromServerResponse(n);const r=new Br({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await ad(r),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=new Map;function us(t){vs(t instanceof Function,"Expected a class definition");let e=ow.get(t);return e?(vs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ow.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}HC.type="NONE";const aw=HC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t,e,n){return`firebase:${t}:${e}:${n}`}class Bo{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=Bu(this.userKey,s.apiKey,r),this.fullPersistenceKey=Bu("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Br._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Bo(us(aw),e,i);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=s[0]||us(aw);const o=Bu(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=Br._fromJSON(e,u);c!==r&&(a=d),r=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new Bo(r,e,i):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new Bo(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YC(e))return"Blackberry";if(QC(e))return"Webos";if(Lp(e))return"Safari";if((e.includes("chrome/")||WC(e))&&!e.includes("edge/"))return"Chrome";if(GC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function qC(t=En()){return/firefox\//i.test(t)}function Lp(t=En()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WC(t=En()){return/crios\//i.test(t)}function KC(t=En()){return/iemobile/i.test(t)}function GC(t=En()){return/android/i.test(t)}function YC(t=En()){return/blackberry/i.test(t)}function QC(t=En()){return/webos/i.test(t)}function hh(t=En()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sD(t=En()){var e;return hh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rD(){return EP()&&document.documentMode===10}function XC(t=En()){return hh(t)||GC(t)||QC(t)||YC(t)||/windows phone/i.test(t)||KC(t)}function oD(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t,e=[]){let n;switch(t){case"Browser":n=lw(En());break;case"Worker":n=`${lw(En())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gr}/${i}`}async function ZC(t,e){return Sa(t,"GET","/v2/recaptchaConfig",Ia(t,e))}function cw(t){return t!==void 0&&t.enterprise!==void 0}class eI{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function tI(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const r=Bi("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",aD().appendChild(i)})}function lD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const cD="https://www.google.com/recaptcha/enterprise.js?render=",uD="recaptcha-enterprise",dD="NO_RECAPTCHA";class nI{constructor(e){this.type=uD,this.auth=Ta(e)}async verify(e="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,a)=>{ZC(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new eI(l);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(r,o,a){const l=window.grecaptcha;cw(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:e}).then(c=>{o(c)}).catch(()=>{o(dD)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((r,o)=>{i(this.auth).then(a=>{if(!n&&cw(window.grecaptcha))s(a,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}tI(cD+a).then(()=>{s(a,r,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function ld(t,e,n,i=!1){const s=new nI(t);let r;try{r=await s.verify(n)}catch{r=await s.verify(n,!0)}const o=Object.assign({},e);return i?Object.assign(o,{captchaResp:r}):Object.assign(o,{captchaResponse:r}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=r=>new Promise((o,a)=>{try{const l=e(r);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uw(this),this.idTokenSubscription=new uw(this),this.beforeStateQueue=new hD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=us(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Bo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ad(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?et(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(us(e))})}async initializeRecaptchaConfig(){const e=await ZC(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new eI(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new nI(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new lo("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&us(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await Bo.create(this,[us(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return xe(o,this,"internal-error"),o.then(()=>r(this.currentUser)),typeof n=="function"?e.addObserver(n,i,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&UN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ta(t){return et(t)}class uw{constructor(e){this.auth=e,this.observer=null,this.addObserver=RP(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(t,e){const n=mr(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(sd(r,e??{}))return s;Ci(s,"already-initialized")}return n.initialize({options:e})}function gD(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(us);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function pD(t,e,n){const i=Ta(t);xe(i._canInitEmulator,i,"emulator-config-failed"),xe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),r=iI(e),{host:o,port:a}=vD(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${r}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||yD()}function iI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function vD(t){const e=iI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:dw(i.substr(r.length+1))}}else{const[r,o]=i.split(":");return{host:r,port:dw(o)}}}function dw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function yD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return cs("not implemented")}_getIdTokenResponse(e){return cs("not implemented")}_linkToIdToken(e,n){return cs("not implemented")}_getReauthenticationResolver(e){return cs("not implemented")}}async function _D(t,e){return Sa(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jf(t,e){return kc(t,"POST","/v1/accounts:signInWithPassword",Ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(t,e){return kc(t,"POST","/v1/accounts:signInWithEmailLink",Ia(t,e))}async function bD(t,e){return kc(t,"POST","/v1/accounts:signInWithEmailLink",Ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends Fp{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ul(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Ul(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await ld(e,i,"signInWithPassword");return jf(e,s)}else return jf(e,i).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const r=await ld(e,i,"signInWithPassword");return jf(e,r)}else return Promise.reject(s)});case"emailLink":return wD(e,{email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return _D(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return bD(e,{idToken:n,email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(t,e){return kc(t,"POST","/v1/accounts:signInWithIdp",Ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED="http://localhost";class Yr extends Fp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Yr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,r=Np(n,["providerId","signInMethod"]);if(!i||!s)return null;const o=new Yr(i,s);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Uo(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Uo(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Uo(e,n)}buildRequest(){const e={requestUri:ED,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ca(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ID(t){const e=cl(ul(t)).link,n=e?cl(ul(e)).deep_link_id:null,i=cl(ul(t)).deep_link_id;return(i?cl(ul(i)).link:null)||i||n||e||t}class Vp{constructor(e){var n,i,s,r,o,a;const l=cl(ul(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,d=CD((s=l.mode)!==null&&s!==void 0?s:null);xe(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=ID(e);try{return new Vp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.providerId=ka.PROVIDER_ID}static credential(e,n){return Ul._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Vp.parseLink(n);return xe(i,"argument-error"),Ul._fromEmailAndCode(e,i.code,i.tenantId)}}ka.PROVIDER_ID="password";ka.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ka.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends sI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Ac{constructor(){super("facebook.com")}static credential(e){return Yr._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.FACEBOOK_SIGN_IN_METHOD="facebook.com";$s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Ac{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Yr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return zs.credential(n,i)}catch{return null}}}zs.GOOGLE_SIGN_IN_METHOD="google.com";zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Ac{constructor(){super("github.com")}static credential(e){return Yr._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return js.credential(e.oauthAccessToken)}catch{return null}}}js.GITHUB_SIGN_IN_METHOD="github.com";js.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Ac{constructor(){super("twitter.com")}static credential(e,n){return Yr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Hs.credential(n,i)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hf(t,e){return kc(t,"POST","/v1/accounts:signUp",Ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const r=await Br._fromIdTokenResponse(e,i,s),o=hw(i);return new Qr({user:r,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=hw(i);return new Qr({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function hw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd extends Ai{constructor(e,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,cd.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new cd(e,n,i,s)}}function rI(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?cd._fromErrorAndOperation(t,r,e,i):r})}async function SD(t,e,n=!1){const i=await Vl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qr._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(t,e,n=!1){const{auth:i}=t,s="reauthenticate";try{const r=await Vl(t,rI(i,s,e,t),n);xe(r.idToken,i,"internal-error");const o=Mp(r.idToken);xe(o,i,"internal-error");const{sub:a}=o;return xe(t.uid===a,i,"user-mismatch"),Qr._forOperation(t,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Ci(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oI(t,e,n=!1){const i="signIn",s=await rI(t,i,e),r=await Qr._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(r.user),r}async function kD(t,e){return oI(Ta(t),e)}async function AD(t,e,n){var i;const s=Ta(t),r={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((i=s._getRecaptchaConfig())===null||i===void 0)&&i.emailPasswordEnabled){const c=await ld(s,r,"signUpPassword");o=Hf(s,c)}else o=Hf(s,r).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const u=await ld(s,r,"signUpPassword");return Hf(s,u)}else return Promise.reject(c)});const a=await o.catch(c=>Promise.reject(c)),l=await Qr._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function xD(t,e,n){return kD(et(t),ka.credential(e,n))}function RD(t,e,n,i){return et(t).onIdTokenChanged(e,n,i)}function PD(t,e,n){return et(t).beforeAuthStateChanged(e,n)}function aI(t,e,n,i){return et(t).onAuthStateChanged(e,n,i)}function ND(t){return et(t).signOut()}const ud="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ud,"1"),this.storage.removeItem(ud),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(){const t=En();return Lp(t)||hh(t)}const OD=1e3,MD=10;class cI extends lI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=DD()&&oD(),this.fallbackToPolling=XC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},r=this.storage.getItem(i);rD()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,MD):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},OD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cI.type="LOCAL";const LD=cI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI extends lI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uI.type="SESSION";const dI=uI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new fh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:r}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,r)),l=await FD(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const c=Bp("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:s,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(h.data.response);break;default:clearTimeout(u),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return window}function BD(t){Ui().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function UD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $D(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function zD(){return hI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="firebaseLocalStorageDb",jD=1,dd="firebaseLocalStorage",mI="fbase_key";class xc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mh(t,e){return t.transaction([dd],e?"readwrite":"readonly").objectStore(dd)}function HD(){const t=indexedDB.deleteDatabase(fI);return new xc(t).toPromise()}function Jm(){const t=indexedDB.open(fI,jD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(dd,{keyPath:mI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(dd)?e(i):(i.close(),await HD(),e(await Jm()))})})}async function fw(t,e,n){const i=mh(t,!0).put({[mI]:e,value:n});return new xc(i).toPromise()}async function qD(t,e){const n=mh(t,!1).get(e),i=await new xc(n).toPromise();return i===void 0?null:i.value}function mw(t,e){const n=mh(t,!0).delete(e);return new xc(n).toPromise()}const WD=800,KD=3;class gI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>KD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(zD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await UD(),!this.activeServiceWorker)return;this.sender=new VD(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$D()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jm();return await fw(e,ud,"1"),await mw(e,ud),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>fw(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>qD(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=mh(s,!1).getAll();return new xc(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gI.type="LOCAL";const GD=gI;new Tc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t,e){return e?us(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up extends Fp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QD(t){return oI(t.auth,new Up(t),t.bypassAuthState)}function XD(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),TD(n,new Up(t),t.bypassAuthState)}async function JD(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),SD(n,new Up(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QD;case"linkViaPopup":case"linkViaRedirect":return JD;case"reauthViaPopup":case"reauthViaRedirect":return XD;default:Ci(this.auth,"internal-error")}}resolve(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=new Tc(2e3,1e4);class Mo extends pI{constructor(e,n,i,s,r){super(e,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Mo.currentPopupAction&&Mo.currentPopupAction.cancel(),Mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){vs(this.filter.length===1,"Popup operations only handle one event");const e=Bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZD.get())};e()}}Mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO="pendingRedirect",Uu=new Map;class tO extends pI{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Uu.get(this.auth._key());if(!e){try{const i=await nO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Uu.set(this.auth._key(),e)}return this.bypassAuthState||Uu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nO(t,e){const n=rO(e),i=sO(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function iO(t,e){Uu.set(t._key(),e)}function sO(t){return us(t._redirectPersistence)}function rO(t){return Bu(eO,t.config.apiKey,t.name)}async function oO(t,e,n=!1){const i=Ta(t),s=YD(i,e),o=await new tO(i,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=10*60*1e3;class lO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!vI(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Bi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aO&&this.cachedEventUids.clear(),this.cachedEventUids.has(gw(e))}saveEventToCache(e){this.cachedEventUids.add(gw(e)),this.lastProcessedEventTime=Date.now()}}function gw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uO(t,e={}){return Sa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hO=/^https?/;async function fO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await uO(t);for(const n of e)try{if(mO(n))return}catch{}Ci(t,"unauthorized-domain")}function mO(t){const e=Xm(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!hO.test(n))return!1;if(dO.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=new Tc(3e4,6e4);function pw(){const t=Ui().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function pO(t){return new Promise((e,n)=>{var i,s,r;function o(){pw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pw(),n(Bi(t,"network-request-failed"))},timeout:gO.get()})}if(!((s=(i=Ui().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=Ui().gapi)===null||r===void 0)&&r.load)o();else{const a=lD("iframefcb");return Ui()[a]=()=>{gapi.load?o():n(Bi(t,"network-request-failed"))},tI(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw $u=null,e})}let $u=null;function vO(t){return $u=$u||pO(t),$u}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=new Tc(5e3,15e3),_O="__/auth/iframe",wO="emulator/auth/iframe",bO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CO(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Op(e,wO):`https://${t.config.authDomain}/${_O}`,i={apiKey:e.apiKey,appName:t.name,v:gr},s=EO.get(t.config.apiHost);s&&(i.eid=s);const r=t._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${Ca(i).slice(1)}`}async function IO(t){const e=await vO(t),n=Ui().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:CO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bO,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const o=Bi(t,"network-request-failed"),a=Ui().setTimeout(()=>{r(o)},yO.get());function l(){Ui().clearTimeout(a),s(i)}i.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TO=500,kO=600,AO="_blank",xO="http://localhost";class vw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RO(t,e,n,i=TO,s=kO){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},SO),{width:i.toString(),height:s.toString(),top:r,left:o}),c=En().toLowerCase();n&&(a=WC(c)?AO:n),qC(c)&&(e=e||xO,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[m,g])=>`${h}${m}=${g},`,"");if(sD(c)&&a!=="_self")return PO(e||"",a),new vw(null);const d=window.open(e||"",a,u);xe(d,t,"popup-blocked");try{d.focus()}catch{}return new vw(d)}function PO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO="__/auth/handler",DO="emulator/auth/handler",OO=encodeURIComponent("fac");async function yw(t,e,n,i,s,r){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:gr,eventId:s};if(e instanceof sI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",nd(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(r||{}))o[u]=d}if(e instanceof Ac){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${OO}=${encodeURIComponent(l)}`:"";return`${MO(t)}?${Ca(a).slice(1)}${c}`}function MO({config:t}){return t.emulator?Op(t,DO):`https://${t.authDomain}/${NO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="webStorageSupport";class LO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dI,this._completeRedirectFn=oO,this._overrideRedirectResult=iO}async _openPopup(e,n,i,s){var r;vs((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await yw(e,n,i,Xm(),s);return RO(e,o,Bp())}async _openRedirect(e,n,i,s){await this._originValidation(e);const r=await yw(e,n,i,Xm(),s);return BD(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(vs(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await IO(e),i=new lO(e);return n.register("authEvent",s=>(xe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qf,{type:qf},s=>{var r;const o=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[qf];o!==void 0&&n(!!o),Ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XC()||Lp()||hh()}}const FO=LO;var _w="@firebase/auth",ww="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function UO(t){Ei(new ai("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;xe(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JC(t)},c=new fD(i,s,r,l);return gD(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ei(new ai("auth-internal",e=>{const n=Ta(e.getProvider("auth").getImmediate());return(i=>new VO(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vn(_w,ww,BO(t)),vn(_w,ww,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=5*60,zO=kC("authIdTokenMaxAge")||$O;let bw=null;const jO=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>zO)return;const s=n==null?void 0:n.token;bw!==s&&(bw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function pr(t=Sc()){const e=mr(t,"auth");if(e.isInitialized())return e.getImmediate();const n=mD(t,{popupRedirectResolver:FO,persistence:[GD,LD,dI]}),i=kC("authTokenSyncURL");if(i){const r=jO(i);PD(n,r,()=>r(n.currentUser)),RD(n,o=>r(o))}const s=SC("auth");return s&&pD(n,`http://${s}`),n}UO("Browser");var HO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ie,$p=$p||{},Ne=HO||self;function gh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Rc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function qO(t){return Object.prototype.hasOwnProperty.call(t,Wf)&&t[Wf]||(t[Wf]=++WO)}var Wf="closure_uid_"+(1e9*Math.random()>>>0),WO=0;function KO(t,e,n){return t.call.apply(t.bind,arguments)}function GO(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function yn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?yn=KO:yn=GO,yn.apply(null,arguments)}function cu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function nn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,s,r){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(i,o)}}function vr(){this.s=this.s,this.o=this.o}var YO=0;vr.prototype.s=!1;vr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),YO!=0)&&qO(this)};vr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function zp(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function Ew(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(gh(i)){const s=t.length||0,r=i.length||0;t.length=s+r;for(let o=0;o<r;o++)t[s+o]=i[o]}else t.push(i)}}function _n(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}_n.prototype.h=function(){this.defaultPrevented=!0};var QO=function(){if(!Ne.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ne.addEventListener("test",()=>{},e),Ne.removeEventListener("test",()=>{},e)}catch{}return t}();function $l(t){return/^[\s\xa0]*$/.test(t)}function ph(){var t=Ne.navigator;return t&&(t=t.userAgent)?t:""}function Di(t){return ph().indexOf(t)!=-1}function jp(t){return jp[" "](t),t}jp[" "]=function(){};function XO(t,e){var n=jM;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var JO=Di("Opera"),na=Di("Trident")||Di("MSIE"),_I=Di("Edge"),Zm=_I||na,wI=Di("Gecko")&&!(ph().toLowerCase().indexOf("webkit")!=-1&&!Di("Edge"))&&!(Di("Trident")||Di("MSIE"))&&!Di("Edge"),ZO=ph().toLowerCase().indexOf("webkit")!=-1&&!Di("Edge");function bI(){var t=Ne.document;return t?t.documentMode:void 0}var eg;e:{var Kf="",Gf=function(){var t=ph();if(wI)return/rv:([^\);]+)(\)|;)/.exec(t);if(_I)return/Edge\/([\d\.]+)/.exec(t);if(na)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(ZO)return/WebKit\/(\S+)/.exec(t);if(JO)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Gf&&(Kf=Gf?Gf[1]:""),na){var Yf=bI();if(Yf!=null&&Yf>parseFloat(Kf)){eg=String(Yf);break e}}eg=Kf}var tg;if(Ne.document&&na){var Cw=bI();tg=Cw||parseInt(eg,10)||void 0}else tg=void 0;var eM=tg;function zl(t,e){if(_n.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(wI){e:{try{jp(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:tM[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&zl.$.h.call(this)}}nn(zl,_n);var tM={2:"touch",3:"pen",4:"mouse"};zl.prototype.h=function(){zl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Pc="closure_listenable_"+(1e6*Math.random()|0),nM=0;function iM(t,e,n,i,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=s,this.key=++nM,this.fa=this.ia=!1}function vh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Hp(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function sM(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function EI(t){const e={};for(const n in t)e[n]=t[n];return e}const Iw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function CI(t,e){let n,i;for(let s=1;s<arguments.length;s++){i=arguments[s];for(n in i)t[n]=i[n];for(let r=0;r<Iw.length;r++)n=Iw[r],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function yh(t){this.src=t,this.g={},this.h=0}yh.prototype.add=function(t,e,n,i,s){var r=t.toString();t=this.g[r],t||(t=this.g[r]=[],this.h++);var o=ig(t,e,i,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new iM(e,this.src,r,!!i,s),e.ia=n,t.push(e)),e};function ng(t,e){var n=e.type;if(n in t.g){var i=t.g[n],s=yI(i,e),r;(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(vh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ig(t,e,n,i){for(var s=0;s<t.length;++s){var r=t[s];if(!r.fa&&r.listener==e&&r.capture==!!n&&r.la==i)return s}return-1}var qp="closure_lm_"+(1e6*Math.random()|0),Qf={};function II(t,e,n,i,s){if(i&&i.once)return TI(t,e,n,i,s);if(Array.isArray(e)){for(var r=0;r<e.length;r++)II(t,e[r],n,i,s);return null}return n=Gp(n),t&&t[Pc]?t.O(e,n,Rc(i)?!!i.capture:!!i,s):SI(t,e,n,!1,i,s)}function SI(t,e,n,i,s,r){if(!e)throw Error("Invalid event type");var o=Rc(s)?!!s.capture:!!s,a=Kp(t);if(a||(t[qp]=a=new yh(t)),n=a.add(e,n,i,o,r),n.proxy)return n;if(i=rM(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)QO||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),i,s);else if(t.attachEvent)t.attachEvent(AI(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function rM(){function t(n){return e.call(t.src,t.listener,n)}const e=oM;return t}function TI(t,e,n,i,s){if(Array.isArray(e)){for(var r=0;r<e.length;r++)TI(t,e[r],n,i,s);return null}return n=Gp(n),t&&t[Pc]?t.P(e,n,Rc(i)?!!i.capture:!!i,s):SI(t,e,n,!0,i,s)}function kI(t,e,n,i,s){if(Array.isArray(e))for(var r=0;r<e.length;r++)kI(t,e[r],n,i,s);else i=Rc(i)?!!i.capture:!!i,n=Gp(n),t&&t[Pc]?(t=t.i,e=String(e).toString(),e in t.g&&(r=t.g[e],n=ig(r,n,i,s),-1<n&&(vh(r[n]),Array.prototype.splice.call(r,n,1),r.length==0&&(delete t.g[e],t.h--)))):t&&(t=Kp(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ig(e,n,i,s)),(n=-1<t?e[t]:null)&&Wp(n))}function Wp(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Pc])ng(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(AI(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Kp(e))?(ng(n,t),n.h==0&&(n.src=null,e[qp]=null)):vh(t)}}}function AI(t){return t in Qf?Qf[t]:Qf[t]="on"+t}function oM(t,e){if(t.fa)t=!0;else{e=new zl(e,this);var n=t.listener,i=t.la||t.src;t.ia&&Wp(t),t=n.call(i,e)}return t}function Kp(t){return t=t[qp],t instanceof yh?t:null}var Xf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gp(t){return typeof t=="function"?t:(t[Xf]||(t[Xf]=function(e){return t.handleEvent(e)}),t[Xf])}function tn(){vr.call(this),this.i=new yh(this),this.S=this,this.J=null}nn(tn,vr);tn.prototype[Pc]=!0;tn.prototype.removeEventListener=function(t,e,n,i){kI(this,t,e,n,i)};function un(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new _n(e,t);else if(e instanceof _n)e.target=e.target||t;else{var s=e;e=new _n(i,t),CI(e,s)}if(s=!0,n)for(var r=n.length-1;0<=r;r--){var o=e.g=n[r];s=uu(o,i,!0,e)&&s}if(o=e.g=t,s=uu(o,i,!0,e)&&s,s=uu(o,i,!1,e)&&s,n)for(r=0;r<n.length;r++)o=e.g=n[r],s=uu(o,i,!1,e)&&s}tn.prototype.N=function(){if(tn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)vh(n[i]);delete t.g[e],t.h--}}this.J=null};tn.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};tn.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function uu(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,r=0;r<e.length;++r){var o=e[r];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&ng(t.i,o),s=a.call(l,i)!==!1&&s}}return s&&!i.defaultPrevented}var Yp=Ne.JSON.stringify;class aM{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function lM(){var t=Qp;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class cM{constructor(){this.h=this.g=null}add(e,n){const i=xI.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var xI=new aM(()=>new uM,t=>t.reset());class uM{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function dM(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function hM(t){Ne.setTimeout(()=>{throw t},0)}let jl,Hl=!1,Qp=new cM,RI=()=>{const t=Ne.Promise.resolve(void 0);jl=()=>{t.then(fM)}};var fM=()=>{for(var t;t=lM();){try{t.h.call(t.g)}catch(n){hM(n)}var e=xI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Hl=!1};function _h(t,e){tn.call(this),this.h=t||1,this.g=e||Ne,this.j=yn(this.qb,this),this.l=Date.now()}nn(_h,tn);ie=_h.prototype;ie.ga=!1;ie.T=null;ie.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),un(this,"tick"),this.ga&&(Xp(this),this.start()))}};ie.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Xp(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ie.N=function(){_h.$.N.call(this),Xp(this),delete this.g};function Jp(t,e,n){if(typeof t=="function")n&&(t=yn(t,n));else if(t&&typeof t.handleEvent=="function")t=yn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ne.setTimeout(t,e||0)}function PI(t){t.g=Jp(()=>{t.g=null,t.i&&(t.i=!1,PI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class mM extends vr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:PI(this)}N(){super.N(),this.g&&(Ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ql(t){vr.call(this),this.h=t,this.g={}}nn(ql,vr);var Sw=[];function NI(t,e,n,i){Array.isArray(n)||(n&&(Sw[0]=n.toString()),n=Sw);for(var s=0;s<n.length;s++){var r=II(e,n[s],i||t.handleEvent,!1,t.h||t);if(!r)break;t.g[r.key]=r}}function DI(t){Hp(t.g,function(e,n){this.g.hasOwnProperty(n)&&Wp(e)},t),t.g={}}ql.prototype.N=function(){ql.$.N.call(this),DI(this)};ql.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function wh(){this.g=!0}wh.prototype.Ea=function(){this.g=!1};function gM(t,e,n,i,s,r){t.info(function(){if(t.g)if(r)for(var o="",a=r.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function pM(t,e,n,i,s,r,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+e+`
`+n+`
`+r+" "+o})}function Lo(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+yM(t,n)+(i?" "+i:"")})}function vM(t,e){t.info(function(){return"TIMEOUT: "+e})}wh.prototype.info=function(){};function yM(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var r=s[0];if(r!="noop"&&r!="stop"&&r!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Yp(n)}catch{return e}}var co={},Tw=null;function bh(){return Tw=Tw||new tn}co.Ta="serverreachability";function OI(t){_n.call(this,co.Ta,t)}nn(OI,_n);function Wl(t){const e=bh();un(e,new OI(e))}co.STAT_EVENT="statevent";function MI(t,e){_n.call(this,co.STAT_EVENT,t),this.stat=e}nn(MI,_n);function An(t){const e=bh();un(e,new MI(e,t))}co.Ua="timingevent";function LI(t,e){_n.call(this,co.Ua,t),this.size=e}nn(LI,_n);function Nc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ne.setTimeout(function(){t()},e)}var Eh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},FI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Zp(){}Zp.prototype.h=null;function kw(t){return t.h||(t.h=t.i())}function VI(){}var Dc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ev(){_n.call(this,"d")}nn(ev,_n);function tv(){_n.call(this,"c")}nn(tv,_n);var sg;function Ch(){}nn(Ch,Zp);Ch.prototype.g=function(){return new XMLHttpRequest};Ch.prototype.i=function(){return{}};sg=new Ch;function Oc(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new ql(this),this.P=_M,t=Zm?125:void 0,this.V=new _h(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new BI}function BI(){this.i=null,this.g="",this.h=!1}var _M=45e3,rg={},hd={};ie=Oc.prototype;ie.setTimeout=function(t){this.P=t};function og(t,e,n){t.L=1,t.v=Sh(ys(e)),t.s=n,t.S=!0,UI(t,null)}function UI(t,e){t.G=Date.now(),Mc(t),t.A=ys(t.v);var n=t.A,i=t.W;Array.isArray(i)||(i=[String(i)]),GI(n.i,"t",i),t.C=0,n=t.l.J,t.h=new BI,t.g=gS(t.l,n?e:null,!t.s),0<t.O&&(t.M=new mM(yn(t.Pa,t,t.g),t.O)),NI(t.U,t.g,"readystatechange",t.nb),e=t.I?EI(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Wl(),gM(t.j,t.u,t.A,t.m,t.W,t.s)}ie.nb=function(t){t=t.target;const e=this.M;e&&Li(t)==3?e.l():this.Pa(t)};ie.Pa=function(t){try{if(t==this.g)e:{const u=Li(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||Zm||this.g&&(this.h.h||this.g.ja()||Pw(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Wl(3):Wl(2)),Ih(this);var n=this.g.da();this.ca=n;t:if($I(this)){var i=Pw(this.g);t="";var s=i.length,r=Li(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rr(this),wl(this);var o="";break t}this.h.i=new Ne.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:r&&e==s-1});i.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,pM(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$l(a)){var c=a;break t}}c=null}if(n=c)Lo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ag(this,n);else{this.i=!1,this.o=3,An(12),Rr(this),wl(this);break e}}this.S?(zI(this,u,o),Zm&&this.i&&u==3&&(NI(this.U,this.V,"tick",this.mb),this.V.start())):(Lo(this.j,this.m,o,null),ag(this,o)),u==4&&Rr(this),this.i&&!this.J&&(u==4?dS(this.l,this):(this.i=!1,Mc(this)))}else UM(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,An(12)):(this.o=0,An(13)),Rr(this),wl(this)}}}catch{}finally{}};function $I(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function zI(t,e,n){let i=!0,s;for(;!t.J&&t.C<n.length;)if(s=wM(t,n),s==hd){e==4&&(t.o=4,An(14),i=!1),Lo(t.j,t.m,null,"[Incomplete Response]");break}else if(s==rg){t.o=4,An(15),Lo(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Lo(t.j,t.m,s,null),ag(t,s);$I(t)&&s!=hd&&s!=rg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,An(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),av(e),e.M=!0,An(11))):(Lo(t.j,t.m,n,"[Invalid Chunked Response]"),Rr(t),wl(t))}ie.mb=function(){if(this.g){var t=Li(this.g),e=this.g.ja();this.C<e.length&&(Ih(this),zI(this,t,e),this.i&&t!=4&&Mc(this))}};function wM(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?hd:(n=Number(e.substring(n,i)),isNaN(n)?rg:(i+=1,i+n>e.length?hd:(e=e.slice(i,i+n),t.C=i+n,e)))}ie.cancel=function(){this.J=!0,Rr(this)};function Mc(t){t.Y=Date.now()+t.P,jI(t,t.P)}function jI(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Nc(yn(t.lb,t),e)}function Ih(t){t.B&&(Ne.clearTimeout(t.B),t.B=null)}ie.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(vM(this.j,this.A),this.L!=2&&(Wl(),An(17)),Rr(this),this.o=2,wl(this)):jI(this,this.Y-t)};function wl(t){t.l.H==0||t.J||dS(t.l,t)}function Rr(t){Ih(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Xp(t.V),DI(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ag(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||lg(n.i,t))){if(!t.K&&lg(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)gd(n),Ah(n);else break e;ov(n),An(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Nc(yn(n.ib,n),6e3));if(1>=XI(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Pr(n,11)}else if((t.K||n.g==t)&&gd(n),!$l(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(i=1.5*h,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const m=t.g;if(m){const g=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var r=i.i;r.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(r.j=r.l,r.g=new Set,r.h&&(nv(r,r.h),r.h=null))}if(i.F){const p=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;p&&(i.Da=p,vt(i.I,i.F,p))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var o=t;if(i.wa=mS(i,i.J?i.pa:null,i.Y),o.K){JI(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.B&&(Ih(a),Mc(a)),i.g=o}else cS(i);0<n.j.length&&xh(n)}else c[0]!="stop"&&c[0]!="close"||Pr(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Pr(n,7):rv(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Wl(4)}catch{}}function bM(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(gh(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function EM(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(gh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function HI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(gh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=EM(t),i=bM(t),s=i.length,r=0;r<s;r++)e.call(void 0,i[r],n&&n[r],t)}var qI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function CM(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),s=null;if(0<=i){var r=t[n].substring(0,i);s=t[n].substring(i+1)}else r=t[n];e(r,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Ur(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ur){this.h=t.h,fd(this,t.j),this.s=t.s,this.g=t.g,md(this,t.m),this.l=t.l;var e=t.i,n=new Kl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Aw(this,n),this.o=t.o}else t&&(e=String(t).match(qI))?(this.h=!1,fd(this,e[1]||"",!0),this.s=dl(e[2]||""),this.g=dl(e[3]||"",!0),md(this,e[4]),this.l=dl(e[5]||"",!0),Aw(this,e[6]||"",!0),this.o=dl(e[7]||"")):(this.h=!1,this.i=new Kl(null,this.h))}Ur.prototype.toString=function(){var t=[],e=this.j;e&&t.push(hl(e,xw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(hl(e,xw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(hl(n,n.charAt(0)=="/"?TM:SM,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",hl(n,AM)),t.join("")};function ys(t){return new Ur(t)}function fd(t,e,n){t.j=n?dl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function md(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Aw(t,e,n){e instanceof Kl?(t.i=e,xM(t.i,t.h)):(n||(e=hl(e,kM)),t.i=new Kl(e,t.h))}function vt(t,e,n){t.i.set(e,n)}function Sh(t){return vt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function dl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function hl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,IM),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function IM(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var xw=/[#\/\?@]/g,SM=/[#\?:]/g,TM=/[#\?]/g,kM=/[#\?@]/g,AM=/#/g;function Kl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function yr(t){t.g||(t.g=new Map,t.h=0,t.i&&CM(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ie=Kl.prototype;ie.add=function(t,e){yr(this),this.i=null,t=Aa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function WI(t,e){yr(t),e=Aa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function KI(t,e){return yr(t),e=Aa(t,e),t.g.has(e)}ie.forEach=function(t,e){yr(this),this.g.forEach(function(n,i){n.forEach(function(s){t.call(e,s,i,this)},this)},this)};ie.ta=function(){yr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const s=t[i];for(let r=0;r<s.length;r++)n.push(e[i])}return n};ie.Z=function(t){yr(this);let e=[];if(typeof t=="string")KI(this,t)&&(e=e.concat(this.g.get(Aa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ie.set=function(t,e){return yr(this),this.i=null,t=Aa(this,t),KI(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ie.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function GI(t,e,n){WI(t,e),0<n.length&&(t.i=null,t.g.set(Aa(t,e),zp(n)),t.h+=n.length)}ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const r=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var s=r;o[i]!==""&&(s+="="+encodeURIComponent(String(o[i]))),t.push(s)}}return this.i=t.join("&")};function Aa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function xM(t,e){e&&!t.j&&(yr(t),t.i=null,t.g.forEach(function(n,i){var s=i.toLowerCase();i!=s&&(WI(this,i),GI(this,s,n))},t)),t.j=e}var RM=class{constructor(t,e){this.g=t,this.map=e}};function YI(t){this.l=t||PM,Ne.PerformanceNavigationTiming?(t=Ne.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ne.g&&Ne.g.Ka&&Ne.g.Ka()&&Ne.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var PM=10;function QI(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function XI(t){return t.h?1:t.g?t.g.size:0}function lg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function nv(t,e){t.g?t.g.add(e):t.h=e}function JI(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}YI.prototype.cancel=function(){if(this.i=ZI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function ZI(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return zp(t.i)}var NM=class{stringify(t){return Ne.JSON.stringify(t,void 0)}parse(t){return Ne.JSON.parse(t,void 0)}};function DM(){this.g=new NM}function OM(t,e,n){const i=n||"";try{HI(t,function(s,r){let o=s;Rc(s)&&(o=Yp(s)),e.push(i+r+"="+encodeURIComponent(o))})}catch(s){throw e.push(i+"type="+encodeURIComponent("_badmap")),s}}function MM(t,e){const n=new wh;if(Ne.Image){const i=new Image;i.onload=cu(du,n,i,"TestLoadImage: loaded",!0,e),i.onerror=cu(du,n,i,"TestLoadImage: error",!1,e),i.onabort=cu(du,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=cu(du,n,i,"TestLoadImage: timeout",!1,e),Ne.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function du(t,e,n,i,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(i)}catch{}}function Lc(t){this.l=t.fc||null,this.j=t.ob||!1}nn(Lc,Zp);Lc.prototype.g=function(){return new Th(this.l,this.j)};Lc.prototype.i=function(t){return function(){return t}}({});function Th(t,e){tn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=iv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nn(Th,tn);var iv=0;ie=Th.prototype;ie.open=function(t,e){if(this.readyState!=iv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Gl(this)};ie.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ne).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fc(this)),this.readyState=iv};ie.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Gl(this)),this.g&&(this.readyState=3,Gl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ne.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;eS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function eS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ie.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Fc(this):Gl(this),this.readyState==3&&eS(this)}};ie.Za=function(t){this.g&&(this.response=this.responseText=t,Fc(this))};ie.Ya=function(t){this.g&&(this.response=t,Fc(this))};ie.ka=function(){this.g&&Fc(this)};function Fc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Gl(t)}ie.setRequestHeader=function(t,e){this.v.append(t,e)};ie.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ie.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Gl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Th.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var LM=Ne.JSON.parse;function xt(t){tn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=tS,this.L=this.M=!1}nn(xt,tn);var tS="",FM=/^https?$/i,VM=["POST","PUT"];ie=xt.prototype;ie.Oa=function(t){this.M=t};ie.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():sg.g(),this.C=this.u?kw(this.u):kw(sg),this.g.onreadystatechange=yn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(r){Rw(this,r);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const r of i.keys())n.set(r,i.get(r));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(r=>r.toLowerCase()=="content-type"),s=Ne.FormData&&t instanceof Ne.FormData,!(0<=yI(VM,e))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,o]of n)this.g.setRequestHeader(r,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{sS(this),0<this.B&&((this.L=BM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yn(this.ua,this)):this.A=Jp(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(r){Rw(this,r)}};function BM(t){return na&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ie.ua=function(){typeof $p<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,un(this,"timeout"),this.abort(8))};function Rw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,nS(t),kh(t)}function nS(t){t.F||(t.F=!0,un(t,"complete"),un(t,"error"))}ie.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,un(this,"complete"),un(this,"abort"),kh(this))};ie.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kh(this,!0)),xt.$.N.call(this)};ie.La=function(){this.s||(this.G||this.v||this.l?iS(this):this.kb())};ie.kb=function(){iS(this)};function iS(t){if(t.h&&typeof $p<"u"&&(!t.C[1]||Li(t)!=4||t.da()!=2)){if(t.v&&Li(t)==4)Jp(t.La,0,t);else if(un(t,"readystatechange"),Li(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=o===0){var s=String(t.I).match(qI)[1]||null;!s&&Ne.self&&Ne.self.location&&(s=Ne.self.location.protocol.slice(0,-1)),i=!FM.test(s?s.toLowerCase():"")}n=i}if(n)un(t,"complete"),un(t,"success");else{t.m=6;try{var r=2<Li(t)?t.g.statusText:""}catch{r=""}t.j=r+" ["+t.da()+"]",nS(t)}}finally{kh(t)}}}}function kh(t,e){if(t.g){sS(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||un(t,"ready");try{n.onreadystatechange=i}catch{}}}function sS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ne.clearTimeout(t.A),t.A=null)}ie.isActive=function(){return!!this.g};function Li(t){return t.g?t.g.readyState:0}ie.da=function(){try{return 2<Li(this)?this.g.status:-1}catch{return-1}};ie.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ie.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),LM(e)}};function Pw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case tS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function UM(t){const e={};t=(t.g&&2<=Li(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if($l(t[i]))continue;var n=dM(t[i]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const r=e[s]||[];e[s]=r,r.push(n)}sM(e,function(i){return i.join(", ")})}ie.Ia=function(){return this.m};ie.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function rS(t){let e="";return Hp(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function sv(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=rS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):vt(t,e,n))}function Xa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function oS(t){this.Ga=0,this.j=[],this.l=new wh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xa("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xa("baseRetryDelayMs",5e3,t),this.hb=Xa("retryDelaySeedMs",1e4,t),this.eb=Xa("forwardChannelMaxRetries",2,t),this.xa=Xa("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new YI(t&&t.concurrentRequestLimit),this.Ja=new DM,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ie=oS.prototype;ie.ra=8;ie.H=1;function rv(t){if(aS(t),t.H==3){var e=t.W++,n=ys(t.I);if(vt(n,"SID",t.K),vt(n,"RID",e),vt(n,"TYPE","terminate"),Vc(t,n),e=new Oc(t,t.l,e),e.L=2,e.v=Sh(ys(n)),n=!1,Ne.navigator&&Ne.navigator.sendBeacon)try{n=Ne.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ne.Image&&(new Image().src=e.v,n=!0),n||(e.g=gS(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Mc(e)}fS(t)}function Ah(t){t.g&&(av(t),t.g.cancel(),t.g=null)}function aS(t){Ah(t),t.u&&(Ne.clearTimeout(t.u),t.u=null),gd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ne.clearTimeout(t.m),t.m=null)}function xh(t){if(!QI(t.i)&&!t.m){t.m=!0;var e=t.Na;jl||RI(),Hl||(jl(),Hl=!0),Qp.add(e,t),t.C=0}}function $M(t,e){return XI(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Nc(yn(t.Na,t,e),hS(t,t.C)),t.C++,!0)}ie.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Oc(this,this.l,t);let r=this.s;if(this.U&&(r?(r=EI(r),CI(r,this.U)):r=this.U),this.o!==null||this.O||(s.I=r,r=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=lS(this,s,e),n=ys(this.I),vt(n,"RID",t),vt(n,"CVER",22),this.F&&vt(n,"X-HTTP-Session-Id",this.F),Vc(this,n),r&&(this.O?e="headers="+encodeURIComponent(String(rS(r)))+"&"+e:this.o&&sv(n,this.o,r)),nv(this.i,s),this.bb&&vt(n,"TYPE","init"),this.P?(vt(n,"$req",e),vt(n,"SID","null"),s.aa=!0,og(s,n,null)):og(s,n,e),this.H=2}}else this.H==3&&(t?Nw(this,t):this.j.length==0||QI(this.i)||Nw(this))};function Nw(t,e){var n;e?n=e.m:n=t.W++;const i=ys(t.I);vt(i,"SID",t.K),vt(i,"RID",n),vt(i,"AID",t.V),Vc(t,i),t.o&&t.s&&sv(i,t.o,t.s),n=new Oc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=lS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),nv(t.i,n),og(n,i,e)}function Vc(t,e){t.na&&Hp(t.na,function(n,i){vt(e,i,n)}),t.h&&HI({},function(n,i){vt(e,i,n)})}function lS(t,e,n){n=Math.min(t.j.length,n);var i=t.h?yn(t.h.Va,t.h,t):null;e:{var s=t.j;let r=-1;for(;;){const o=["count="+n];r==-1?0<n?(r=s[0].g,o.push("ofs="+r)):r=0:o.push("ofs="+r);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=r,0>c)r=Math.max(0,s[l].g-100),a=!1;else try{OM(u,o,"req"+c+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function cS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;jl||RI(),Hl||(jl(),Hl=!0),Qp.add(e,t),t.A=0}}function ov(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Nc(yn(t.Ma,t),hS(t,t.A)),t.A++,!0)}ie.Ma=function(){if(this.u=null,uS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Nc(yn(this.jb,this),t)}};ie.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,An(10),Ah(this),uS(this))};function av(t){t.B!=null&&(Ne.clearTimeout(t.B),t.B=null)}function uS(t){t.g=new Oc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ys(t.wa);vt(e,"RID","rpc"),vt(e,"SID",t.K),vt(e,"AID",t.V),vt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&vt(e,"TO",t.qa),vt(e,"TYPE","xmlhttp"),Vc(t,e),t.o&&t.s&&sv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Sh(ys(e)),n.s=null,n.S=!0,UI(n,t)}ie.ib=function(){this.v!=null&&(this.v=null,Ah(this),ov(this),An(19))};function gd(t){t.v!=null&&(Ne.clearTimeout(t.v),t.v=null)}function dS(t,e){var n=null;if(t.g==e){gd(t),av(t),t.g=null;var i=2}else if(lg(t.i,e))n=e.F,JI(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;i=bh(),un(i,new LI(i,n)),xh(t)}else cS(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(i==1&&$M(t,e)||i==2&&ov(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Pr(t,5);break;case 4:Pr(t,10);break;case 3:Pr(t,6);break;default:Pr(t,2)}}}function hS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Pr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=yn(t.pb,t);n||(n=new Ur("//www.google.com/images/cleardot.gif"),Ne.location&&Ne.location.protocol=="http"||fd(n,"https"),Sh(n)),MM(n.toString(),i)}else An(2);t.H=0,t.h&&t.h.za(e),fS(t),aS(t)}ie.pb=function(t){t?(this.l.info("Successfully pinged google.com"),An(2)):(this.l.info("Failed to ping google.com"),An(1))};function fS(t){if(t.H=0,t.ma=[],t.h){const e=ZI(t.i);(e.length!=0||t.j.length!=0)&&(Ew(t.ma,e),Ew(t.ma,t.j),t.i.i.length=0,zp(t.j),t.j.length=0),t.h.ya()}}function mS(t,e,n){var i=n instanceof Ur?ys(n):new Ur(n);if(i.g!="")e&&(i.g=e+"."+i.g),md(i,i.m);else{var s=Ne.location;i=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var r=new Ur(null);i&&fd(r,i),e&&(r.g=e),s&&md(r,s),n&&(r.l=n),i=r}return n=t.F,e=t.Da,n&&e&&vt(i,n,e),vt(i,"VER",t.ra),Vc(t,i),i}function gS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new xt(new Lc({ob:!0})):new xt(t.va),e.Oa(t.J),e}ie.isActive=function(){return!!this.h&&this.h.isActive(this)};function pS(){}ie=pS.prototype;ie.Ba=function(){};ie.Aa=function(){};ie.za=function(){};ie.ya=function(){};ie.isActive=function(){return!0};ie.Va=function(){};function pd(){if(na&&!(10<=Number(eM)))throw Error("Environmental error: no available transport.")}pd.prototype.g=function(t,e){return new Yn(t,e)};function Yn(t,e){tn.call(this),this.g=new oS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!$l(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$l(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new xa(this)}nn(Yn,tn);Yn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;An(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=mS(t,null,t.Y),xh(t)};Yn.prototype.close=function(){rv(this.g)};Yn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Yp(t),t=n);e.j.push(new RM(e.fb++,t)),e.H==3&&xh(e)};Yn.prototype.N=function(){this.g.h=null,delete this.j,rv(this.g),delete this.g,Yn.$.N.call(this)};function vS(t){ev.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}nn(vS,ev);function yS(){tv.call(this),this.status=1}nn(yS,tv);function xa(t){this.g=t}nn(xa,pS);xa.prototype.Ba=function(){un(this.g,"a")};xa.prototype.Aa=function(t){un(this.g,new vS(t))};xa.prototype.za=function(t){un(this.g,new yS)};xa.prototype.ya=function(){un(this.g,"b")};function zM(){this.blockSize=-1}function Ii(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}nn(Ii,zM);Ii.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Jf(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)i[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)i[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var r=t.g[3],o=e+(r^n&(s^r))+i[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=r+(s^e&(n^s))+i[1]+3905402710&4294967295,r=e+(o<<12&4294967295|o>>>20),o=s+(n^r&(e^n))+i[2]+606105819&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(e^s&(r^e))+i[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(r^n&(s^r))+i[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=r+(s^e&(n^s))+i[5]+1200080426&4294967295,r=e+(o<<12&4294967295|o>>>20),o=s+(n^r&(e^n))+i[6]+2821735955&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(e^s&(r^e))+i[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(r^n&(s^r))+i[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=r+(s^e&(n^s))+i[9]+2336552879&4294967295,r=e+(o<<12&4294967295|o>>>20),o=s+(n^r&(e^n))+i[10]+4294925233&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(e^s&(r^e))+i[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(r^n&(s^r))+i[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=r+(s^e&(n^s))+i[13]+4254626195&4294967295,r=e+(o<<12&4294967295|o>>>20),o=s+(n^r&(e^n))+i[14]+2792965006&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(e^s&(r^e))+i[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^r&(n^s))+i[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(e^n))+i[6]+3225465664&4294967295,r=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(r^e))+i[11]+643717713&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(s^r))+i[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^r&(n^s))+i[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(e^n))+i[10]+38016083&4294967295,r=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(r^e))+i[15]+3634488961&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(s^r))+i[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^r&(n^s))+i[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(e^n))+i[14]+3275163606&4294967295,r=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(r^e))+i[3]+4107603335&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(s^r))+i[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^r&(n^s))+i[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(e^n))+i[2]+4243563512&4294967295,r=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(r^e))+i[7]+1735328473&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(s^r))+i[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^r)+i[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^s)+i[8]+2272392833&4294967295,r=e+(o<<11&4294967295|o>>>21),o=s+(r^e^n)+i[11]+1839030562&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^e)+i[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^r)+i[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^s)+i[4]+1272893353&4294967295,r=e+(o<<11&4294967295|o>>>21),o=s+(r^e^n)+i[7]+4139469664&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^e)+i[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^r)+i[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^s)+i[0]+3936430074&4294967295,r=e+(o<<11&4294967295|o>>>21),o=s+(r^e^n)+i[3]+3572445317&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^e)+i[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^r)+i[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^s)+i[12]+3873151461&4294967295,r=e+(o<<11&4294967295|o>>>21),o=s+(r^e^n)+i[15]+530742520&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^e)+i[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~r))+i[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~s))+i[7]+1126891415&4294967295,r=e+(o<<10&4294967295|o>>>22),o=s+(e^(r|~n))+i[14]+2878612391&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~e))+i[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~r))+i[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~s))+i[3]+2399980690&4294967295,r=e+(o<<10&4294967295|o>>>22),o=s+(e^(r|~n))+i[10]+4293915773&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~e))+i[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~r))+i[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~s))+i[15]+4264355552&4294967295,r=e+(o<<10&4294967295|o>>>22),o=s+(e^(r|~n))+i[6]+2734768916&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~e))+i[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~r))+i[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~s))+i[11]+3174756917&4294967295,r=e+(o<<10&4294967295|o>>>22),o=s+(e^(r|~n))+i[2]+718787259&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+r&4294967295}Ii.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,s=this.h,r=0;r<e;){if(s==0)for(;r<=n;)Jf(this,t,r),r+=this.blockSize;if(typeof t=="string"){for(;r<e;)if(i[s++]=t.charCodeAt(r++),s==this.blockSize){Jf(this,i),s=0;break}}else for(;r<e;)if(i[s++]=t[r++],s==this.blockSize){Jf(this,i),s=0;break}}this.h=s,this.i+=e};Ii.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function ot(t,e){this.h=e;for(var n=[],i=!0,s=t.length-1;0<=s;s--){var r=t[s]|0;i&&r==e||(n[s]=r,i=!1)}this.g=n}var jM={};function lv(t){return-128<=t&&128>t?XO(t,function(e){return new ot([e|0],0>e?-1:0)}):new ot([t|0],0>t?-1:0)}function Fi(t){if(isNaN(t)||!isFinite(t))return $o;if(0>t)return on(Fi(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=cg;return new ot(e,0)}function _S(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return on(_S(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Fi(Math.pow(e,8)),i=$o,s=0;s<t.length;s+=8){var r=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+r),e);8>r?(r=Fi(Math.pow(e,r)),i=i.R(r).add(Fi(o))):(i=i.R(n),i=i.add(Fi(o)))}return i}var cg=4294967296,$o=lv(0),ug=lv(1),Dw=lv(16777216);ie=ot.prototype;ie.ea=function(){if(ti(this))return-on(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:cg+i)*e,e*=cg}return t};ie.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ds(this))return"0";if(ti(this))return"-"+on(this).toString(t);for(var e=Fi(Math.pow(t,6)),n=this,i="";;){var s=yd(n,e).g;n=vd(n,s.R(e));var r=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,ds(n))return r+i;for(;6>r.length;)r="0"+r;i=r+i}};ie.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ds(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function ti(t){return t.h==-1}ie.X=function(t){return t=vd(this,t),ti(t)?-1:ds(t)?0:1};function on(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new ot(n,~t.h).add(ug)}ie.abs=function(){return ti(this)?on(this):this};ie.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,s=0;s<=e;s++){var r=i+(this.D(s)&65535)+(t.D(s)&65535),o=(r>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);i=o>>>16,r&=65535,o&=65535,n[s]=o<<16|r}return new ot(n,n[n.length-1]&-2147483648?-1:0)};function vd(t,e){return t.add(on(e))}ie.R=function(t){if(ds(this)||ds(t))return $o;if(ti(this))return ti(t)?on(this).R(on(t)):on(on(this).R(t));if(ti(t))return on(this.R(on(t)));if(0>this.X(Dw)&&0>t.X(Dw))return Fi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<t.g.length;s++){var r=this.D(i)>>>16,o=this.D(i)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*i+2*s]+=o*l,hu(n,2*i+2*s),n[2*i+2*s+1]+=r*l,hu(n,2*i+2*s+1),n[2*i+2*s+1]+=o*a,hu(n,2*i+2*s+1),n[2*i+2*s+2]+=r*a,hu(n,2*i+2*s+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new ot(n,0)};function hu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ja(t,e){this.g=t,this.h=e}function yd(t,e){if(ds(e))throw Error("division by zero");if(ds(t))return new Ja($o,$o);if(ti(t))return e=yd(on(t),e),new Ja(on(e.g),on(e.h));if(ti(e))return e=yd(t,on(e)),new Ja(on(e.g),e.h);if(30<t.g.length){if(ti(t)||ti(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ug,i=e;0>=i.X(t);)n=Ow(n),i=Ow(i);var s=Eo(n,1),r=Eo(i,1);for(i=Eo(i,2),n=Eo(n,2);!ds(i);){var o=r.add(i);0>=o.X(t)&&(s=s.add(n),r=o),i=Eo(i,1),n=Eo(n,1)}return e=vd(t,s.R(e)),new Ja(s,e)}for(s=$o;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),r=Fi(n),o=r.R(e);ti(o)||0<o.X(t);)n-=i,r=Fi(n),o=r.R(e);ds(r)&&(r=ug),s=s.add(r),t=vd(t,o)}return new Ja(s,t)}ie.gb=function(t){return yd(this,t).h};ie.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new ot(n,this.h&t.h)};ie.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new ot(n,this.h|t.h)};ie.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new ot(n,this.h^t.h)};function Ow(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new ot(n,t.h)}function Eo(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,s=[],r=0;r<i;r++)s[r]=0<e?t.D(r+n)>>>e|t.D(r+n+1)<<32-e:t.D(r+n);return new ot(s,t.h)}pd.prototype.createWebChannel=pd.prototype.g;Yn.prototype.send=Yn.prototype.u;Yn.prototype.open=Yn.prototype.m;Yn.prototype.close=Yn.prototype.close;Eh.NO_ERROR=0;Eh.TIMEOUT=8;Eh.HTTP_ERROR=6;FI.COMPLETE="complete";VI.EventType=Dc;Dc.OPEN="a";Dc.CLOSE="b";Dc.ERROR="c";Dc.MESSAGE="d";tn.prototype.listen=tn.prototype.O;xt.prototype.listenOnce=xt.prototype.P;xt.prototype.getLastError=xt.prototype.Sa;xt.prototype.getLastErrorCode=xt.prototype.Ia;xt.prototype.getStatus=xt.prototype.da;xt.prototype.getResponseJson=xt.prototype.Wa;xt.prototype.getResponseText=xt.prototype.ja;xt.prototype.send=xt.prototype.ha;xt.prototype.setWithCredentials=xt.prototype.Oa;Ii.prototype.digest=Ii.prototype.l;Ii.prototype.reset=Ii.prototype.reset;Ii.prototype.update=Ii.prototype.j;ot.prototype.add=ot.prototype.add;ot.prototype.multiply=ot.prototype.R;ot.prototype.modulo=ot.prototype.gb;ot.prototype.compare=ot.prototype.X;ot.prototype.toNumber=ot.prototype.ea;ot.prototype.toString=ot.prototype.toString;ot.prototype.getBits=ot.prototype.D;ot.fromNumber=Fi;ot.fromString=_S;var HM=function(){return new pd},qM=function(){return bh()},Zf=Eh,WM=FI,KM=co,Mw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},GM=Lc,fu=VI,YM=xt,QM=Ii,zo=ot;const Lw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ra="9.22.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new Ic("@firebase/firestore");function Fw(){return Xr.logLevel}function fe(t,...e){if(Xr.logLevel<=Qe.DEBUG){const n=e.map(cv);Xr.debug(`Firestore (${Ra}): ${t}`,...n)}}function _s(t,...e){if(Xr.logLevel<=Qe.ERROR){const n=e.map(cv);Xr.error(`Firestore (${Ra}): ${t}`,...n)}}function ia(t,...e){if(Xr.logLevel<=Qe.WARN){const n=e.map(cv);Xr.warn(`Firestore (${Ra}): ${t}`,...n)}}function cv(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t="Unexpected state"){const e=`FIRESTORE (${Ra}) INTERNAL ASSERTION FAILED: `+t;throw _s(e),new Error(e)}function _t(t,e){t||Re()}function Ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(hn.UNAUTHENTICATED))}shutdown(){}}class JM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ZM{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let r=new Ys;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Ys,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=r;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Ys)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(_t(typeof i.accessToken=="string"),new wS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string"),new hn(e)}}class eL{constructor(e,n,i){this.h=e,this.l=n,this.m=i,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class tL{constructor(e,n,i){this.h=e,this.l=n,this.m=i}getToken(){return Promise.resolve(new eL(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iL{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const i=r=>{r.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.T;return this.T=r.token,fe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.I.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.I.getImmediate({optional:!0});r?s(r):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_t(typeof n.token=="string"),this.T=n.token,new nL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=sL(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=e.charAt(s[r]%e.length))}return i}}function Je(t,e){return t<e?-1:t>e?1:0}function sa(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new le(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new $t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Me(e)}static min(){return new Me(new $t(0,0))}static max(){return new Me(new $t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n,i){n===void 0?n=0:n>e.length&&Re(),i===void 0?i=e.length-n:i>e.length-n&&Re(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Yl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yl?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const r=e.get(s),o=n.get(s);if(r<o)return-1;if(r>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class yt extends Yl{construct(e,n,i){return new yt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new le(z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new yt(n)}static emptyPath(){return new yt([])}}const rL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends Yl{construct(e,n,i){return new gn(e,n,i)}static isValidIdentifier(e){return rL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new gn(["__name__"])}static fromServerFormat(e){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new le(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new le(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new le(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(i+=a,s++):(r(),s++)}if(r(),o)throw new le(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(n)}static emptyPath(){return new gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(yt.fromString(e))}static fromName(e){return new ve(yt.fromString(e).popFirst(5))}static empty(){return new ve(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new yt(e.slice()))}}function oL(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Me.fromTimestamp(i===1e9?new $t(n+1,0):new $t(n,i));return new rr(s,ve.empty(),e)}function aL(t){return new rr(t.readTime,t.key,-1)}class rr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new rr(Me.min(),ve.empty(),-1)}static max(){return new rr(Me.max(),ve.empty(),-1)}}function lL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==cL)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,i)=>{n(e)})}static reject(e){return new K((n,i)=>{i(e)})}static waitFor(e){return new K((n,i)=>{let s=0,r=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++r,o&&r===s&&n()},l=>i(l))}),o=!0,r===s&&n()})}static or(e){let n=K.resolve(!1);for(const i of e)n=n.next(s=>s?K.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(e,n){return new K((i,s)=>{const r=e.length,o=new Array(r);let a=0;for(let l=0;l<r;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===r&&i(o)},u=>s(u))}})}static doWhile(e,n){return new K((i,s)=>{const r=()=>{e()===!0?n().next(()=>{r()},s):i()};r()})}}function Uc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>n.writeSequenceNumber(i))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}uv.ct=-1;function Rh(t){return t==null}function _d(t){return t===0&&1/t==-1/0}function dL(t){return typeof t=="number"&&Number.isInteger(t)&&!_d(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function uo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ES(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new It(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mu(this.root,e,this.comparator,!1)}getReverseIterator(){return new mu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mu(this.root,e,this.comparator,!0)}}class mu{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?i(e.key,n):1,n&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??rn.RED,this.left=s??rn.EMPTY,this.right=r??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,r){return new rn(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return rn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(t,e,n,i,s){return this}insert(t,e,n){return new rn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bw(this.data.getIterator())}getIteratorFrom(e){return new Bw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wn(this.comparator);return n.data=e,n}}class Bw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new Hn([])}unionWith(e){let n=new wn(gn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sa(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new CS("Invalid base64 string: "+s):s}}(e);return new Cn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let r=0;r<i.length;++r)s+=String.fromCharCode(i[r]);return s}(e);return new Cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cn.EMPTY_BYTE_STRING=new Cn("");const hL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function or(t){if(_t(!!t),typeof t=="string"){let e=0;const n=hL.exec(t);if(_t(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Jr(t){return typeof t=="string"?Cn.fromBase64String(t):Cn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function hv(t){const e=t.mapValue.fields.__previous_value__;return dv(e)?hv(e):e}function Ql(t){const e=or(t.mapValue.fields.__local_write_time__.timestampValue);return new $t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e,n,i,s,r,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Xl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Xl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dv(t)?4:mL(t)?9007199254740991:10:Re()}function ji(t,e){if(t===e)return!0;const n=Zr(t);if(n!==Zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ql(t).isEqual(Ql(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const r=or(i.timestampValue),o=or(s.timestampValue);return r.seconds===o.seconds&&r.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Jr(i.bytesValue).isEqual(Jr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Vt(i.geoPointValue.latitude)===Vt(s.geoPointValue.latitude)&&Vt(i.geoPointValue.longitude)===Vt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Vt(i.integerValue)===Vt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const r=Vt(i.doubleValue),o=Vt(s.doubleValue);return r===o?_d(r)===_d(o):isNaN(r)&&isNaN(o)}return!1}(t,e);case 9:return sa(t.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:return function(i,s){const r=i.mapValue.fields||{},o=s.mapValue.fields||{};if(Vw(r)!==Vw(o))return!1;for(const a in r)if(r.hasOwnProperty(a)&&(o[a]===void 0||!ji(r[a],o[a])))return!1;return!0}(t,e);default:return Re()}}function Jl(t,e){return(t.values||[]).find(n=>ji(n,e))!==void 0}function ra(t,e){if(t===e)return 0;const n=Zr(t),i=Zr(e);if(n!==i)return Je(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return function(s,r){const o=Vt(s.integerValue||s.doubleValue),a=Vt(r.integerValue||r.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Uw(t.timestampValue,e.timestampValue);case 4:return Uw(Ql(t),Ql(e));case 5:return Je(t.stringValue,e.stringValue);case 6:return function(s,r){const o=Jr(s),a=Jr(r);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,r){const o=s.split("/"),a=r.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=Je(o[l],a[l]);if(c!==0)return c}return Je(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,r){const o=Je(Vt(s.latitude),Vt(r.latitude));return o!==0?o:Je(Vt(s.longitude),Vt(r.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,r){const o=s.values||[],a=r.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=ra(o[l],a[l]);if(c)return c}return Je(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,r){if(s===gu.mapValue&&r===gu.mapValue)return 0;if(s===gu.mapValue)return 1;if(r===gu.mapValue)return-1;const o=s.fields||{},a=Object.keys(o),l=r.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=Je(a[u],c[u]);if(d!==0)return d;const h=ra(o[a[u]],l[c[u]]);if(h!==0)return h}return Je(a.length,c.length)}(t.mapValue,e.mapValue);default:throw Re()}}function Uw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=or(t),i=or(e),s=Je(n.seconds,i.seconds);return s!==0?s:Je(n.nanos,i.nanos)}function oa(t){return dg(t)}function dg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){const s=or(i);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Jr(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ve.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(i){let s="[",r=!0;for(const o of i.values||[])r?r=!1:s+=",",s+=dg(o);return s+"]"}(t.arrayValue):"mapValue"in t?function(i){const s=Object.keys(i.fields||{}).sort();let r="{",o=!0;for(const a of s)o?o=!1:r+=",",r+=`${a}:${dg(i.fields[a])}`;return r+"}"}(t.mapValue):Re();var e,n}function $w(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hg(t){return!!t&&"integerValue"in t}function fv(t){return!!t&&"arrayValue"in t}function zw(t){return!!t&&"nullValue"in t}function jw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zu(t){return!!t&&"mapValue"in t}function bl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return uo(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=bl(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function mL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!zu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bl(n)}setAll(e){let n=gn.emptyPath(),i={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,s),i={},s=[],n=a.popLast()}o?i[a.lastSegment()]=bl(o):s.push(a.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(e){const n=this.field(e.popLast());zu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];zu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){uo(n,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new Pn(bl(this.value))}}function IS(t){const e=[];return uo(t.fields,(n,i)=>{const s=new gn([n]);if(zu(i)){const r=IS(i.mapValue).fields;if(r.length===0)e.push(s);else for(const o of r)e.push(s.child(o))}else e.push(s)}),new Hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,i,s,r,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=o,this.documentState=a}static newInvalidDocument(e){return new mn(e,0,Me.min(),Me.min(),Me.min(),Pn.empty(),0)}static newFoundDocument(e,n,i,s){return new mn(e,1,n,Me.min(),i,s,0)}static newNoDocument(e,n){return new mn(e,2,n,Me.min(),Me.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,Me.min(),Me.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n){this.position=e,this.inclusive=n}}function Hw(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const r=e[s],o=t.position[s];if(r.field.isKeyField()?i=ve.comparator(ve.fromName(o.referenceValue),n.key):i=ra(o,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function qw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ji(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n="asc"){this.field=e,this.dir=n}}function gL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{}class Ut extends SS{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new vL(e,n,i):n==="array-contains"?new wL(e,i):n==="in"?new bL(e,i):n==="not-in"?new EL(e,i):n==="array-contains-any"?new CL(e,i):new Ut(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new yL(e,i):new _L(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ra(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(ra(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Si extends SS{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Si(e,n)}matches(e){return TS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function TS(t){return t.op==="and"}function kS(t){return pL(t)&&TS(t)}function pL(t){for(const e of t.filters)if(e instanceof Si)return!1;return!0}function fg(t){if(t instanceof Ut)return t.field.canonicalString()+t.op.toString()+oa(t.value);if(kS(t))return t.filters.map(e=>fg(e)).join(",");{const e=t.filters.map(n=>fg(n)).join(",");return`${t.op}(${e})`}}function AS(t,e){return t instanceof Ut?function(n,i){return i instanceof Ut&&n.op===i.op&&n.field.isEqual(i.field)&&ji(n.value,i.value)}(t,e):t instanceof Si?function(n,i){return i instanceof Si&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,r,o)=>s&&AS(r,i.filters[o]),!0):!1}(t,e):void Re()}function xS(t){return t instanceof Ut?function(e){return`${e.field.canonicalString()} ${e.op} ${oa(e.value)}`}(t):t instanceof Si?function(e){return e.op.toString()+" {"+e.getFilters().map(xS).join(" ,")+"}"}(t):"Filter"}class vL extends Ut{constructor(e,n,i){super(e,n,i),this.key=ve.fromName(i.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class yL extends Ut{constructor(e,n){super(e,"in",n),this.keys=RS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _L extends Ut{constructor(e,n){super(e,"not-in",n),this.keys=RS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function RS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ve.fromName(i.referenceValue))}class wL extends Ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fv(n)&&Jl(n.arrayValue,this.value)}}class bL extends Ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class EL extends Ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Jl(this.value.arrayValue,n)}}class CL extends Ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Jl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,n=null,i=[],s=[],r=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=o,this.endAt=a,this.dt=null}}function Ww(t,e=null,n=[],i=[],s=null,r=null,o=null){return new IL(t,e,n,i,s,r,o)}function mv(t){const e=Ve(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>fg(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Rh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>oa(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>oa(i)).join(",")),e.dt=n}return e.dt}function gv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!gL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qw(t.startAt,e.startAt)&&qw(t.endAt,e.endAt)}function mg(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n=null,i=[],s=[],r=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function SL(t,e,n,i,s,r,o,a){return new $c(t,e,n,i,s,r,o,a)}function pv(t){return new $c(t)}function Kw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function PS(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function vv(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function NS(t){return t.collectionGroup!==null}function jo(t){const e=Ve(t);if(e.wt===null){e.wt=[];const n=vv(e),i=PS(e);if(n!==null&&i===null)n.isKeyField()||e.wt.push(new El(n)),e.wt.push(new El(gn.keyField(),"asc"));else{let s=!1;for(const r of e.explicitOrderBy)e.wt.push(r),r.field.isKeyField()&&(s=!0);if(!s){const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new El(gn.keyField(),r))}}}return e.wt}function ws(t){const e=Ve(t);if(!e._t)if(e.limitType==="F")e._t=Ww(e.path,e.collectionGroup,jo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const r of jo(e)){const o=r.dir==="desc"?"asc":"desc";n.push(new El(r.field,o))}const i=e.endAt?new wd(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new wd(e.startAt.position,e.startAt.inclusive):null;e._t=Ww(e.path,e.collectionGroup,n,e.filters,e.limit,i,s)}return e._t}function gg(t,e){e.getFirstInequalityField(),vv(t);const n=t.filters.concat([e]);return new $c(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function pg(t,e,n){return new $c(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ph(t,e){return gv(ws(t),ws(e))&&t.limitType===e.limitType}function DS(t){return`${mv(ws(t))}|lt:${t.limitType}`}function vg(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(i=>xS(i)).join(", ")}]`),Rh(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>oa(i)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>oa(i)).join(",")),`Target(${n})`}(ws(t))}; limitType=${t.limitType})`}function Nh(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):ve.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of jo(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,r,o){const a=Hw(s,r,o);return s.inclusive?a<=0:a<0}(n.startAt,jo(n),i)||n.endAt&&!function(s,r,o){const a=Hw(s,r,o);return s.inclusive?a>=0:a>0}(n.endAt,jo(n),i))}(t,e)}function TL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OS(t){return(e,n)=>{let i=!1;for(const s of jo(t)){const r=kL(s,e,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function kL(t,e,n){const i=t.field.isKeyField()?ve.comparator(e.key,n.key):function(s,r,o){const a=r.data.field(s),l=o.data.field(s);return a!==null&&l!==null?ra(a,l):Re()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){uo(this.inner,(n,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return ES(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=new It(ve.comparator);function bs(){return AL}const MS=new It(ve.comparator);function fl(...t){let e=MS;for(const n of t)e=e.insert(n.key,n);return e}function LS(t){let e=MS;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Nr(){return Cl()}function FS(){return Cl()}function Cl(){return new Pa(t=>t.toString(),(t,e)=>t.isEqual(e))}const xL=new It(ve.comparator),RL=new wn(ve.comparator);function We(...t){let e=RL;for(const n of t)e=e.add(n);return e}const PL=new wn(Je);function NL(){return PL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_d(e)?"-0":e}}function BS(t){return{integerValue:""+t}}function DL(t,e){return dL(e)?BS(e):VS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(){this._=void 0}}function OL(t,e,n){return t instanceof Zl?function(i,s){const r={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&dv(s)&&(s=hv(s)),s&&(r.fields.__previous_value__=s),{mapValue:r}}(n,e):t instanceof aa?$S(t,e):t instanceof ec?zS(t,e):function(i,s){const r=US(i,s),o=Gw(r)+Gw(i.gt);return hg(r)&&hg(i.gt)?BS(o):VS(i.serializer,o)}(t,e)}function ML(t,e,n){return t instanceof aa?$S(t,e):t instanceof ec?zS(t,e):n}function US(t,e){return t instanceof bd?hg(n=e)||function(i){return!!i&&"doubleValue"in i}(n)?e:{integerValue:0}:null;var n}class Zl extends Dh{}class aa extends Dh{constructor(e){super(),this.elements=e}}function $S(t,e){const n=jS(e);for(const i of t.elements)n.some(s=>ji(s,i))||n.push(i);return{arrayValue:{values:n}}}class ec extends Dh{constructor(e){super(),this.elements=e}}function zS(t,e){let n=jS(e);for(const i of t.elements)n=n.filter(s=>!ji(s,i));return{arrayValue:{values:n}}}class bd extends Dh{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Gw(t){return Vt(t.integerValue||t.doubleValue)}function jS(t){return fv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n){this.field=e,this.transform=n}}function LL(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof aa&&i instanceof aa||n instanceof ec&&i instanceof ec?sa(n.elements,i.elements,ji):n instanceof bd&&i instanceof bd?ji(n.gt,i.gt):n instanceof Zl&&i instanceof Zl}(t.transform,e.transform)}class FL{constructor(e,n){this.version=e,this.transformResults=n}}class si{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ju(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Oh{}function qS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yv(t.key,si.none()):new zc(t.key,t.data,si.none());{const n=t.data,i=Pn.empty();let s=new wn(gn.comparator);for(let r of e.fields)if(!s.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?i.delete(r):i.set(r,o),s=s.add(r)}return new _r(t.key,i,new Hn(s.toArray()),si.none())}}function VL(t,e,n){t instanceof zc?function(i,s,r){const o=i.value.clone(),a=Qw(i.fieldTransforms,s,r.transformResults);o.setAll(a),s.convertToFoundDocument(r.version,o).setHasCommittedMutations()}(t,e,n):t instanceof _r?function(i,s,r){if(!ju(i.precondition,s))return void s.convertToUnknownDocument(r.version);const o=Qw(i.fieldTransforms,s,r.transformResults),a=s.data;a.setAll(WS(i)),a.setAll(o),s.convertToFoundDocument(r.version,a).setHasCommittedMutations()}(t,e,n):function(i,s,r){s.convertToNoDocument(r.version).setHasCommittedMutations()}(0,e,n)}function Il(t,e,n,i){return t instanceof zc?function(s,r,o,a){if(!ju(s.precondition,r))return o;const l=s.value.clone(),c=Xw(s.fieldTransforms,a,r);return l.setAll(c),r.convertToFoundDocument(r.version,l).setHasLocalMutations(),null}(t,e,n,i):t instanceof _r?function(s,r,o,a){if(!ju(s.precondition,r))return o;const l=Xw(s.fieldTransforms,a,r),c=r.data;return c.setAll(WS(s)),c.setAll(l),r.convertToFoundDocument(r.version,c).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(u=>u.field))}(t,e,n,i):function(s,r,o){return ju(s.precondition,r)?(r.convertToNoDocument(r.version).setHasLocalMutations(),null):o}(t,e,n)}function BL(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),r=US(i.transform,s||null);r!=null&&(n===null&&(n=Pn.empty()),n.set(i.field,r))}return n||null}function Yw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&sa(n,i,(s,r)=>LL(s,r))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zc extends Oh{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class _r extends Oh{constructor(e,n,i,s,r=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function WS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Qw(t,e,n){const i=new Map;_t(t.length===n.length);for(let s=0;s<n.length;s++){const r=t[s],o=r.transform,a=e.data.field(r.field);i.set(r.field,ML(o,a,n[s]))}return i}function Xw(t,e,n){const i=new Map;for(const s of t){const r=s.transform,o=n.data.field(s.field);i.set(s.field,OL(r,o,e))}return i}class yv extends Oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UL extends Oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&VL(r,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Il(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Il(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=FS();return this.mutations.forEach(s=>{const r=e.get(s.key),o=r.overlayedDocument;let a=this.applyToLocalView(o,r.mutatedFields);a=n.has(s.key)?null:a;const l=qS(o,a);l!==null&&i.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Me.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),We())}isEqual(e){return this.batchId===e.batchId&&sa(this.mutations,e.mutations,(n,i)=>Yw(n,i))&&sa(this.baseMutations,e.baseMutations,(n,i)=>Yw(n,i))}}class _v{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){_t(e.mutations.length===i.length);let s=xL;const r=e.mutations;for(let o=0;o<r.length;o++)s=s.insert(r[o].key,i[o].version);return new _v(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,Ye;function HL(t){switch(t){default:return Re();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function KS(t){if(t===void 0)return _s("GRPC error has no .code"),z.UNKNOWN;switch(t){case Ft.OK:return z.OK;case Ft.CANCELLED:return z.CANCELLED;case Ft.UNKNOWN:return z.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return z.INTERNAL;case Ft.UNAVAILABLE:return z.UNAVAILABLE;case Ft.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Ft.NOT_FOUND:return z.NOT_FOUND;case Ft.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Ft.ABORTED:return z.ABORTED;case Ft.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Ft.DATA_LOSS:return z.DATA_LOSS;default:return Re()}}(Ye=Ft||(Ft={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return pu}static getOrCreateInstance(){return pu===null&&(pu=new wv),pu}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let pu=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=new zo([4294967295,4294967295],0);function Jw(t){const e=qL().encode(t),n=new QM;return n.update(e),new Uint8Array(n.digest())}function Zw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new zo([n,i],0),new zo([s,r],0)]}class bv{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ml(`Invalid padding: ${n}`);if(i<0)throw new ml(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ml(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ml(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=zo.fromNumber(this.It)}Et(e,n,i){let s=e.add(n.multiply(zo.fromNumber(i)));return s.compare(WL)===1&&(s=new zo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=Jw(e),[i,s]=Zw(n);for(let r=0;r<this.hashCount;r++){const o=this.Et(i,s,r);if(!this.At(o))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),o=new bv(r,s,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=Jw(e),[i,s]=Zw(n);for(let r=0;r<this.hashCount;r++){const o=this.Et(i,s,r);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n,i,s,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,jc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Mh(Me.min(),s,new It(Je),bs(),We())}}class jc{constructor(e,n,i,s,r){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new jc(i,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n,i,s){this.Pt=e,this.removedTargetIds=n,this.key=i,this.bt=s}}class GS{constructor(e,n){this.targetId=e,this.Vt=n}}class YS{constructor(e,n,i=Cn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class eb{constructor(){this.St=0,this.Dt=nb(),this.Ct=Cn.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=We(),n=We(),i=We();return this.Dt.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Re()}}),new jc(this.Ct,this.xt,e,n,i)}Ft(){this.Nt=!1,this.Dt=nb()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class KL{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=bs(),this.zt=tb(),this.Wt=new It(Je)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const i=this.Zt(n);switch(e.state){case 0:this.te(n)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(n);break;case 3:this.te(n)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),i.$t(e.resumeToken));break;default:Re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((i,s)=>{this.te(s)&&n(s)})}ne(e){var n;const i=e.targetId,s=e.Vt.count,r=this.se(i);if(r){const o=r.target;if(mg(o))if(s===0){const a=new ve(o.path);this.Yt(i,a,mn.newNoDocument(a,Me.min()))}else _t(s===1);else{const a=this.ie(i);if(a!==s){const l=this.re(e,a);if(l!==0){this.ee(i);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(i,c)}(n=wv.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,u,d){var h,m,g,p,v,E;const b={localCacheCount:u,existenceFilterCount:d.count},C=d.unchangedNames;return C&&(b.bloomFilter={applied:c===0,hashCount:(h=C==null?void 0:C.hashCount)!==null&&h!==void 0?h:0,bitmapLength:(p=(g=(m=C==null?void 0:C.bits)===null||m===void 0?void 0:m.bitmap)===null||g===void 0?void 0:g.length)!==null&&p!==void 0?p:0,padding:(E=(v=C==null?void 0:C.bits)===null||v===void 0?void 0:v.padding)!==null&&E!==void 0?E:0}),b}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:i,count:s}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=i;let l,c;try{l=Jr(r).toUint8Array()}catch(u){if(u instanceof CS)return ia("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new bv(l,o,a)}catch(u){return ia(u instanceof ml?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return c.It===0?1:s!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const i=this.Gt.getRemoteKeysForTarget(e);let s=0;return i.forEach(r=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;n.vt(a)||(this.Yt(e,r,null),s++)}),s}ce(e){const n=new Map;this.Qt.forEach((r,o)=>{const a=this.se(o);if(a){if(r.current&&mg(a.target)){const l=new ve(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,mn.newNoDocument(l,e))}r.Mt&&(n.set(o,r.Ot()),r.Ft())}});let i=We();this.zt.forEach((r,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.se(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(r))}),this.jt.forEach((r,o)=>o.setReadTime(e));const s=new Mh(e,n,this.Wt,this.jt,i);return this.jt=bs(),this.zt=tb(),this.Wt=new It(Je),s}Jt(e,n){if(!this.te(e))return;const i=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,i),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,i){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,n)?s.Bt(n,1):s.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),i&&(this.jt=this.jt.insert(n,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new eb,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new wn(Je),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new eb),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function tb(){return new It(ve.comparator)}function nb(){return new It(ve.comparator)}const GL=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),YL=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),QL=(()=>({and:"AND",or:"OR"}))();class XL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yg(t,e){return t.useProto3Json||Rh(e)?e:{value:e}}function Ed(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function JL(t,e){return Ed(t,e.toTimestamp())}function $i(t){return _t(!!t),Me.fromTimestamp(function(e){const n=or(e);return new $t(n.seconds,n.nanos)}(t))}function Ev(t,e){return function(n){return new yt(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function XS(t){const e=yt.fromString(t);return _t(tT(e)),e}function _g(t,e){return Ev(t.databaseId,e.path)}function em(t,e){const n=XS(e);if(n.get(1)!==t.databaseId.projectId)throw new le(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(JS(n))}function wg(t,e){return Ev(t.databaseId,e)}function ZL(t){const e=XS(t);return e.length===4?yt.emptyPath():JS(e)}function bg(t){return new yt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JS(t){return _t(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ib(t,e,n){return{name:_g(t,e),fields:n.value.mapValue.fields}}function eF(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(l,c){return l.useProto3Json?(_t(c===void 0||typeof c=="string"),Cn.fromBase64String(c||"")):(_t(c===void 0||c instanceof Uint8Array),Cn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?z.UNKNOWN:KS(l.code);return new le(c,l.message||"")}(o);n=new YS(i,s,r,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=em(t,i.document.name),r=$i(i.document.updateTime),o=i.document.createTime?$i(i.document.createTime):Me.min(),a=new Pn({mapValue:{fields:i.document.fields}}),l=mn.newFoundDocument(s,r,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new Hu(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=em(t,i.document),r=i.readTime?$i(i.readTime):Me.min(),o=mn.newNoDocument(s,r),a=i.removedTargetIds||[];n=new Hu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=em(t,i.document),r=i.removedTargetIds||[];n=new Hu([],r,s,null)}else{if(!("filter"in e))return Re();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,o=new jL(s,r),a=i.targetId;n=new GS(a,o)}}return n}function tF(t,e){let n;if(e instanceof zc)n={update:ib(t,e.key,e.value)};else if(e instanceof yv)n={delete:_g(t,e.key)};else if(e instanceof _r)n={update:ib(t,e.key,e.data),updateMask:uF(e.fieldMask)};else{if(!(e instanceof UL))return Re();n={verify:_g(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,r){const o=r.transform;if(o instanceof Zl)return{fieldPath:r.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof aa)return{fieldPath:r.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ec)return{fieldPath:r.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof bd)return{fieldPath:r.field.canonicalString(),increment:o.gt};throw Re()}(0,i))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:JL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Re()}(t,e.precondition)),n}function nF(t,e){return t&&t.length>0?(_t(e!==void 0),t.map(n=>function(i,s){let r=i.updateTime?$i(i.updateTime):$i(s);return r.isEqual(Me.min())&&(r=$i(s)),new FL(r,i.transformResults||[])}(n,e))):[]}function iF(t,e){return{documents:[wg(t,e.path)]}}function sF(t,e){const n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=wg(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=wg(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(l){if(l.length!==0)return eT(Si.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const r=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:Po(u.field),direction:aF(u.dir)}}(c))}(e.orderBy);r&&(n.structuredQuery.orderBy=r);const o=yg(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function rF(t){let e=ZL(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){_t(i===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let r=[];n.where&&(r=function(u){const d=ZS(u);return d instanceof Si&&kS(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(d){return new El(No(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(u)));let a=null;n.limit&&(a=function(u){let d;return d=typeof u=="object"?u.value:u,Rh(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(u){const d=!!u.before,h=u.values||[];return new wd(h,d)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const d=!u.before,h=u.values||[];return new wd(h,d)}(n.endAt)),SL(e,s,o,r,a,"F",l,c)}function oF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ZS(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=No(e.unaryFilter.field);return Ut.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=No(e.unaryFilter.field);return Ut.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=No(e.unaryFilter.field);return Ut.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=No(e.unaryFilter.field);return Ut.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(t):t.fieldFilter!==void 0?function(e){return Ut.create(No(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Si.create(e.compositeFilter.filters.map(n=>ZS(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Re()}}(e.compositeFilter.op))}(t):Re()}function aF(t){return GL[t]}function lF(t){return YL[t]}function cF(t){return QL[t]}function Po(t){return{fieldPath:t.canonicalString()}}function No(t){return gn.fromServerFormat(t.fieldPath)}function eT(t){return t instanceof Ut?function(e){if(e.op==="=="){if(jw(e.value))return{unaryFilter:{field:Po(e.field),op:"IS_NAN"}};if(zw(e.value))return{unaryFilter:{field:Po(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(jw(e.value))return{unaryFilter:{field:Po(e.field),op:"IS_NOT_NAN"}};if(zw(e.value))return{unaryFilter:{field:Po(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(e.field),op:lF(e.op),value:e.value}}}(t):t instanceof Si?function(e){const n=e.getFilters().map(i=>eT(i));return n.length===1?n[0]:{compositeFilter:{op:cF(e.op),filters:n}}}(t):Re()}function uF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n,i,s,r=Me.min(),o=Me.min(),a=Cn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e){this.fe=e}}function hF(t){const e=rF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?pg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(){this.rn=new mF}addToCollectionParentIndex(e,n){return this.rn.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(rr.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(rr.min())}updateCollectionGroup(e,n,i){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class mF{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new wn(yt.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new wn(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new la(0)}static Mn(){return new la(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(){this.changes=new Pa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?K.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&Il(i.mutation,s,Hn.empty(),$t.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,We()).next(()=>i))}getLocalViewOfDocuments(e,n,i=We()){const s=Nr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(r=>{let o=fl();return r.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=Nr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,We()))}populateOverlays(e,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,s){let r=bs();const o=Cl(),a=Cl();return n.forEach((l,c)=>{const u=i.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof _r)?r=r.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Il(u.mutation,c,u.mutation.getFieldMask(),$t.now())):o.set(c.key,Hn.empty())}),this.recalculateAndSaveOverlays(e,r).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new pF(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const i=Cl();let s=new It((o,a)=>o-a),r=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=i.get(l)||Hn.empty();u=a.applyToLocalView(c,u),i.set(l,u);const d=(s.get(a.batchId)||We()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=FS();u.forEach(h=>{if(!r.has(h)){const m=qS(n.get(h),i.get(h));m!==null&&d.set(h,m),r=r.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return K.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i){return function(s){return ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i):this.getDocumentsMatchingCollectionQuery(e,n,i)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(r=>{const o=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-r.size):K.resolve(Nr());let a=-1,l=r;return o.next(c=>K.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),r.get(u)?K.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,r)).next(()=>this.computeViews(e,l,c,We())).next(u=>({batchId:a,changes:LS(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(i=>{let s=fl();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i){const s=n.collectionGroup;let r=fl();return this.indexManager.getCollectionParents(e,s).next(o=>K.forEach(o,a=>{const l=function(c,u){return new $c(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,i).next(c=>{c.forEach((u,d)=>{r=r.insert(u,d)})})}).next(()=>r))}getDocumentsMatchingCollectionQuery(e,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(r=>(s=r,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s))).next(r=>{s.forEach((a,l)=>{const c=l.getKey();r.get(c)===null&&(r=r.insert(c,mn.newInvalidDocument(c)))});let o=fl();return r.forEach((a,l)=>{const c=s.get(a);c!==void 0&&Il(c.mutation,l,Hn.empty(),$t.now()),Nh(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return K.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var i;return this.cs.set(n.id,{id:(i=n).id,version:i.version,createTime:$i(i.createTime)}),K.resolve()}getNamedQuery(e,n){return K.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(i){return{name:i.name,query:hF(i.bundledQuery),readTime:$i(i.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(){this.overlays=new It(ve.comparator),this.ls=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Nr();return K.forEach(n,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,r)=>{this.we(e,n,r)}),K.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.ls.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.ls.delete(i)),K.resolve()}getOverlaysForCollection(e,n,i){const s=Nr(),r=n.length+1,o=new ve(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===r&&l.largestBatchId>i&&s.set(l.getKey(),l)}return K.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let r=new It((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let u=r.get(c.largestBatchId);u===null&&(u=Nr(),r=r.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Nr(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return K.resolve(a)}we(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const o=this.ls.get(s.largestBatchId).delete(i.key);this.ls.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new zL(n,i));let r=this.ls.get(n);r===void 0&&(r=We(),this.ls.set(n,r)),this.ls.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(){this.fs=new wn(Gt.ds),this.ws=new wn(Gt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const i=new Gt(e,n);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.ys(new Gt(e,n))}ps(e,n){e.forEach(i=>this.removeReference(i,n))}Is(e){const n=new ve(new yt([])),i=new Gt(n,e),s=new Gt(n,e+1),r=[];return this.ws.forEachInRange([i,s],o=>{this.ys(o),r.push(o.key)}),r}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new ve(new yt([])),i=new Gt(n,e),s=new Gt(n,e+1);let r=We();return this.ws.forEachInRange([i,s],o=>{r=r.add(o.key)}),r}containsKey(e){const n=new Gt(e,0),i=this.fs.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Gt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return ve.comparator(e.key,n.key)||Je(e.As,n.As)}static _s(e,n){return Je(e.As,n.As)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new wn(Gt.ds)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const r=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $L(r,n,i,s);this.mutationQueue.push(o);for(const a of s)this.Rs=this.Rs.add(new Gt(a.key,r)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,n){return K.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.bs(i),r=s<0?0:s;return K.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Gt(n,0),s=new Gt(n,Number.POSITIVE_INFINITY),r=[];return this.Rs.forEachInRange([i,s],o=>{const a=this.Ps(o.As);r.push(a)}),K.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new wn(Je);return n.forEach(s=>{const r=new Gt(s,0),o=new Gt(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([r,o],a=>{i=i.add(a.As)})}),K.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let r=i;ve.isDocumentKey(r)||(r=r.child(""));const o=new Gt(new ve(r),0);let a=new wn(Je);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.As)),!0)},o),K.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(i=>{const s=this.Ps(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){_t(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Rs;return K.forEach(n.mutations,s=>{const r=new Gt(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,n){const i=new Gt(n,0),s=this.Rs.firstAfterOrEqual(i);return K.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(e){this.Ds=e,this.docs=new It(ve.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,o=this.Ds(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return K.resolve(i?i.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let i=bs();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():mn.newInvalidDocument(s))}),K.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let r=bs();const o=n.path,a=new ve(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||lL(aL(u),i)<=0||(s.has(u.key)||Nh(n,u))&&(r=r.insert(u.key,u.mutableCopy()))}return K.resolve(r)}getAllFromCollectionGroup(e,n,i,s){Re()}Cs(e,n){return K.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new EF(this)}getSize(e){return K.resolve(this.size)}}class EF extends gF{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.os.addEntry(e,s)):this.os.removeEntry(i)}),K.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e){this.persistence=e,this.xs=new Pa(n=>mv(n),gv),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Cv,this.targetCount=0,this.Ms=la.kn()}forEachTarget(e,n){return this.xs.forEach((i,s)=>n(s)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Ns&&(this.Ns=n),K.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new la(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Fn(n),K.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,i){let s=0;const r=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.xs.delete(o),r.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),K.waitFor(r).next(()=>s)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const i=this.xs.get(n)||null;return K.resolve(i)}addMatchingKeys(e,n,i){return this.ks.gs(n,i),K.resolve()}removeMatchingKeys(e,n,i){this.ks.ps(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(o=>{r.push(s.markPotentiallyOrphaned(e,o))}),K.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),K.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ks.Es(n);return K.resolve(i)}containsKey(e,n){return K.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e,n){this.$s={},this.overlays={},this.Os=new uv(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new CF(this),this.indexManager=new fF,this.remoteDocumentCache=function(i){return new bF(i)}(i=>this.referenceDelegate.Ls(i)),this.serializer=new dF(n),this.qs=new yF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _F,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.$s[e.toKey()];return i||(i=new wF(n,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,i){fe("MemoryPersistence","Starting transaction:",e);const s=new SF(this.Os.next());return this.referenceDelegate.Us(),i(s).next(r=>this.referenceDelegate.Ks(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Gs(e,n){return K.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,n)))}}class SF extends uL{constructor(e){super(),this.currentSequenceNumber=e}}class Iv{constructor(e){this.persistence=e,this.Qs=new Cv,this.js=null}static zs(e){return new Iv(e)}get Ws(){if(this.js)return this.js;throw Re()}addReference(e,n,i){return this.Qs.addReference(i,n),this.Ws.delete(i.toString()),K.resolve()}removeReference(e,n,i){return this.Qs.removeReference(i,n),this.Ws.add(i.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),K.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(s=>this.Ws.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(r=>this.Ws.add(r.toString()))}).next(()=>i.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Ws,i=>{const s=ve.fromPath(i);return this.Hs(e,s).next(r=>{r||n.removeEntry(s,Me.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(i=>{i?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return K.or([()=>K.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.Fi=i,this.Bi=s}static Li(e,n){let i=We(),s=We();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new Sv(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,i,s){return this.Ki(e,n).next(r=>r||this.Gi(e,n,s,i)).next(r=>r||this.Qi(e,n))}Ki(e,n){if(Kw(n))return K.resolve(null);let i=ws(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=pg(n,null,"F"),i=ws(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const o=We(...r);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.ji(n,a);return this.zi(n,c,o,l.readTime)?this.Ki(e,pg(n,null,"F")):this.Wi(e,c,n,l)}))})))}Gi(e,n,i,s){return Kw(n)||s.isEqual(Me.min())?this.Qi(e,n):this.Ui.getDocuments(e,i).next(r=>{const o=this.ji(n,r);return this.zi(n,o,i,s)?this.Qi(e,n):(Fw()<=Qe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),vg(n)),this.Wi(e,o,n,oL(s,-1)))})}ji(e,n){let i=new wn(OS(e));return n.forEach((s,r)=>{Nh(e,r)&&(i=i.add(r))}),i}zi(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Qi(e,n){return Fw()<=Qe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",vg(n)),this.Ui.getDocumentsMatchingQuery(e,n,rr.min())}Wi(e,n,i,s){return this.Ui.getDocumentsMatchingQuery(e,i,s).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e,n,i,s){this.persistence=e,this.Hi=n,this.serializer=s,this.Ji=new It(Je),this.Yi=new Pa(r=>mv(r),gv),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vF(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function AF(t,e,n,i){return new kF(t,e,n,i)}async function nT(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.tr(e),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const o=[],a=[];let l=We();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of r){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(i,l).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}function xF(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),r=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,d=u.keys();let h=K.resolve();return d.forEach(m=>{h=h.next(()=>c.getEntry(a,m)).next(g=>{const p=l.docVersions.get(m);_t(p!==null),g.version.compareTo(p)<0&&(u.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),c.addEntry(g)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,i,e,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let a=We();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function iT(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function RF(t,e){const n=Ve(t),i=e.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const a=[];e.targetChanges.forEach((u,d)=>{const h=s.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(r,u.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(r,u.addedDocuments,d)));let m=h.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(Cn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,i)),s=s.insert(d,m),function(g,p,v){return g.resumeToken.approximateByteSize()===0||p.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,m,u)&&a.push(n.Bs.updateTargetData(r,m))});let l=bs(),c=We();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(r,u))}),a.push(PF(r,o,e.documentUpdates).next(u=>{l=u.nr,c=u.sr})),!i.isEqual(Me.min())){const u=n.Bs.getLastRemoteSnapshotVersion(r).next(d=>n.Bs.setTargetsMetadata(r,r.currentSequenceNumber,i));a.push(u)}return K.waitFor(a).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,l,c)).next(()=>l)}).then(r=>(n.Ji=s,r))}function PF(t,e,n){let i=We(),s=We();return n.forEach(r=>i=i.add(r)),e.getEntries(t,i).next(r=>{let o=bs();return n.forEach((a,l)=>{const c=r.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Me.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):fe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:o,sr:s}})}function NF(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function DF(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Bs.getTargetData(i,e).next(r=>r?(s=r,K.resolve(s)):n.Bs.allocateTargetId(i).next(o=>(s=new Ws(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Bs.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Ji.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(i.targetId,i),n.Yi.set(e,i.targetId)),i})}async function Eg(t,e,n){const i=Ve(t),s=i.Ji.get(e),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,o=>i.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Uc(o))throw o;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(s.target)}function sb(t,e,n){const i=Ve(t);let s=Me.min(),r=We();return i.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=Ve(a),d=u.Yi.get(c);return d!==void 0?K.resolve(u.Ji.get(d)):u.Bs.getTargetData(l,c)}(i,o,ws(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{r=l})}).next(()=>i.Hi.getDocumentsMatchingQuery(o,e,n?s:Me.min(),n?r:We())).next(a=>(OF(i,TL(e),a),{documents:a,ir:r})))}function OF(t,e,n){let i=t.Xi.get(e)||Me.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),t.Xi.set(e,i)}class rb{constructor(){this.activeTargetIds=NL()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MF{constructor(){this.Hr=new rb,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,i){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new rb,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vu=null;function tm(){return vu===null?vu=268435456+Math.round(2147483648*Math.random()):vu++,"0x"+vu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class BF extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,i,s,r){const o=tm(),a=this.To(e,n);fe("RestConnection",`Sending RPC '${e}' ${o}:`,a,i);const l={};return this.Eo(l,s,r),this.Ao(e,a,l,i).then(c=>(fe("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw ia("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",i),c})}vo(e,n,i,s,r,o){return this.Io(e,n,i,s,r)}Eo(e,n,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ra,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>e[r]=s),i&&i.headers.forEach((s,r)=>e[r]=s)}To(e,n){const i=FF[e];return`${this.mo}/v1/${n}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,i,s){const r=tm();return new Promise((o,a)=>{const l=new YM;l.setWithCredentials(!0),l.listenOnce(WM.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Zf.NO_ERROR:const u=l.getResponseJson();fe(dn,`XHR for RPC '${e}' ${r} received:`,JSON.stringify(u)),o(u);break;case Zf.TIMEOUT:fe(dn,`RPC '${e}' ${r} timed out`),a(new le(z.DEADLINE_EXCEEDED,"Request time out"));break;case Zf.HTTP_ERROR:const d=l.getStatus();if(fe(dn,`RPC '${e}' ${r} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const g=function(p){const v=p.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(v)>=0?v:z.UNKNOWN}(m.status);a(new le(g,m.message))}else a(new le(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new le(z.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{fe(dn,`RPC '${e}' ${r} completed.`)}});const c=JSON.stringify(s);fe(dn,`RPC '${e}' ${r} sending request:`,s),l.send(n,"POST",c,i,15)})}Ro(e,n,i){const s=tm(),r=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=HM(),a=qM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new GM({})),this.Eo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const u=r.join("");fe(dn,`Creating RPC '${e}' stream ${s}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,m=!1;const g=new VF({ro:v=>{m?fe(dn,`Not sending because RPC '${e}' stream ${s} is closed:`,v):(h||(fe(dn,`Opening RPC '${e}' stream ${s} transport.`),d.open(),h=!0),fe(dn,`RPC '${e}' stream ${s} sending:`,v),d.send(v))},oo:()=>d.close()}),p=(v,E,b)=>{v.listen(E,C=>{try{b(C)}catch(S){setTimeout(()=>{throw S},0)}})};return p(d,fu.EventType.OPEN,()=>{m||fe(dn,`RPC '${e}' stream ${s} transport opened.`)}),p(d,fu.EventType.CLOSE,()=>{m||(m=!0,fe(dn,`RPC '${e}' stream ${s} transport closed`),g.wo())}),p(d,fu.EventType.ERROR,v=>{m||(m=!0,ia(dn,`RPC '${e}' stream ${s} transport errored:`,v),g.wo(new le(z.UNAVAILABLE,"The operation could not be completed")))}),p(d,fu.EventType.MESSAGE,v=>{var E;if(!m){const b=v.data[0];_t(!!b);const C=b,S=C.error||((E=C[0])===null||E===void 0?void 0:E.error);if(S){fe(dn,`RPC '${e}' stream ${s} received error:`,S);const R=S.status;let x=function(T){const k=Ft[T];if(k!==void 0)return KS(k)}(R),N=S.message;x===void 0&&(x=z.INTERNAL,N="Unknown error status: "+R+" with message "+S.message),m=!0,g.wo(new le(x,N)),d.close()}else fe(dn,`RPC '${e}' stream ${s} received:`,b),g._o(b)}}),p(a,KM.STAT_EVENT,v=>{v.stat===Mw.PROXY?fe(dn,`RPC '${e}' stream ${s} detected buffering proxy`):v.stat===Mw.NOPROXY&&fe(dn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{g.fo()},0),g}}function nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(t){return new XL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n,i=1e3,s=1.5,r=6e4){this.ii=e,this.timerId=n,this.Po=i,this.bo=s,this.Vo=r,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),s=Math.max(0,n-i);s>0&&fe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n,i,s,r,o,a,l){this.ii=e,this.$o=i,this.Oo=s,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new sT(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(_s(n.toString()),_s("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Fo===n&&this.Zo(i,s)},i=>{e(()=>{const s=new le(z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(s)})})}Zo(e,n){const i=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{i(()=>this.tu(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UF extends rT{constructor(e,n,i,s,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,o),this.serializer=r}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=eF(this.serializer,e),i=function(s){if(!("targetChange"in s))return Me.min();const r=s.targetChange;return r.targetIds&&r.targetIds.length?Me.min():r.readTime?$i(r.readTime):Me.min()}(e);return this.listener.nu(n,i)}su(e){const n={};n.database=bg(this.serializer),n.addTarget=function(s,r){let o;const a=r.target;if(o=mg(a)?{documents:iF(s,a)}:{query:sF(s,a)},o.targetId=r.targetId,r.resumeToken.approximateByteSize()>0){o.resumeToken=QS(s,r.resumeToken);const l=yg(s,r.expectedCount);l!==null&&(o.expectedCount=l)}else if(r.snapshotVersion.compareTo(Me.min())>0){o.readTime=Ed(s,r.snapshotVersion.toTimestamp());const l=yg(s,r.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const i=oF(this.serializer,e);i&&(n.labels=i),this.Wo(n)}iu(e){const n={};n.database=bg(this.serializer),n.removeTarget=e,this.Wo(n)}}class $F extends rT{constructor(e,n,i,s,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,o),this.serializer=r,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(_t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=nF(e.writeResults,e.commitTime),i=$i(e.commitTime);return this.listener.cu(i,n)}return _t(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=bg(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>tF(this.serializer,i))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF extends class{}{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new le(z.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,r])=>this.connection.Io(e,n,i,s,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new le(z.UNKNOWN,s.toString())})}vo(e,n,i,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.vo(e,n,i,r,o,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new le(z.UNKNOWN,r.toString())})}terminate(){this.lu=!0}}class jF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(_s(n),this.mu=!1):fe("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,n,i,s,r){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=r,this.Pu.Yr(o=>{i.enqueueAndForget(async()=>{ho(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=Ve(a);l.vu.add(4),await Hc(l),l.bu.set("Unknown"),l.vu.delete(4),await Fh(l)}(this))})}),this.bu=new jF(i,s)}}async function Fh(t){if(ho(t))for(const e of t.Ru)await e(!0)}async function Hc(t){for(const e of t.Ru)await e(!1)}function oT(t,e){const n=Ve(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Av(n)?kv(n):Na(n).Ko()&&Tv(n,e))}function aT(t,e){const n=Ve(t),i=Na(n);n.Au.delete(e),i.Ko()&&lT(n,e),n.Au.size===0&&(i.Ko()?i.jo():ho(n)&&n.bu.set("Unknown"))}function Tv(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Na(t).su(e)}function lT(t,e){t.Vu.qt(e),Na(t).iu(e)}function kv(t){t.Vu=new KL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Na(t).start(),t.bu.gu()}function Av(t){return ho(t)&&!Na(t).Uo()&&t.Au.size>0}function ho(t){return Ve(t).vu.size===0}function cT(t){t.Vu=void 0}async function qF(t){t.Au.forEach((e,n)=>{Tv(t,e)})}async function WF(t,e){cT(t),Av(t)?(t.bu.Iu(e),kv(t)):t.bu.set("Unknown")}async function KF(t,e,n){if(t.bu.set("Online"),e instanceof YS&&e.state===2&&e.cause)try{await async function(i,s){const r=s.cause;for(const o of s.targetIds)i.Au.has(o)&&(await i.remoteSyncer.rejectListen(o,r),i.Au.delete(o),i.Vu.removeTarget(o))}(t,e)}catch(i){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Cd(t,i)}else if(e instanceof Hu?t.Vu.Ht(e):e instanceof GS?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(Me.min()))try{const i=await iT(t.localStore);n.compareTo(i)>=0&&await function(s,r){const o=s.Vu.ce(r);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=s.Au.get(l);c&&s.Au.set(l,c.withResumeToken(a.resumeToken,r))}}),o.targetMismatches.forEach((a,l)=>{const c=s.Au.get(a);if(!c)return;s.Au.set(a,c.withResumeToken(Cn.EMPTY_BYTE_STRING,c.snapshotVersion)),lT(s,a);const u=new Ws(c.target,a,l,c.sequenceNumber);Tv(s,u)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(i){fe("RemoteStore","Failed to raise snapshot:",i),await Cd(t,i)}}async function Cd(t,e,n){if(!Uc(e))throw e;t.vu.add(1),await Hc(t),t.bu.set("Offline"),n||(n=()=>iT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Fh(t)})}function uT(t,e){return e().catch(n=>Cd(t,n,e))}async function Vh(t){const e=Ve(t),n=ar(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;GF(e);)try{const s=await NF(e.localStore,i);if(s===null){e.Eu.length===0&&n.jo();break}i=s.batchId,YF(e,s)}catch(s){await Cd(e,s)}dT(e)&&hT(e)}function GF(t){return ho(t)&&t.Eu.length<10}function YF(t,e){t.Eu.push(e);const n=ar(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function dT(t){return ho(t)&&!ar(t).Uo()&&t.Eu.length>0}function hT(t){ar(t).start()}async function QF(t){ar(t).hu()}async function XF(t){const e=ar(t);for(const n of t.Eu)e.uu(n.mutations)}async function JF(t,e,n){const i=t.Eu.shift(),s=_v.from(i,e,n);await uT(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Vh(t)}async function ZF(t,e){e&&ar(t).ou&&await async function(n,i){if(s=i.code,HL(s)&&s!==z.ABORTED){const r=n.Eu.shift();ar(n).Qo(),await uT(n,()=>n.remoteSyncer.rejectFailedWrite(r.batchId,i)),await Vh(n)}var s}(t,e),dT(t)&&hT(t)}async function ab(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const i=ho(n);n.vu.add(3),await Hc(n),i&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Fh(n)}async function eV(t,e){const n=Ve(t);e?(n.vu.delete(2),await Fh(n)):e||(n.vu.add(2),await Hc(n),n.bu.set("Unknown"))}function Na(t){return t.Su||(t.Su=function(e,n,i){const s=Ve(e);return s.fu(),new UF(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{uo:qF.bind(null,t),ao:WF.bind(null,t),nu:KF.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),Av(t)?kv(t):t.bu.set("Unknown")):(await t.Su.stop(),cT(t))})),t.Su}function ar(t){return t.Du||(t.Du=function(e,n,i){const s=Ve(e);return s.fu(),new $F(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{uo:QF.bind(null,t),ao:ZF.bind(null,t),au:XF.bind(null,t),cu:JF.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Vh(t)):(await t.Du.stop(),t.Eu.length>0&&(fe("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n,i,s,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new Ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,i,s,r){const o=Date.now()+i,a=new xv(e,n,o,s,r);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rv(t,e){if(_s("AsyncQueue",`${e}: ${t}`),Uc(t))return new le(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.comparator=e?(n,i)=>e(n,i)||ve.comparator(n.key,i.key):(n,i)=>ve.comparator(n.key,i.key),this.keyedMap=fl(),this.sortedSet=new It(this.comparator)}static emptySet(e){return new Ho(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Ho;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(){this.Cu=new It(ve.comparator)}track(e){const n=e.doc.key,i=this.Cu.get(n);i?e.type!==0&&i.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&i.type!==1?this.Cu=this.Cu.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Cu=this.Cu.remove(n):e.type===1&&i.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Re():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,i)=>{e.push(i)}),e}}class ca{constructor(e,n,i,s,r,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,s,r){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ca(e,n,Ho.emptySet(n),o,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(){this.Nu=void 0,this.listeners=[]}}class nV{constructor(){this.queries=new Pa(e=>DS(e),Ph),this.onlineState="Unknown",this.ku=new Set}}async function fT(t,e){const n=Ve(t),i=e.query;let s=!1,r=n.queries.get(i);if(r||(s=!0,r=new tV),s)try{r.Nu=await n.onListen(i)}catch(o){const a=Rv(o,`Initialization of query '${vg(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,r),r.listeners.push(e),e.Mu(n.onlineState),r.Nu&&e.$u(r.Nu)&&Pv(n)}async function mT(t,e){const n=Ve(t),i=e.query;let s=!1;const r=n.queries.get(i);if(r){const o=r.listeners.indexOf(e);o>=0&&(r.listeners.splice(o,1),s=r.listeners.length===0)}if(s)return n.queries.delete(i),n.onUnlisten(i)}function iV(t,e){const n=Ve(t);let i=!1;for(const s of e){const r=s.query,o=n.queries.get(r);if(o){for(const a of o.listeners)a.$u(s)&&(i=!0);o.Nu=s}}i&&Pv(n)}function sV(t,e,n){const i=Ve(t),s=i.queries.get(e);if(s)for(const r of s.listeners)r.onError(n);i.queries.delete(e)}function Pv(t){t.ku.forEach(e=>{e.next()})}class gT{constructor(e,n,i){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new ca(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const i=n!=="Offline";return(!this.options.Ku||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e){this.key=e}}class vT{constructor(e){this.key=e}}class rV{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=We(),this.mutatedKeys=We(),this.tc=OS(e),this.ec=new Ho(this.tc)}get nc(){return this.Yu}sc(e,n){const i=n?n.ic:new lb,s=n?n.ec:this.ec;let r=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,d)=>{const h=s.get(u),m=Nh(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),p=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let v=!1;h&&m?h.data.isEqual(m.data)?g!==p&&(i.track({type:3,doc:m}),v=!0):this.rc(h,m)||(i.track({type:2,doc:m}),v=!0,(l&&this.tc(m,l)>0||c&&this.tc(m,c)<0)&&(a=!0)):!h&&m?(i.track({type:0,doc:m}),v=!0):h&&!m&&(i.track({type:1,doc:h}),v=!0,(l||c)&&(a=!0)),v&&(m?(o=o.add(m),r=p?r.add(u):r.delete(u)):(o=o.delete(u),r=r.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),r=r.delete(u.key),i.track({type:1,doc:u})}return{ec:o,ic:i,zi:a,mutatedKeys:r}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const r=e.ic.xu();r.sort((c,u)=>function(d,h){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return m(d)-m(h)}(c.type,u.type)||this.tc(c.doc,u.doc)),this.oc(i);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,r.length!==0||l?{snapshot:new ca(this.query,e.ec,s,r,e.mutatedKeys,a===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new lb,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=We(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const n=[];return e.forEach(i=>{this.Zu.has(i)||n.push(new vT(i))}),this.Zu.forEach(i=>{e.has(i)||n.push(new pT(i))}),n}hc(e){this.Yu=e.ir,this.Zu=We();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return ca.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class oV{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class aV{constructor(e){this.key=e,this.fc=!1}}class lV{constructor(e,n,i,s,r,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Pa(a=>DS(a),Ph),this._c=new Map,this.mc=new Set,this.gc=new It(ve.comparator),this.yc=new Map,this.Ic=new Cv,this.Tc={},this.Ec=new Map,this.Ac=la.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function cV(t,e){const n=_V(t);let i,s;const r=n.wc.get(e);if(r)i=r.targetId,n.sharedClientState.addLocalQueryTarget(i),s=r.view.lc();else{const o=await DF(n.localStore,ws(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,s=await uV(n,e,i,a==="current",o.resumeToken),n.isPrimaryClient&&oT(n.remoteStore,o)}return s}async function uV(t,e,n,i,s){t.Rc=(d,h,m)=>async function(g,p,v,E){let b=p.view.sc(v);b.zi&&(b=await sb(g.localStore,p.query,!1).then(({documents:R})=>p.view.sc(R,b)));const C=E&&E.targetChanges.get(p.targetId),S=p.view.applyChanges(b,g.isPrimaryClient,C);return ub(g,p.targetId,S.cc),S.snapshot}(t,d,h,m);const r=await sb(t.localStore,e,!0),o=new rV(e,r.ir),a=o.sc(r.documents),l=jc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);ub(t,n,c.cc);const u=new oV(e,n,o);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function dV(t,e){const n=Ve(t),i=n.wc.get(e),s=n._c.get(i.targetId);if(s.length>1)return n._c.set(i.targetId,s.filter(r=>!Ph(r,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Eg(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),aT(n.remoteStore,i.targetId),Cg(n,i.targetId)}).catch(Bc)):(Cg(n,i.targetId),await Eg(n.localStore,i.targetId,!0))}async function hV(t,e,n){const i=wV(t);try{const s=await function(r,o){const a=Ve(r),l=$t.now(),c=o.reduce((h,m)=>h.add(m.key),We());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let m=bs(),g=We();return a.Zi.getEntries(h,c).next(p=>{m=p,m.forEach((v,E)=>{E.isValidDocument()||(g=g.add(v))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,m)).next(p=>{u=p;const v=[];for(const E of o){const b=BL(E,u.get(E.key).overlayedDocument);b!=null&&v.push(new _r(E.key,b,IS(b.value.mapValue),si.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,v,o)}).next(p=>{d=p;const v=p.applyToLocalDocumentSet(u,g);return a.documentOverlayCache.saveOverlays(h,p.batchId,v)})}).then(()=>({batchId:d.batchId,changes:LS(u)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(r,o,a){let l=r.Tc[r.currentUser.toKey()];l||(l=new It(Je)),l=l.insert(o,a),r.Tc[r.currentUser.toKey()]=l}(i,s.batchId,n),await qc(i,s.changes),await Vh(i.remoteStore)}catch(s){const r=Rv(s,"Failed to persist write");n.reject(r)}}async function yT(t,e){const n=Ve(t);try{const i=await RF(n.localStore,e);e.targetChanges.forEach((s,r)=>{const o=n.yc.get(r);o&&(_t(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.fc=!0:s.modifiedDocuments.size>0?_t(o.fc):s.removedDocuments.size>0&&(_t(o.fc),o.fc=!1))}),await qc(n,i,e)}catch(i){await Bc(i)}}function cb(t,e,n){const i=Ve(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.wc.forEach((r,o)=>{const a=o.view.Mu(e);a.snapshot&&s.push(a.snapshot)}),function(r,o){const a=Ve(r);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.Mu(o)&&(l=!0)}),l&&Pv(a)}(i.eventManager,e),s.length&&i.dc.nu(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function fV(t,e,n){const i=Ve(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.yc.get(e),r=s&&s.key;if(r){let o=new It(ve.comparator);o=o.insert(r,mn.newNoDocument(r,Me.min()));const a=We().add(r),l=new Mh(Me.min(),new Map,new It(Je),o,a);await yT(i,l),i.gc=i.gc.remove(r),i.yc.delete(e),Nv(i)}else await Eg(i.localStore,e,!1).then(()=>Cg(i,e,n)).catch(Bc)}async function mV(t,e){const n=Ve(t),i=e.batch.batchId;try{const s=await xF(n.localStore,e);wT(n,i,null),_T(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await qc(n,s)}catch(s){await Bc(s)}}async function gV(t,e,n){const i=Ve(t);try{const s=await function(r,o){const a=Ve(r);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(_t(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(i.localStore,e);wT(i,e,n),_T(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await qc(i,s)}catch(s){await Bc(s)}}function _T(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function wT(t,e,n){const i=Ve(t);let s=i.Tc[i.currentUser.toKey()];if(s){const r=s.get(e);r&&(n?r.reject(n):r.resolve(),s=s.remove(e)),i.Tc[i.currentUser.toKey()]=s}}function Cg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t._c.get(e))t.wc.delete(i),n&&t.dc.Pc(i,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(i=>{t.Ic.containsKey(i)||bT(t,i)})}function bT(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(aT(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Nv(t))}function ub(t,e,n){for(const i of n)i instanceof pT?(t.Ic.addReference(i.key,e),pV(t,i)):i instanceof vT?(fe("SyncEngine","Document no longer in limbo: "+i.key),t.Ic.removeReference(i.key,e),t.Ic.containsKey(i.key)||bT(t,i.key)):Re()}function pV(t,e){const n=e.key,i=n.path.canonicalString();t.gc.get(n)||t.mc.has(i)||(fe("SyncEngine","New document in limbo: "+n),t.mc.add(i),Nv(t))}function Nv(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new ve(yt.fromString(e)),i=t.Ac.next();t.yc.set(i,new aV(n)),t.gc=t.gc.insert(n,i),oT(t.remoteStore,new Ws(ws(pv(n.path)),i,"TargetPurposeLimboResolution",uv.ct))}}async function qc(t,e,n){const i=Ve(t),s=[],r=[],o=[];i.wc.isEmpty()||(i.wc.forEach((a,l)=>{o.push(i.Rc(l,e,n).then(c=>{if((c||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=Sv.Li(l.targetId,c);r.push(u)}}))}),await Promise.all(o),i.dc.nu(s),await async function(a,l){const c=Ve(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>K.forEach(l,d=>K.forEach(d.Fi,h=>c.persistence.referenceDelegate.addReference(u,d.targetId,h)).next(()=>K.forEach(d.Bi,h=>c.persistence.referenceDelegate.removeReference(u,d.targetId,h)))))}catch(u){if(!Uc(u))throw u;fe("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const d=u.targetId;if(!u.fromCache){const h=c.Ji.get(d),m=h.snapshotVersion,g=h.withLastLimboFreeSnapshotVersion(m);c.Ji=c.Ji.insert(d,g)}}}(i.localStore,r))}async function vV(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const i=await nT(n.localStore,e);n.currentUser=e,function(s,r){s.Ec.forEach(o=>{o.forEach(a=>{a.reject(new le(z.CANCELLED,r))})}),s.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await qc(n,i.er)}}function yV(t,e){const n=Ve(t),i=n.yc.get(e);if(i&&i.fc)return We().add(i.key);{let s=We();const r=n._c.get(e);if(!r)return s;for(const o of r){const a=n.wc.get(o);s=s.unionWith(a.view.nc)}return s}}function _V(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fV.bind(null,e),e.dc.nu=iV.bind(null,e.eventManager),e.dc.Pc=sV.bind(null,e.eventManager),e}function wV(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gV.bind(null,e),e}class db{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return AF(this.persistence,new TF,e.initialUser,this.serializer)}createPersistence(e){return new IF(Iv.zs,this.serializer)}createSharedClientState(e){return new MF}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class bV{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>cb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=vV.bind(null,this.syncEngine),await eV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new nV}createDatastore(e){const n=Lh(e.databaseInfo.databaseId),i=(s=e.databaseInfo,new BF(s));var s;return function(r,o,a,l){return new zF(r,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return n=this.localStore,i=this.datastore,s=e.asyncQueue,r=a=>cb(this.syncEngine,a,0),o=ob.D()?new ob:new LF,new HF(n,i,s,r,o);var n,i,s,r,o}createSyncEngine(e,n){return function(i,s,r,o,a,l,c){const u=new lV(i,s,r,o,a,l);return c&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Ve(e);fe("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Hc(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):_s("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=hn.UNAUTHENTICATED,this.clientId=bS.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async r=>{fe("FirestoreClient","Received user=",r.uid),await this.authCredentialListener(r),this.user=r}),this.appCheckCredentials.start(i,r=>(fe("FirestoreClient","Received new app check token=",r),this.appCheckCredentialListener(r,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new le(z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Rv(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function im(t,e){t.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await nT(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function hb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await IV(t);fe("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener(s=>ab(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>ab(e.remoteStore,r)),t._onlineComponents=e}function CV(t){return t.name==="FirebaseError"?t.code===z.FAILED_PRECONDITION||t.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function IV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await im(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!CV(n))throw n;ia("Error using user provided cache. Falling back to memory cache: "+n),await im(t,new db)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await im(t,new db);return t._offlineComponents}async function CT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await hb(t,t._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await hb(t,new bV))),t._onlineComponents}function SV(t){return CT(t).then(e=>e.syncEngine)}async function Ig(t){const e=await CT(t),n=e.eventManager;return n.onListen=cV.bind(null,e.syncEngine),n.onUnlisten=dV.bind(null,e.syncEngine),n}function TV(t,e,n={}){const i=new Ys;return t.asyncQueue.enqueueAndForget(async()=>function(s,r,o,a,l){const c=new ET({next:d=>{r.enqueueAndForget(()=>mT(s,u)),d.fromCache&&a.source==="server"?l.reject(new le(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new gT(o,c,{includeMetadataChanges:!0,Ku:!0});return fT(s,u)}(await Ig(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(t,e,n){if(!n)throw new le(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kV(t,e,n,i){if(e===!0&&i===!0)throw new le(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mb(t){if(!ve.isDocumentKey(t))throw new le(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gb(t){if(ve.isDocumentKey(t))throw new le(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Bh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re()}function ri(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bh(t);throw new le(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new le(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new le(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,i=e.experimentalLongPollingOptions,n.timeoutSeconds===i.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,i}}class Uh{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pb({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new le(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new le(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pb(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new XM;switch(n.type){case"firstParty":return new tL(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new le(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=fb.get(e);n&&(fe("ComponentProvider","Removing Datastore"),fb.delete(e),n.terminate())}(this),Promise.resolve()}}function AV(t,e,n,i={}){var s;const r=(t=ri(t,Uh))._getSettings(),o=`${e}:${n}`;if(r.host!=="firestore.googleapis.com"&&r.host!==o&&ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},r),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=hn.MOCK_USER;else{a=xp(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new le(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new hn(c)}t._authCredentials=new JM(new wS(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class fo{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new fo(this.firestore,e,this._query)}}class Qs extends fo{constructor(e,n,i){super(e,n,pv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new ve(e))}withConverter(e){return new Qs(this.firestore,e,this._path)}}function tc(t,e,...n){if(t=et(t),ST("collection","path",e),t instanceof Uh){const i=yt.fromString(e,...n);return gb(i),new Qs(t,null,i)}{if(!(t instanceof xn||t instanceof Qs))throw new le(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(yt.fromString(e,...n));return gb(i),new Qs(t.firestore,null,i)}}function ln(t,e,...n){if(t=et(t),arguments.length===1&&(e=bS.A()),ST("doc","path",e),t instanceof Uh){const i=yt.fromString(e,...n);return mb(i),new xn(t,null,new ve(i))}{if(!(t instanceof xn||t instanceof Qs))throw new le(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(yt.fromString(e,...n));return mb(i),new xn(t.firestore,t instanceof Qs?t.converter:null,new ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new sT(this,"async_queue_retry"),this.Xc=()=>{const n=nm();n&&fe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=nm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Ys;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Uc(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{this.Wc=i,this.Hc=!1;const s=function(r){let o=r.message||"";return r.stack&&(o=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),o}(i);throw _s("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.Hc=!1,i))));return this.Gc=n,n}enqueueAfterDelay(e,n,i){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const s=xv.createAndSchedule(this,e,n,i,r=>this.na(r));return this.zc.push(s),s}Zc(){this.Wc&&Re()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function vb(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const i=e;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class lr extends Uh{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new xV,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||TT(this),this._firestoreClient.terminate()}}function RV(t,e){const n=typeof t=="object"?t:Sc(),i=typeof t=="string"?t:e||"(default)",s=mr(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=Ap("firestore");r&&AV(s,...r)}return s}function Dv(t){return t._firestoreClient||TT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function TT(t){var e,n,i;const s=t._freezeSettings(),r=function(o,a,l,c){return new fL(o,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,IT(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new EV(t._authCredentials,t._appCheckCredentials,t._queue,r),!((n=s.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.cache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ua(Cn.fromBase64String(e))}catch(n){throw new le(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ua(Cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=/^__.*__$/;class NV{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new _r(e,this.data,this.fieldMask,n,this.fieldTransforms):new zc(e,this.data,n,this.fieldTransforms)}}class kT{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new _r(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class zh{constructor(e,n,i,s,r,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.ua(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new zh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:i,la:!1});return s.fa(e),s}da(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:i,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Id(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(AT(this.ca)&&PV.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class DV{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Lh(e)}ya(e,n,i,s=!1){return new zh({ca:e,methodName:n,ga:i,path:gn.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jh(t){const e=t._freezeSettings(),n=Lh(t._databaseId);return new DV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xT(t,e,n,i,s,r={}){const o=t.ya(r.merge||r.mergeFields?2:0,e,n,s);Lv("Data must be an object, but it was:",o,i);const a=RT(i,o);let l,c;if(r.merge)l=new Hn(o.fieldMask),c=o.fieldTransforms;else if(r.mergeFields){const u=[];for(const d of r.mergeFields){const h=Sg(e,d,n);if(!o.contains(h))throw new le(z.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);NT(u,h)||u.push(h)}l=new Hn(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new NV(new Pn(a),l,c)}class Hh extends Wc{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hh}}function OV(t,e,n){return new zh({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Mv extends Wc{_toFieldTransform(e){return new HS(e.path,new Zl)}isEqual(e){return e instanceof Mv}}class MV extends Wc{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=OV(this,e,!0),i=this.pa.map(r=>Da(r,n)),s=new aa(i);return new HS(e.path,s)}isEqual(e){return this===e}}function LV(t,e,n,i){const s=t.ya(1,e,n);Lv("Data must be an object, but it was:",s,i);const r=[],o=Pn.empty();uo(i,(l,c)=>{const u=Fv(e,l,n);c=et(c);const d=s.da(u);if(c instanceof Hh)r.push(u);else{const h=Da(c,d);h!=null&&(r.push(u),o.set(u,h))}});const a=new Hn(r);return new kT(o,a,s.fieldTransforms)}function FV(t,e,n,i,s,r){const o=t.ya(1,e,n),a=[Sg(e,i,n)],l=[s];if(r.length%2!=0)throw new le(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<r.length;h+=2)a.push(Sg(e,r[h])),l.push(r[h+1]);const c=[],u=Pn.empty();for(let h=a.length-1;h>=0;--h)if(!NT(c,a[h])){const m=a[h];let g=l[h];g=et(g);const p=o.da(m);if(g instanceof Hh)c.push(m);else{const v=Da(g,p);v!=null&&(c.push(m),u.set(m,v))}}const d=new Hn(c);return new kT(u,d,o.fieldTransforms)}function VV(t,e,n,i=!1){return Da(n,t.ya(i?4:3,e))}function Da(t,e){if(PT(t=et(t)))return Lv("Unsupported field value:",e,t),RT(t,e);if(t instanceof Wc)return function(n,i){if(!AT(i.ca))throw i._a(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,i){const s=[];let r=0;for(const o of n){let a=Da(o,i.wa(r));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),r++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=et(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return DL(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=$t.fromDate(n);return{timestampValue:Ed(i.serializer,s)}}if(n instanceof $t){const s=new $t(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ed(i.serializer,s)}}if(n instanceof Ov)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ua)return{bytesValue:QS(i.serializer,n._byteString)};if(n instanceof xn){const s=i.databaseId,r=n.firestore._databaseId;if(!r.isEqual(s))throw i._a(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ev(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i._a(`Unsupported field value: ${Bh(n)}`)}(t,e)}function RT(t,e){const n={};return ES(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uo(t,(i,s)=>{const r=Da(s,e.ha(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function PT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $t||t instanceof Ov||t instanceof ua||t instanceof xn||t instanceof Wc)}function Lv(t,e,n){if(!PT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const i=Bh(n);throw i==="an object"?e._a(t+" a custom object"):e._a(t+" "+i)}}function Sg(t,e,n){if((e=et(e))instanceof $h)return e._internalPath;if(typeof e=="string")return Fv(t,e);throw Id("Field path arguments must be of type string or ",t,!1,void 0,n)}const BV=new RegExp("[~\\*/\\[\\]]");function Fv(t,e,n){if(e.search(BV)>=0)throw Id(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $h(...e.split("."))._internalPath}catch{throw Id(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Id(t,e,n,i,s){const r=i&&!i.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(r||o)&&(l+=" (found",r&&(l+=` in field ${i}`),o&&(l+=` in document ${s}`),l+=")"),new le(z.INVALID_ARGUMENT,a+t+l)}function NT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n,i,s,r){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class UV extends DT{data(){return super.data()}}function Vv(t,e){return typeof e=="string"?Fv(t,e):e instanceof $h?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bv{}class $V extends Bv{}function MT(t,e,...n){let i=[];e instanceof Bv&&i.push(e),i=i.concat(n),function(s){const r=s.filter(a=>a instanceof Uv).length,o=s.filter(a=>a instanceof qh).length;if(r>1||r>0&&o>0)throw new le(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class qh extends $V{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new qh(e,n,i)}_apply(e){const n=this._parse(e);return FT(e._query,n),new fo(e.firestore,e.converter,gg(e._query,n))}_parse(e){const n=jh(e.firestore);return function(s,r,o,a,l,c,u){let d;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new le(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){_b(u,c);const h=[];for(const m of u)h.push(yb(a,s,m));d={arrayValue:{values:h}}}else d=yb(a,s,u)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||_b(u,c),d=VV(o,r,u,c==="in"||c==="not-in");return Ut.create(l,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function LT(t,e,n){const i=e,s=Vv("where",t);return qh._create(s,i,n)}class Uv extends Bv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Uv(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Si.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let r=i;const o=s.getFlattenedFilters();for(const a of o)FT(r,a),r=gg(r,a)}(e._query,n),new fo(e.firestore,e.converter,gg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function yb(t,e,n){if(typeof(n=et(n))=="string"){if(n==="")throw new le(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NS(e)&&n.indexOf("/")!==-1)throw new le(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(yt.fromString(n));if(!ve.isDocumentKey(i))throw new le(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return $w(t,new ve(i))}if(n instanceof xn)return $w(t,n._key);throw new le(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bh(n)}.`)}function _b(t,e){if(!Array.isArray(t)||t.length===0)throw new le(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FT(t,e){if(e.isInequality()){const i=vv(t),s=e.field;if(i!==null&&!i.isEqual(s))throw new le(z.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${s.toString()}'`);const r=PS(t);r!==null&&zV(t,s,r)}const n=function(i,s){for(const r of i)for(const o of r.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new le(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function zV(t,e,n){if(!n.isEqual(e))throw new le(z.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class jV{convertValue(e,n="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return uo(e,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertGeoPoint(e){return new Ov(Vt(e.latitude),Vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=hv(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){const n=or(e);return new $t(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=yt.fromString(e);_t(tT(i));const s=new Xl(i.get(1),i.get(3)),r=new ve(i.popFirst(5));return s.isEqual(n)||_s(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class BT extends DT{constructor(e,n,i,s,r,o){super(e,n,i,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Vv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class qu extends BT{data(e={}){return super.data(e)}}class UT{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new gl(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new qu(this._firestore,this._userDataWriter,i.key,i,new gl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let r=0;return i._snapshot.docChanges.map(o=>{const a=new qu(i._firestore,i._userDataWriter,o.doc.key,o.doc,new gl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:r++}})}{let r=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const a=new qu(i._firestore,i._userDataWriter,o.doc.key,o.doc,new gl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return o.type!==0&&(l=r.indexOf(o.doc.key),r=r.delete(o.doc.key)),o.type!==1&&(r=r.add(o.doc),c=r.indexOf(o.doc.key)),{type:HV(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function HV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}class $v extends jV{constructor(e){super(),this.firestore=e}convertBytes(e){return new ua(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,n)}}function $T(t){t=ri(t,fo);const e=ri(t.firestore,lr),n=Dv(e),i=new $v(e);return OT(t._query),TV(n,t._query).then(s=>new UT(e,i,t,s))}function zT(t,e,n){t=ri(t,xn);const i=ri(t.firestore,lr),s=VT(t.converter,e,n);return Wh(i,[xT(jh(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,si.none())])}function ni(t,e,n,...i){t=ri(t,xn);const s=ri(t.firestore,lr),r=jh(s);let o;return o=typeof(e=et(e))=="string"||e instanceof $h?FV(r,"updateDoc",t._key,e,n,i):LV(r,"updateDoc",t._key,e),Wh(s,[o.toMutation(t._key,si.exists(!0))])}function qV(t){return Wh(ri(t.firestore,lr),[new yv(t._key,si.none())])}function Tg(t,e){const n=ri(t.firestore,lr),i=ln(t),s=VT(t.converter,e);return Wh(n,[xT(jh(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,si.exists(!1))]).then(()=>i)}function jT(t,...e){var n,i,s;t=et(t);let r={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||vb(e[o])||(r=e[o],o++);const a={includeMetadataChanges:r.includeMetadataChanges};if(vb(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(i=d.error)===null||i===void 0?void 0:i.bind(d),e[o+2]=(s=d.complete)===null||s===void 0?void 0:s.bind(d)}let l,c,u;if(t instanceof xn)c=ri(t.firestore,lr),u=pv(t._key.path),l={next:d=>{e[o]&&e[o](WV(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ri(t,fo);c=ri(d.firestore,lr),u=d._query;const h=new $v(c);l={next:m=>{e[o]&&e[o](new UT(c,h,d,m))},error:e[o+1],complete:e[o+2]},OT(t._query)}return function(d,h,m,g){const p=new ET(g),v=new gT(h,p,m);return d.asyncQueue.enqueueAndForget(async()=>fT(await Ig(d),v)),()=>{p.Dc(),d.asyncQueue.enqueueAndForget(async()=>mT(await Ig(d),v))}}(Dv(c),u,a,l)}function Wh(t,e){return function(n,i){const s=new Ys;return n.asyncQueue.enqueueAndForget(async()=>hV(await SV(n),i,s)),s.promise}(Dv(t),e)}function WV(t,e,n){const i=n.docs.get(e._key),s=new $v(t);return new BT(t,s,e._key,i,new gl(n.hasPendingWrites,n.fromCache),e.converter)}function KV(){return new Mv("serverTimestamp")}function Kh(...t){return new MV("arrayUnion",t)}(function(t,e=!0){(function(n){Ra=n})(gr),Ei(new ai("firestore",(n,{instanceIdentifier:i,options:s})=>{const r=n.getProvider("app").getImmediate(),o=new lr(new ZM(n.getProvider("auth-internal")),new iL(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new le(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(a.options.projectId,l)}(r,i),r);return s=Object.assign({useFetchStreams:e},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),vn(Lw,"3.12.2",t),vn(Lw,"3.12.2","esm2017")})();var GV="firebase",YV="9.22.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn(GV,YV,"app");const wb="@firebase/database",bb="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HT="";function QV(t){HT=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Qt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ll(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Qi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new XV(e)}}catch{}return new JV},Dr=qT("localStorage"),kg=qT("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new Ic("@firebase/database"),ZV=function(){let t=1;return function(){return t++}}(),WT=function(t){const e=DP(t),n=new xP;n.update(e);const i=n.digest();return kp.encodeByteArray(i)},Kc=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Kc.apply(null,i):typeof i=="object"?e+=Qt(i):e+=i,e+=" "}return e};let $r=null,Eb=!0;const e2=function(t,e){Y(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(qo.logLevel=Qe.VERBOSE,$r=qo.log.bind(qo),e&&kg.set("logging_enabled",!0)):typeof t=="function"?$r=t:($r=null,kg.remove("logging_enabled"))},an=function(...t){if(Eb===!0&&(Eb=!1,$r===null&&kg.get("logging_enabled")===!0&&e2(!0)),$r){const e=Kc.apply(null,t);$r(e)}},Gc=function(t){return function(...e){an(t,...e)}},Ag=function(...t){const e="FIREBASE INTERNAL ERROR: "+Kc(...t);qo.error(e)},Es=function(...t){const e=`FIREBASE FATAL ERROR: ${Kc(...t)}`;throw qo.error(e),new Error(e)},On=function(...t){const e="FIREBASE WARNING: "+Kc(...t);qo.warn(e)},t2=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&On("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Gh=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},n2=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},eo="[MIN_NAME]",cr="[MAX_NAME]",mo=function(t,e){if(t===e)return 0;if(t===eo||e===cr)return-1;if(e===eo||t===cr)return 1;{const n=Cb(t),i=Cb(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},i2=function(t,e){return t===e?0:t<e?-1:1},Za=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Qt(e))},zv=function(t){if(typeof t!="object"||t===null)return Qt(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Qt(e[i]),n+=":",n+=zv(t[e[i]]);return n+="}",n},KT=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function In(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const GT=function(t){Y(!Gh(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,r,o,a,l;t===0?(r=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),r=a+i,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(s?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},s2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},r2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function o2(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const a2=new RegExp("^-?(0*)\\d{1,10}$"),l2=-2147483648,c2=2147483647,Cb=function(t){if(a2.test(t)){const e=Number(t);if(e>=l2&&e<=c2)return e}return null},Oa=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw On("Exception was thrown by user callback.",n),e},Math.floor(0))}},u2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Sl=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){On(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(an("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',On(e)}}class Wo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Wo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="5",YT="v",QT="s",XT="r",JT="f",ZT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,e1="ls",t1="p",xg="ac",n1="websocket",i1="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,n,i,s,r=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Dr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Dr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function f2(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function r1(t,e,n){Y(typeof e=="string","typeof type must == string"),Y(typeof n=="object","typeof params must == object");let i;if(e===n1)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===i1)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);f2(t)&&(n.ns=t.namespace);const s=[];return In(n,(r,o)=>{s.push(r+"="+o)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.counters_={}}incrementCounter(e,n=1){Qi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return mP(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm={},rm={};function Hv(t){const e=t.toString();return sm[e]||(sm[e]=new m2),sm[e]}function g2(t,e){const n=t.toString();return rm[n]||(rm[n]=e()),rm[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&Oa(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="start",v2="close",y2="pLPCommand",_2="pRTLPCB",o1="id",a1="pw",l1="ser",w2="cb",b2="seg",E2="ts",C2="d",I2="dframe",c1=1870,u1=30,S2=c1-u1,T2=25e3,k2=3e4;class Fo{constructor(e,n,i,s,r,o,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Gc(e),this.stats_=Hv(n),this.urlFn=l=>(this.appCheckToken&&(l[xg]=this.appCheckToken),r1(n,i1,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new p2(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(k2)),n2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qv((...r)=>{const[o,a,l,c,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Ib)this.id=a,this.password=l;else if(o===v2)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,a]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[Ib]="t",i[l1]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[w2]=this.scriptTagHolder.uniqueCallbackIdentifier),i[YT]=jv,this.transportSessionId&&(i[QT]=this.transportSessionId),this.lastSessionId&&(i[e1]=this.lastSessionId),this.applicationId&&(i[t1]=this.applicationId),this.appCheckToken&&(i[xg]=this.appCheckToken),typeof location<"u"&&location.hostname&&ZT.test(location.hostname)&&(i[XT]=JT);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Fo.forceAllow_=!0}static forceDisallow(){Fo.forceDisallow_=!0}static isAvailable(){return Fo.forceAllow_?!0:!Fo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!s2()&&!r2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Qt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=CC(n),s=KT(i,S2);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[I2]="t",i[o1]=e,i[a1]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Qt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class qv{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=ZV(),window[y2+this.uniqueCallbackIdentifier]=e,window[_2+this.uniqueCallbackIdentifier]=n,this.myIFrame=qv.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){an("frame writing exception"),a.stack&&an(a.stack),an(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||an("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[o1]=this.myID,e[a1]=this.myPW,e[l1]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+u1+i.length<=c1;){const o=this.pendingSegs.shift();i=i+"&"+b2+s+"="+o.seg+"&"+E2+s+"="+o.ts+"&"+C2+s+"="+o.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(T2)),r=()=>{clearTimeout(s),i()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{an("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=16384,x2=45e3;let Sd=null;typeof MozWebSocket<"u"?Sd=MozWebSocket:typeof WebSocket<"u"&&(Sd=WebSocket);class hi{constructor(e,n,i,s,r,o,a){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Gc(this.connId),this.stats_=Hv(n),this.connURL=hi.connectionURL_(n,o,a,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,r){const o={};return o[YT]=jv,typeof location<"u"&&location.hostname&&ZT.test(location.hostname)&&(o[XT]=JT),n&&(o[QT]=n),i&&(o[e1]=i),s&&(o[xg]=s),r&&(o[t1]=r),r1(e,n1,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Dr.set("previous_websocket_failure",!0);try{let i;xC(),this.mySock=new Sd(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){hi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Sd!==null&&!hi.forceDisallow_}static previouslyFailed(){return Dr.isInMemoryStorage||Dr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Dr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Ll(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Y(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Qt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=KT(n,A2);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(x2))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}hi.responsesRequiredToBeHealthy=2;hi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Fo,hi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=hi&&hi.isAvailable();let i=n&&!hi.previouslyFailed();if(e.webSocketOnly&&(n||On("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[hi];else{const s=this.transports_=[];for(const r of nc.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r);nc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}nc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=6e4,P2=5e3,N2=10*1024,D2=100*1024,om="t",Sb="d",O2="s",Tb="r",M2="e",kb="o",Ab="a",xb="n",Rb="p",L2="h";class F2{constructor(e,n,i,s,r,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Gc("c:"+this.id+":"),this.transportManager_=new nc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Sl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>D2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>N2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(om in e){const n=e[om];n===Ab?this.upgradeIfSecondaryHealthy_():n===Tb?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===kb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Za("t",e),i=Za("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Rb,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ab,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:xb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Za("t",e),i=Za("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Za(om,e);if(Sb in e){const i=e[Sb];if(n===L2){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===xb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===O2?this.onConnectionShutdown_(i):n===Tb?this.onReset_(i):n===M2?Ag("Server Error: "+i):n===kb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ag("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),jv!==i&&On("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Sl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(R2))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Sl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(P2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Rb,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Dr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e){this.allowedEvents_=e,this.listeners_={},Y(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let r=0;r<s.length;r++)if(s[r].callback===n&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(e){Y(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td extends h1{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Rp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Td}getInitialEvent(e){return Y(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=32,Nb=768;class nt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ze(){return new nt("")}function Ue(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ur(t){return t.pieces_.length-t.pieceNum_}function ct(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new nt(t.pieces_,e)}function Wv(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function V2(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ic(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function f1(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new nt(e,0)}function Pt(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof nt)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new nt(n,0)}function $e(t){return t.pieceNum_>=t.pieces_.length}function Nn(t,e){const n=Ue(t),i=Ue(e);if(n===null)return e;if(n===i)return Nn(ct(t),ct(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function B2(t,e){const n=ic(t,0),i=ic(e,0);for(let s=0;s<n.length&&s<i.length;s++){const r=mo(n[s],i[s]);if(r!==0)return r}return n.length===i.length?0:n.length<i.length?-1:1}function Kv(t,e){if(ur(t)!==ur(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function ii(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(ur(t)>ur(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class U2{constructor(e,n){this.errorPrefix_=n,this.parts_=ic(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=dh(this.parts_[i]);m1(this)}}function $2(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=dh(e),m1(t)}function z2(t){const e=t.parts_.pop();t.byteLength_-=dh(e),t.parts_.length>0&&(t.byteLength_-=1)}function m1(t){if(t.byteLength_>Nb)throw new Error(t.errorPrefix_+"has a key path longer than "+Nb+" bytes ("+t.byteLength_+").");if(t.parts_.length>Pb)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Pb+") or object contains a cycle "+Tr(t))}function Tr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv extends h1{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Gv}getInitialEvent(e){return Y(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=1e3,j2=60*5*1e3,Db=30*1e3,H2=1.3,q2=3e4,W2="server_kill",Ob=3;class ms extends d1{constructor(e,n,i,s,r,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=ms.nextPersistentConnectionId_++,this.log_=Gc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=el,this.maxReconnectDelay_=j2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!xC())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Gv.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Td.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,r={r:s,a:e,b:n};this.log_(Qt(r)),Y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new ls,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,i,s){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Y(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(o).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,a=>{const l=a.d,c=a.s;ms.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Qi(e,"w")){const i=ea(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();On(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||AP(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Db)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=kP(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const r=s.s,o=s.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";s&&(r.q=i,r.t=s),this.sendRequest(o,r)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const r={p:n,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,r){this.initConnection_();const o={p:n,d:i};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Qt(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Ag("Unrecognized action received from server: "+Qt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=el,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=el,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>q2&&(this.reconnectDelay_=el),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*H2)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+ms.nextConnectionId_++,r=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,i())},c=function(d){Y(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?an("getToken() completed but was canceled"):(an("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new F2(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,m=>{On(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(W2)},r))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&On(d),l())}}}interrupt(e){an("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){an("Resuming connection for reason: "+e),delete this.interruptReasons_[e],nd(this.interruptReasons_)&&(this.reconnectDelay_=el,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(r=>zv(r)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new nt(e).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(n),r.delete(n),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){an("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ob&&(this.reconnectDelay_=Db,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){an("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ob&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+HT.replace(/\./g,"-")]=1,Rp()?e["framework.cordova"]=1:AC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Td.getInstance().currentlyOnline();return nd(this.interruptReasons_)&&e}}ms.nextPersistentConnectionId_=0;ms.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ze(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new ze(eo,e),s=new ze(eo,n);return this.compare(i,s)!==0}minPost(){return ze.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yu;class g1 extends Yh{static get __EMPTY_NODE(){return yu}static set __EMPTY_NODE(e){yu=e}compare(e,n){return mo(e.name,n.name)}isDefinedOn(e){throw Ea("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ze.MIN}maxPost(){return new ze(cr,yu)}makePost(e,n){return Y(typeof e=="string","KeyIndex indexValue must always be a string."),new ze(e,yu)}toString(){return".key"}}const zr=new g1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Yt{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??Yt.RED,this.left=s??Dn.EMPTY_NODE,this.right=r??Dn.EMPTY_NODE}copy(e,n,i,s,r){return new Yt(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Dn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Dn.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Yt.RED=!0;Yt.BLACK=!1;class K2{copy(e,n,i,s,r){return this}insert(e,n,i){return new Yt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Dn{constructor(e,n=Dn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Dn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Yt.BLACK,null,null))}remove(e){return new Dn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Yt.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new _u(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new _u(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new _u(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new _u(this.root_,null,this.comparator_,!0,e)}}Dn.EMPTY_NODE=new K2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t,e){return mo(t.name,e.name)}function Yv(t,e){return mo(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rg;function Y2(t){Rg=t}const p1=function(t){return typeof t=="number"?"number:"+GT(t):"string:"+t},v1=function(t){if(t.isLeafNode()){const e=t.val();Y(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Qi(e,".sv"),"Priority must be a string or number.")}else Y(t===Rg||t.isEmpty(),"priority of unexpected type.");Y(t===Rg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mb;class Kt{constructor(e,n=Kt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),v1(this.priorityNode_)}static set __childrenNodeConstructor(e){Mb=e}static get __childrenNodeConstructor(){return Mb}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Kt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Kt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return $e(e)?this:Ue(e)===".priority"?this.priorityNode_:Kt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Kt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=Ue(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(Y(i!==".priority"||ur(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Kt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ct(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+p1(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=GT(this.value_):e+=this.value_,this.lazyHash_=WT(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Kt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Kt.__childrenNodeConstructor?-1:(Y(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=Kt.VALUE_TYPE_ORDER.indexOf(n),r=Kt.VALUE_TYPE_ORDER.indexOf(i);return Y(s>=0,"Unknown leaf type: "+n),Y(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Kt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y1,_1;function Q2(t){y1=t}function X2(t){_1=t}class J2 extends Yh{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),r=i.compareTo(s);return r===0?mo(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ze.MIN}maxPost(){return new ze(cr,new Kt("[PRIORITY-POST]",_1))}makePost(e,n){const i=y1(e);return new ze(n,new Kt("[PRIORITY-POST]",i))}toString(){return".priority"}}const bt=new J2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=Math.log(2);class eB{constructor(e){const n=r=>parseInt(Math.log(r)/Z2,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const kd=function(t,e,n,i){t.sort(e);const s=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new Yt(h,d.node,Yt.BLACK,null,null);{const m=parseInt(u/2,10)+l,g=s(l,m),p=s(m+1,c);return d=t[m],h=n?n(d):d,new Yt(h,d.node,Yt.BLACK,g,p)}},r=function(l){let c=null,u=null,d=t.length;const h=function(g,p){const v=d-g,E=d;d-=g;const b=s(v+1,E),C=t[v],S=n?n(C):C;m(new Yt(S,C.node,p,null,b))},m=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){const p=l.nextBitIsOne(),v=Math.pow(2,l.count-(g+1));p?h(v,Yt.BLACK):(h(v,Yt.BLACK),h(v,Yt.RED))}return u},o=new eB(t.length),a=r(o);return new Dn(i||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let am;const Co={};class hs{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Y(Co&&bt,"ChildrenNode.ts has not been loaded"),am=am||new hs({".priority":Co},{".priority":bt}),am}get(e){const n=ea(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Dn?n:null}hasIndex(e){return Qi(this.indexSet_,e.toString())}addIndex(e,n){Y(e!==zr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=n.getIterator(ze.Wrap);let o=r.getNext();for(;o;)s=s||e.isDefinedOn(o.node),i.push(o),o=r.getNext();let a;s?a=kd(i,e.getCompare()):a=Co;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new hs(u,c)}addToIndexes(e,n){const i=id(this.indexes_,(s,r)=>{const o=ea(this.indexSet_,r);if(Y(o,"Missing index implementation for "+r),s===Co)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ze.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),kd(a,o.getCompare())}else return Co;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new ze(e.name,a))),l.insert(e,e.node)}});return new hs(i,this.indexSet_)}removeFromIndexes(e,n){const i=id(this.indexes_,s=>{if(s===Co)return s;{const r=n.get(e.name);return r?s.remove(new ze(e.name,r)):s}});return new hs(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tl;class Ie{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&v1(this.priorityNode_),this.children_.isEmpty()&&Y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return tl||(tl=new Ie(new Dn(Yv),null,hs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||tl}updatePriority(e){return this.children_.isEmpty()?this:new Ie(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?tl:n}}getChild(e){const n=Ue(e);return n===null?this:this.getImmediateChild(n).getChild(ct(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Y(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new ze(e,n);let s,r;n.isEmpty()?(s=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(i,this.children_));const o=s.isEmpty()?tl:this.priorityNode_;return new Ie(s,o,r)}}updateChild(e,n){const i=Ue(e);if(i===null)return n;{Y(Ue(e)!==".priority"||ur(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(ct(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,r=!0;if(this.forEachChild(bt,(o,a)=>{n[o]=a.val(e),i++,r&&Ie.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):r=!1}),!e&&r&&s<2*i){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+p1(this.getPriority().val())+":"),this.forEachChild(bt,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":WT(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new ze(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ze(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ze(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ze.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ze.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)>0;)s.getNext(),r=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Yc?-1:0}withIndex(e){if(e===zr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ie(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===zr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(bt),s=n.getIterator(bt);let r=i.getNext(),o=s.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=i.getNext(),o=s.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===zr?null:this.indexMap_.get(e.toString())}}Ie.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class tB extends Ie{constructor(){super(new Dn(Yv),Ie.EMPTY_NODE,hs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ie.EMPTY_NODE}isEmpty(){return!1}}const Yc=new tB;Object.defineProperties(ze,{MIN:{value:new ze(eo,Ie.EMPTY_NODE)},MAX:{value:new ze(cr,Yc)}});g1.__EMPTY_NODE=Ie.EMPTY_NODE;Kt.__childrenNodeConstructor=Ie;Y2(Yc);X2(Yc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB=!0;function Bt(t,e=null){if(t===null)return Ie.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Y(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Kt(n,Bt(e))}if(!(t instanceof Array)&&nB){const n=[];let i=!1;if(In(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Bt(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new ze(o,l)))}}),n.length===0)return Ie.EMPTY_NODE;const r=kd(n,G2,o=>o.name,Yv);if(i){const o=kd(n,bt.getCompare());return new Ie(r,Bt(e),new hs({".priority":o},{".priority":bt}))}else return new Ie(r,Bt(e),hs.Default)}else{let n=Ie.EMPTY_NODE;return In(t,(i,s)=>{if(Qi(t,i)&&i.substring(0,1)!=="."){const r=Bt(s);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(i,r))}}),n.updatePriority(Bt(e))}}Q2(Bt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv extends Yh{constructor(e){super(),this.indexPath_=e,Y(!$e(e)&&Ue(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),r=i.compareTo(s);return r===0?mo(e.name,n.name):r}makePost(e,n){const i=Bt(e),s=Ie.EMPTY_NODE.updateChild(this.indexPath_,i);return new ze(n,s)}maxPost(){const e=Ie.EMPTY_NODE.updateChild(this.indexPath_,Yc);return new ze(cr,e)}toString(){return ic(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB extends Yh{compare(e,n){const i=e.node.compareTo(n.node);return i===0?mo(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ze.MIN}maxPost(){return ze.MAX}makePost(e,n){const i=Bt(e);return new ze(n,i)}toString(){return".value"}}const w1=new iB;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(t){return{type:"value",snapshotNode:t}}function da(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function sc(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function rc(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function sB(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e){this.index_=e}updateChild(e,n,i,s,r,o){Y(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(i.getChild(s))&&a.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(sc(n,a)):Y(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(da(n,i)):o.trackChildChange(rc(n,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(bt,(s,r)=>{n.hasChild(s)||i.trackChildChange(sc(s,r))}),n.isLeafNode()||n.forEachChild(bt,(s,r)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(r)||i.trackChildChange(rc(s,r,o))}else i.trackChildChange(da(s,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ie.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e){this.indexedFilter_=new Xv(e.getIndex()),this.index_=e.getIndex(),this.startPost_=oc.getStartPost_(e),this.endPost_=oc.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,s,r,o){return this.matches(new ze(n,i))||(i=Ie.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,s,r,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=Ie.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(Ie.EMPTY_NODE);const r=this;return n.forEachChild(bt,(o,a)=>{r.matches(new ze(o,a))||(s=s.updateImmediateChild(o,Ie.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new oc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,s,r,o){return this.rangedFilter_.matches(new ze(n,i))||(i=Ie.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,s,r,o):this.fullLimitUpdateChild_(e,n,i,r,o)}updateFullNode(e,n,i){let s;if(n.isLeafNode()||n.isEmpty())s=Ie.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=Ie.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const a=r.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(Ie.EMPTY_NODE);let r;this.reverse_?r=s.getReverseIterator(this.index_):r=s.getIterator(this.index_);let o=0;for(;r.hasNext();){const a=r.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,Ie.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,s,r){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,m)=>d(m,h)}else o=this.index_.getCompare();const a=e;Y(a.numChildren()===this.limit_,"");const l=new ze(n,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=s.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=s.getChildAfterChild(this.index_,h,this.reverse_);const m=h==null?1:o(h,l);if(u&&!i.isEmpty()&&m>=0)return r!=null&&r.trackChildChange(rc(n,i,d)),a.updateImmediateChild(n,i);{r!=null&&r.trackChildChange(sc(n,d));const p=a.updateImmediateChild(n,Ie.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(r!=null&&r.trackChildChange(da(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}}else return i.isEmpty()?e:u&&o(c,l)>=0?(r!=null&&(r.trackChildChange(sc(c.name,c.node)),r.trackChildChange(da(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(c.name,Ie.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=bt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:eo}hasEnd(){return this.endSet_}getIndexEndValue(){return Y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:cr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===bt}copy(){const e=new Jv;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function oB(t){return t.loadsAllData()?new Xv(t.getIndex()):t.hasLimit()?new rB(t):new oc(t)}function aB(t,e){const n=t.copy();return n.index_=e,n}function Lb(t){const e={};if(t.isDefault())return e;let n;if(t.index_===bt?n="$priority":t.index_===w1?n="$value":t.index_===zr?n="$key":(Y(t.index_ instanceof Qv,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Qt(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Qt(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Qt(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Qt(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Qt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Fb(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==bt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad extends d1{constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Gc("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Y(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=Ad.getListenId_(e,i),a={};this.listens_[o]=a;const l=Lb(e._queryParams);this.restRequest_(r+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(r,d,!1,i),ea(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",s(h,null)}})}unlisten(e,n){const i=Ad.getListenId_(e,n);delete this.listens_[i]}get(e){const n=Lb(e._queryParams),i=e._path.toString(),s=new ls;return this.restRequest_(i+".json",n,(r,o)=>{let a=o;r===404&&(a=null,r=null),r===null?(this.onDataUpdate_(i,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(n.auth=s.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ca(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Ll(a.responseText)}catch{On("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&On("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(){this.rootNode_=Ie.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(){return{value:null,children:new Map}}function Ma(t,e,n){if($e(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=Ue(e);t.children.has(i)||t.children.set(i,xd());const s=t.children.get(i);e=ct(e),Ma(s,e,n)}}function Pg(t,e){if($e(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(bt,(i,s)=>{Ma(t,new nt(i),s)}),Pg(t,e)}}else if(t.children.size>0){const n=Ue(e);return e=ct(e),t.children.has(n)&&Pg(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function Ng(t,e,n){t.value!==null?n(e,t.value):cB(t,(i,s)=>{const r=new nt(e.toString()+"/"+i);Ng(s,r,n)})}function cB(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&In(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=10*1e3,dB=30*1e3,hB=5*60*1e3;class fB{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new uB(e);const i=Vb+(dB-Vb)*Math.random();Sl(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;In(e,(s,r)=>{r>0&&Qi(this.statsToReport_,s)&&(n[s]=r,i=!0)}),i&&this.server_.reportStats(n),Sl(this.reportStats_.bind(this),Math.floor(Math.random()*2*hB))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(mi||(mi={}));function E1(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Zv(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ey(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=mi.ACK_USER_WRITE,this.source=E1()}operationForChild(e){if($e(this.path)){if(this.affectedTree.value!=null)return Y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new nt(e));return new Rd(Ze(),n,this.revert)}}else return Y(Ue(this.path)===e,"operationForChild called for unrelated child."),new Rd(ct(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n){this.source=e,this.path=n,this.type=mi.LISTEN_COMPLETE}operationForChild(e){return $e(this.path)?new ac(this.source,Ze()):new ac(this.source,ct(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=mi.OVERWRITE}operationForChild(e){return $e(this.path)?new to(this.source,Ze(),this.snap.getImmediateChild(e)):new to(this.source,ct(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=mi.MERGE}operationForChild(e){if($e(this.path)){const n=this.children.subtree(new nt(e));return n.isEmpty()?null:n.value?new to(this.source,Ze(),n.value):new lc(this.source,Ze(),n)}else return Y(Ue(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new lc(this.source,ct(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if($e(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ue(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function gB(t,e,n,i){const s=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(sB(o.childName,o.snapshotNode))}),nl(t,s,"child_removed",e,i,n),nl(t,s,"child_added",e,i,n),nl(t,s,"child_moved",r,i,n),nl(t,s,"child_changed",e,i,n),nl(t,s,"value",e,i,n),s}function nl(t,e,n,i,s,r){const o=i.filter(a=>a.type===n);o.sort((a,l)=>vB(t,a,l)),o.forEach(a=>{const l=pB(t,a,r);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function pB(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function vB(t,e,n){if(e.childName==null||n.childName==null)throw Ea("Should only compare child_ events.");const i=new ze(e.childName,e.snapshotNode),s=new ze(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(t,e){return{eventCache:t,serverCache:e}}function Tl(t,e,n,i){return Qh(new no(e,n,i),t.serverCache)}function C1(t,e,n,i){return Qh(t.eventCache,new no(e,n,i))}function Dg(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function io(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lm;const yB=()=>(lm||(lm=new Dn(i2)),lm);class gt{constructor(e,n=yB()){this.value=e,this.children=n}static fromObject(e){let n=new gt(null);return In(e,(i,s)=>{n=n.set(new nt(i),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ze(),value:this.value};if($e(e))return null;{const i=Ue(e),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(ct(e),n);return r!=null?{path:Pt(new nt(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if($e(e))return this;{const n=Ue(e),i=this.children.get(n);return i!==null?i.subtree(ct(e)):new gt(null)}}set(e,n){if($e(e))return new gt(n,this.children);{const i=Ue(e),r=(this.children.get(i)||new gt(null)).set(ct(e),n),o=this.children.insert(i,r);return new gt(this.value,o)}}remove(e){if($e(e))return this.children.isEmpty()?new gt(null):new gt(null,this.children);{const n=Ue(e),i=this.children.get(n);if(i){const s=i.remove(ct(e));let r;return s.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,s),this.value===null&&r.isEmpty()?new gt(null):new gt(this.value,r)}else return this}}get(e){if($e(e))return this.value;{const n=Ue(e),i=this.children.get(n);return i?i.get(ct(e)):null}}setTree(e,n){if($e(e))return n;{const i=Ue(e),r=(this.children.get(i)||new gt(null)).setTree(ct(e),n);let o;return r.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,r),new gt(this.value,o)}}fold(e){return this.fold_(Ze(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_(Pt(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Ze(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if($e(e))return null;{const r=Ue(e),o=this.children.get(r);return o?o.findOnPath_(ct(e),Pt(n,r),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ze(),n)}foreachOnPath_(e,n,i){if($e(e))return this;{this.value&&i(n,this.value);const s=Ue(e),r=this.children.get(s);return r?r.foreachOnPath_(ct(e),Pt(n,s),i):new gt(null)}}foreach(e){this.foreach_(Ze(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(Pt(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.writeTree_=e}static empty(){return new vi(new gt(null))}}function kl(t,e,n){if($e(e))return new vi(new gt(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let r=i.value;const o=Nn(s,e);return r=r.updateChild(o,n),new vi(t.writeTree_.set(s,r))}else{const s=new gt(n),r=t.writeTree_.setTree(e,s);return new vi(r)}}}function Bb(t,e,n){let i=t;return In(n,(s,r)=>{i=kl(i,Pt(e,s),r)}),i}function Ub(t,e){if($e(e))return vi.empty();{const n=t.writeTree_.setTree(e,new gt(null));return new vi(n)}}function Og(t,e){return go(t,e)!=null}function go(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Nn(n.path,e)):null}function $b(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(bt,(i,s)=>{e.push(new ze(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new ze(i,s.value))}),e}function Xs(t,e){if($e(e))return t;{const n=go(t,e);return n!=null?new vi(new gt(n)):new vi(t.writeTree_.subtree(e))}}function Mg(t){return t.writeTree_.isEmpty()}function ha(t,e){return I1(Ze(),t.writeTree_,e)}function I1(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,r)=>{s===".priority"?(Y(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):n=I1(Pt(t,s),r,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Pt(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t,e){return A1(e,t)}function _B(t,e,n,i,s){Y(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=kl(t.visibleWrites,e,n)),t.lastWriteId=i}function wB(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function bB(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Y(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,r=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&EB(a,i.path)?s=!1:ii(i.path,a.path)&&(r=!0)),o--}if(s){if(r)return CB(t),!0;if(i.snap)t.visibleWrites=Ub(t.visibleWrites,i.path);else{const a=i.children;In(a,l=>{t.visibleWrites=Ub(t.visibleWrites,Pt(i.path,l))})}return!0}else return!1}function EB(t,e){if(t.snap)return ii(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ii(Pt(t.path,n),e))return!0;return!1}function CB(t){t.visibleWrites=S1(t.allWrites,IB,Ze()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function IB(t){return t.visible}function S1(t,e,n){let i=vi.empty();for(let s=0;s<t.length;++s){const r=t[s];if(e(r)){const o=r.path;let a;if(r.snap)ii(n,o)?(a=Nn(n,o),i=kl(i,a,r.snap)):ii(o,n)&&(a=Nn(o,n),i=kl(i,Ze(),r.snap.getChild(a)));else if(r.children){if(ii(n,o))a=Nn(n,o),i=Bb(i,a,r.children);else if(ii(o,n))if(a=Nn(o,n),$e(a))i=Bb(i,Ze(),r.children);else{const l=ea(r.children,Ue(a));if(l){const c=l.getChild(ct(a));i=kl(i,Ze(),c)}}}else throw Ea("WriteRecord should have .snap or .children")}}return i}function T1(t,e,n,i,s){if(!i&&!s){const r=go(t.visibleWrites,e);if(r!=null)return r;{const o=Xs(t.visibleWrites,e);if(Mg(o))return n;if(n==null&&!Og(o,Ze()))return null;{const a=n||Ie.EMPTY_NODE;return ha(o,a)}}}else{const r=Xs(t.visibleWrites,e);if(!s&&Mg(r))return n;if(!s&&n==null&&!Og(r,Ze()))return null;{const o=function(c){return(c.visible||s)&&(!i||!~i.indexOf(c.writeId))&&(ii(c.path,e)||ii(e,c.path))},a=S1(t.allWrites,o,e),l=n||Ie.EMPTY_NODE;return ha(a,l)}}}function SB(t,e,n){let i=Ie.EMPTY_NODE;const s=go(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(bt,(r,o)=>{i=i.updateImmediateChild(r,o)}),i;if(n){const r=Xs(t.visibleWrites,e);return n.forEachChild(bt,(o,a)=>{const l=ha(Xs(r,new nt(o)),a);i=i.updateImmediateChild(o,l)}),$b(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const r=Xs(t.visibleWrites,e);return $b(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function TB(t,e,n,i,s){Y(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=Pt(e,n);if(Og(t.visibleWrites,r))return null;{const o=Xs(t.visibleWrites,r);return Mg(o)?s.getChild(n):ha(o,s.getChild(n))}}function kB(t,e,n,i){const s=Pt(e,n),r=go(t.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(n)){const o=Xs(t.visibleWrites,s);return ha(o,i.getNode().getImmediateChild(n))}else return null}function AB(t,e){return go(t.visibleWrites,e)}function xB(t,e,n,i,s,r,o){let a;const l=Xs(t.visibleWrites,e),c=go(l,Ze());if(c!=null)a=c;else if(n!=null)a=ha(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),h=r?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let m=h.getNext();for(;m&&u.length<s;)d(m,i)!==0&&u.push(m),m=h.getNext();return u}else return[]}function RB(){return{visibleWrites:vi.empty(),allWrites:[],lastWriteId:-1}}function Pd(t,e,n,i){return T1(t.writeTree,t.treePath,e,n,i)}function ny(t,e){return SB(t.writeTree,t.treePath,e)}function zb(t,e,n,i){return TB(t.writeTree,t.treePath,e,n,i)}function Nd(t,e){return AB(t.writeTree,Pt(t.treePath,e))}function PB(t,e,n,i,s,r){return xB(t.writeTree,t.treePath,e,n,i,s,r)}function iy(t,e,n){return kB(t.writeTree,t.treePath,e,n)}function k1(t,e){return A1(Pt(t.treePath,e),t.writeTree)}function A1(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;Y(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Y(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(i,rc(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(i,sc(i,s.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(i,da(i,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(i,rc(i,e.snapshotNode,s.oldSnap));else throw Ea("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const x1=new DB;class sy{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new no(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return iy(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:io(this.viewCache_),r=PB(this.writes_,s,n,1,i,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OB(t){return{filter:t}}function MB(t,e){Y(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Y(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function LB(t,e,n,i,s){const r=new NB;let o,a;if(n.type===mi.OVERWRITE){const c=n;c.source.fromUser?o=Lg(t,e,c.path,c.snap,i,s,r):(Y(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!$e(c.path),o=Dd(t,e,c.path,c.snap,i,s,a,r))}else if(n.type===mi.MERGE){const c=n;c.source.fromUser?o=VB(t,e,c.path,c.children,i,s,r):(Y(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Fg(t,e,c.path,c.children,i,s,a,r))}else if(n.type===mi.ACK_USER_WRITE){const c=n;c.revert?o=$B(t,e,c.path,i,s,r):o=BB(t,e,c.path,c.affectedTree,i,s,r)}else if(n.type===mi.LISTEN_COMPLETE)o=UB(t,e,n.path,i,r);else throw Ea("Unknown operation type: "+n.type);const l=r.getChanges();return FB(e,o,l),{viewCache:o,changes:l}}function FB(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=Dg(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&n.push(b1(Dg(e)))}}function R1(t,e,n,i,s,r){const o=e.eventCache;if(Nd(i,n)!=null)return e;{let a,l;if($e(n))if(Y(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=io(e),u=c instanceof Ie?c:Ie.EMPTY_NODE,d=ny(i,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,r)}else{const c=Pd(i,io(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=Ue(n);if(c===".priority"){Y(ur(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=zb(i,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=ct(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=zb(i,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=iy(i,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,s,r):a=o.getNode()}}return Tl(e,a,o.isFullyInitialized()||$e(n),t.filter.filtersNodes())}}function Dd(t,e,n,i,s,r,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if($e(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const m=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),m,null)}else{const m=Ue(n);if(!l.isCompleteForPath(n)&&ur(n)>1)return e;const g=ct(n),v=l.getNode().getImmediateChild(m).updateChild(g,i);m===".priority"?c=u.updatePriority(l.getNode(),v):c=u.updateChild(l.getNode(),m,v,g,x1,null)}const d=C1(e,c,l.isFullyInitialized()||$e(n),u.filtersNodes()),h=new sy(s,d,r);return R1(t,d,n,s,h,a)}function Lg(t,e,n,i,s,r,o){const a=e.eventCache;let l,c;const u=new sy(s,e,r);if($e(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,o),l=Tl(e,c,!0,t.filter.filtersNodes());else{const d=Ue(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),l=Tl(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=ct(n),m=a.getNode().getImmediateChild(d);let g;if($e(h))g=i;else{const p=u.getCompleteChild(d);p!=null?Wv(h)===".priority"&&p.getChild(f1(h)).isEmpty()?g=p:g=p.updateChild(h,i):g=Ie.EMPTY_NODE}if(m.equals(g))l=e;else{const p=t.filter.updateChild(a.getNode(),d,g,h,u,o);l=Tl(e,p,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function jb(t,e){return t.eventCache.isCompleteForChild(e)}function VB(t,e,n,i,s,r,o){let a=e;return i.foreach((l,c)=>{const u=Pt(n,l);jb(e,Ue(u))&&(a=Lg(t,a,u,c,s,r,o))}),i.foreach((l,c)=>{const u=Pt(n,l);jb(e,Ue(u))||(a=Lg(t,a,u,c,s,r,o))}),a}function Hb(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function Fg(t,e,n,i,s,r,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;$e(n)?c=i:c=new gt(null).setTree(n,i);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const m=e.serverCache.getNode().getImmediateChild(d),g=Hb(t,m,h);l=Dd(t,l,new nt(d),g,s,r,o,a)}}),c.children.inorderTraversal((d,h)=>{const m=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!m){const g=e.serverCache.getNode().getImmediateChild(d),p=Hb(t,g,h);l=Dd(t,l,new nt(d),p,s,r,o,a)}}),l}function BB(t,e,n,i,s,r,o){if(Nd(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if($e(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Dd(t,e,n,l.getNode().getChild(n),s,r,a,o);if($e(n)){let c=new gt(null);return l.getNode().forEachChild(zr,(u,d)=>{c=c.set(new nt(u),d)}),Fg(t,e,n,c,s,r,a,o)}else return e}else{let c=new gt(null);return i.foreach((u,d)=>{const h=Pt(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),Fg(t,e,n,c,s,r,a,o)}}function UB(t,e,n,i,s){const r=e.serverCache,o=C1(e,r.getNode(),r.isFullyInitialized()||$e(n),r.isFiltered());return R1(t,o,n,i,x1,s)}function $B(t,e,n,i,s,r){let o;if(Nd(i,n)!=null)return e;{const a=new sy(i,e,s),l=e.eventCache.getNode();let c;if($e(n)||Ue(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Pd(i,io(e));else{const d=e.serverCache.getNode();Y(d instanceof Ie,"serverChildren would be complete if leaf node"),u=ny(i,d)}u=u,c=t.filter.updateFullNode(l,u,r)}else{const u=Ue(n);let d=iy(i,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,ct(n),a,r):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,Ie.EMPTY_NODE,ct(n),a,r):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Pd(i,io(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||Nd(i,Ze())!=null,Tl(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new Xv(i.getIndex()),r=oB(i);this.processor_=OB(r);const o=n.serverCache,a=n.eventCache,l=s.updateFullNode(Ie.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(Ie.EMPTY_NODE,a.getNode(),null),u=new no(l,o.isFullyInitialized(),s.filtersNodes()),d=new no(c,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=Qh(d,u),this.eventGenerator_=new mB(this.query_)}get query(){return this.query_}}function jB(t){return t.viewCache_.serverCache.getNode()}function HB(t,e){const n=io(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!$e(e)&&!n.getImmediateChild(Ue(e)).isEmpty())?n.getChild(e):null}function qb(t){return t.eventRegistrations_.length===0}function qB(t,e){t.eventRegistrations_.push(e)}function Wb(t,e,n){const i=[];if(n){Y(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,s);o&&i.push(o)})}if(e){let s=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function Kb(t,e,n,i){e.type===mi.MERGE&&e.source.queryId!==null&&(Y(io(t.viewCache_),"We should always have a full cache before handling merges"),Y(Dg(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,r=LB(t.processor_,s,e,n,i);return MB(t.processor_,r.viewCache),Y(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,P1(t,r.changes,r.viewCache.eventCache.getNode(),null)}function WB(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(bt,(r,o)=>{i.push(da(r,o))}),n.isFullyInitialized()&&i.push(b1(n.getNode())),P1(t,i,n.getNode(),e)}function P1(t,e,n,i){const s=i?[i]:t.eventRegistrations_;return gB(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od;class KB{constructor(){this.views=new Map}}function GB(t){Y(!Od,"__referenceConstructor has already been defined"),Od=t}function YB(){return Y(Od,"Reference.ts has not been loaded"),Od}function QB(t){return t.views.size===0}function ry(t,e,n,i){const s=e.source.queryId;if(s!==null){const r=t.views.get(s);return Y(r!=null,"SyncTree gave us an op for an invalid query."),Kb(r,e,n,i)}else{let r=[];for(const o of t.views.values())r=r.concat(Kb(o,e,n,i));return r}}function XB(t,e,n,i,s){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let a=Pd(n,s?i:null),l=!1;a?l=!0:i instanceof Ie?(a=ny(n,i),l=!1):(a=Ie.EMPTY_NODE,l=!1);const c=Qh(new no(a,l,!1),new no(i,s,!1));return new zB(e,c)}return o}function JB(t,e,n,i,s,r){const o=XB(t,e,i,s,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),qB(o,n),WB(o,n)}function ZB(t,e,n,i){const s=e._queryIdentifier,r=[];let o=[];const a=dr(t);if(s==="default")for(const[l,c]of t.views.entries())o=o.concat(Wb(c,n,i)),qb(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||r.push(c.query));else{const l=t.views.get(s);l&&(o=o.concat(Wb(l,n,i)),qb(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||r.push(l.query)))}return a&&!dr(t)&&r.push(new(YB())(e._repo,e._path)),{removed:r,events:o}}function N1(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ko(t,e){let n=null;for(const i of t.views.values())n=n||HB(i,e);return n}function D1(t,e){if(e._queryParams.loadsAllData())return Xh(t);{const i=e._queryIdentifier;return t.views.get(i)}}function O1(t,e){return D1(t,e)!=null}function dr(t){return Xh(t)!=null}function Xh(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Md;function eU(t){Y(!Md,"__referenceConstructor has already been defined"),Md=t}function tU(){return Y(Md,"Reference.ts has not been loaded"),Md}let nU=1;class Gb{constructor(e){this.listenProvider_=e,this.syncPointTree_=new gt(null),this.pendingWriteTree_=RB(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function M1(t,e,n,i,s){return _B(t.pendingWriteTree_,e,n,i,s),s?Qc(t,new to(E1(),e,n)):[]}function Or(t,e,n=!1){const i=wB(t.pendingWriteTree_,e);if(bB(t.pendingWriteTree_,e)){let r=new gt(null);return i.snap!=null?r=r.set(Ze(),!0):In(i.children,o=>{r=r.set(new nt(o),!0)}),Qc(t,new Rd(i.path,r,n))}else return[]}function Jh(t,e,n){return Qc(t,new to(Zv(),e,n))}function iU(t,e,n){const i=gt.fromObject(n);return Qc(t,new lc(Zv(),e,i))}function sU(t,e){return Qc(t,new ac(Zv(),e))}function rU(t,e,n){const i=ay(t,n);if(i){const s=ly(i),r=s.path,o=s.queryId,a=Nn(r,e),l=new ac(ey(o),a);return cy(t,r,l)}else return[]}function Vg(t,e,n,i,s=!1){const r=e._path,o=t.syncPointTree_.get(r);let a=[];if(o&&(e._queryIdentifier==="default"||O1(o,e))){const l=ZB(o,e,n,i);QB(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const c=l.removed;if(a=l.events,!s){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(r,(h,m)=>dr(m));if(u&&!d){const h=t.syncPointTree_.subtree(r);if(!h.isEmpty()){const m=lU(h);for(let g=0;g<m.length;++g){const p=m[g],v=p.query,E=V1(t,p);t.listenProvider_.startListening(Al(v),Ld(t,v),E.hashFn,E.onComplete)}}}!d&&c.length>0&&!i&&(u?t.listenProvider_.stopListening(Al(e),null):c.forEach(h=>{const m=t.queryToTagMap.get(Zh(h));t.listenProvider_.stopListening(Al(h),m)}))}cU(t,c)}return a}function oU(t,e,n,i){const s=ay(t,i);if(s!=null){const r=ly(s),o=r.path,a=r.queryId,l=Nn(o,e),c=new to(ey(a),l,n);return cy(t,o,c)}else return[]}function aU(t,e,n,i){const s=ay(t,i);if(s){const r=ly(s),o=r.path,a=r.queryId,l=Nn(o,e),c=gt.fromObject(n),u=new lc(ey(a),l,c);return cy(t,o,u)}else return[]}function Yb(t,e,n,i=!1){const s=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(s,(h,m)=>{const g=Nn(h,s);r=r||Ko(m,g),o=o||dr(m)});let a=t.syncPointTree_.get(s);a?(o=o||dr(a),r=r||Ko(a,Ze())):(a=new KB,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;r!=null?l=!0:(l=!1,r=Ie.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((m,g)=>{const p=Ko(g,Ze());p&&(r=r.updateImmediateChild(m,p))}));const c=O1(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=Zh(e);Y(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const m=uU();t.queryToTagMap.set(h,m),t.tagToQueryMap.set(m,h)}const u=ty(t.pendingWriteTree_,s);let d=JB(a,e,n,u,r,l);if(!c&&!o&&!i){const h=D1(a,e);d=d.concat(dU(t,e,h))}return d}function oy(t,e,n){const s=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Nn(o,e),c=Ko(a,l);if(c)return c});return T1(s,e,r,n,!0)}function Qc(t,e){return L1(e,t.syncPointTree_,null,ty(t.pendingWriteTree_,Ze()))}function L1(t,e,n,i){if($e(t.path))return F1(t,e,n,i);{const s=e.get(Ze());n==null&&s!=null&&(n=Ko(s,Ze()));let r=[];const o=Ue(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=k1(i,o);r=r.concat(L1(a,l,c,u))}return s&&(r=r.concat(ry(s,t,i,n))),r}}function F1(t,e,n,i){const s=e.get(Ze());n==null&&s!=null&&(n=Ko(s,Ze()));let r=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=k1(i,o),u=t.operationForChild(o);u&&(r=r.concat(F1(u,a,l,c)))}),s&&(r=r.concat(ry(s,t,i,n))),r}function V1(t,e){const n=e.query,i=Ld(t,n);return{hashFn:()=>(jB(e)||Ie.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?rU(t,n._path,i):sU(t,n._path);{const r=o2(s,n);return Vg(t,n,null,r)}}}}function Ld(t,e){const n=Zh(e);return t.queryToTagMap.get(n)}function Zh(t){return t._path.toString()+"$"+t._queryIdentifier}function ay(t,e){return t.tagToQueryMap.get(e)}function ly(t){const e=t.indexOf("$");return Y(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new nt(t.substr(0,e))}}function cy(t,e,n){const i=t.syncPointTree_.get(e);Y(i,"Missing sync point for query tag that we're tracking");const s=ty(t.pendingWriteTree_,e);return ry(i,n,s,null)}function lU(t){return t.fold((e,n,i)=>{if(n&&dr(n))return[Xh(n)];{let s=[];return n&&(s=N1(n)),In(i,(r,o)=>{s=s.concat(o)}),s}})}function Al(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(tU())(t._repo,t._path):t}function cU(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const s=Zh(i),r=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(r)}}}function uU(){return nU++}function dU(t,e,n){const i=e._path,s=Ld(t,e),r=V1(t,n),o=t.listenProvider_.startListening(Al(e),s,r.hashFn,r.onComplete),a=t.syncPointTree_.subtree(i);if(s)Y(!dr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!$e(c)&&u&&dr(u))return[Xh(u).query];{let h=[];return u&&(h=h.concat(N1(u).map(m=>m.query))),In(d,(m,g)=>{h=h.concat(g)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(Al(u),Ld(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new uy(n)}node(){return this.node_}}class dy{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Pt(this.path_,e);return new dy(this.syncTree_,n)}node(){return oy(this.syncTree_,this.path_)}}const hU=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Qb=function(t,e,n){if(!t||typeof t!="object")return t;if(Y(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return fU(t[".sv"],e,n);if(typeof t[".sv"]=="object")return mU(t[".sv"],e);Y(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},fU=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Y(!1,"Unexpected server value: "+t)}},mU=function(t,e,n){t.hasOwnProperty("increment")||Y(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&Y(!1,"Unexpected increment value: "+i);const s=e.node();if(Y(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const o=s.getValue();return typeof o!="number"?i:o+i},gU=function(t,e,n,i){return hy(e,new dy(n,t),i)},B1=function(t,e,n){return hy(t,new uy(e),n)};function hy(t,e,n){const i=t.getPriority().val(),s=Qb(i,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,a=Qb(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Kt(a,Bt(s)):t}else{const o=t;return r=o,s!==o.getPriority().val()&&(r=r.updatePriority(new Kt(s))),o.forEachChild(bt,(a,l)=>{const c=hy(l,e.getImmediateChild(a),n);c!==l&&(r=r.updateImmediateChild(a,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function my(t,e){let n=e instanceof nt?e:new nt(e),i=t,s=Ue(n);for(;s!==null;){const r=ea(i.node.children,s)||{children:{},childCount:0};i=new fy(s,i,r),n=ct(n),s=Ue(n)}return i}function La(t){return t.node.value}function U1(t,e){t.node.value=e,Bg(t)}function $1(t){return t.node.childCount>0}function pU(t){return La(t)===void 0&&!$1(t)}function ef(t,e){In(t.node.children,(n,i)=>{e(new fy(n,t,i))})}function z1(t,e,n,i){n&&!i&&e(t),ef(t,s=>{z1(s,e,!0,i)}),n&&i&&e(t)}function vU(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Xc(t){return new nt(t.parent===null?t.name:Xc(t.parent)+"/"+t.name)}function Bg(t){t.parent!==null&&yU(t.parent,t.name,t)}function yU(t,e,n){const i=pU(n),s=Qi(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,Bg(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Bg(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=/[\[\].#$\/\u0000-\u001F\u007F]/,wU=/[\[\].#$\u0000-\u001F\u007F]/,cm=10*1024*1024,gy=function(t){return typeof t=="string"&&t.length!==0&&!_U.test(t)},j1=function(t){return typeof t=="string"&&t.length!==0&&!wU.test(t)},bU=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),j1(t)},Fd=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Gh(t)||t&&typeof t=="object"&&Qi(t,".sv")},Ug=function(t,e,n,i){i&&e===void 0||tf(ta(t,"value"),e,n)},tf=function(t,e,n){const i=n instanceof nt?new U2(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Tr(i));if(typeof e=="function")throw new Error(t+"contains a function "+Tr(i)+" with contents = "+e.toString());if(Gh(e))throw new Error(t+"contains "+e.toString()+" "+Tr(i));if(typeof e=="string"&&e.length>cm/3&&dh(e)>cm)throw new Error(t+"contains a string greater than "+cm+" utf8 bytes "+Tr(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,r=!1;if(In(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!gy(o)))throw new Error(t+" contains an invalid key ("+o+") "+Tr(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);$2(i,o),tf(t,a,i),z2(i)}),s&&r)throw new Error(t+' contains ".value" child '+Tr(i)+" in addition to actual children.")}},EU=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const r=ic(i);for(let o=0;o<r.length;o++)if(!(r[o]===".priority"&&o===r.length-1)){if(!gy(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(B2);let s=null;for(n=0;n<e.length;n++){if(i=e[n],s!==null&&ii(s,i))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}},CU=function(t,e,n,i){if(i&&e===void 0)return;const s=ta(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const r=[];In(e,(o,a)=>{const l=new nt(o);if(tf(s,a,Pt(n,l)),Wv(l)===".priority"&&!Fd(a))throw new Error(s+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");r.push(l)}),EU(s,r)},IU=function(t,e,n){if(!(n&&e===void 0)){if(Gh(e))throw new Error(ta(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Fd(e))throw new Error(ta(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},py=function(t,e,n,i){if(!(i&&n===void 0)&&!j1(n))throw new Error(ta(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},SU=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),py(t,e,n,i)},pl=function(t,e){if(Ue(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},TU=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!gy(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!bU(n))throw new Error(ta(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function vy(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],r=s.getPath();n!==null&&!Kv(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(s)}n&&t.eventLists_.push(n)}function H1(t,e,n){vy(t,n),q1(t,i=>Kv(i,e))}function Cs(t,e,n){vy(t,n),q1(t,i=>ii(i,e)||ii(e,i))}function q1(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const r=s.path;e(r)?(AU(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function AU(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();$r&&an("event: "+n.toString()),Oa(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU="repo_interrupt",RU=25;class PU{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new kU,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xd(),this.transactionQueueTree_=new fy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function NU(t,e,n){if(t.stats_=Hv(t.repoInfo_),t.forceRestClient_||u2())t.server_=new Ad(t.repoInfo_,(i,s,r,o)=>{Xb(t,i,s,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Jb(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Qt(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new ms(t.repoInfo_,e,(i,s,r,o)=>{Xb(t,i,s,r,o)},i=>{Jb(t,i)},i=>{OU(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=g2(t.repoInfo_,()=>new fB(t.stats_,t.server_)),t.infoData_=new lB,t.infoSyncTree_=new Gb({startListening:(i,s,r,o)=>{let a=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=Jh(t.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),_y(t,"connected",!1),t.serverSyncTree_=new Gb({startListening:(i,s,r,o)=>(t.server_.listen(i,r,s,(a,l)=>{const c=o(a,l);Cs(t.eventQueue_,i._path,c)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function DU(t){const n=t.infoData_.getNode(new nt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function yy(t){return hU({timestamp:DU(t)})}function Xb(t,e,n,i,s){t.dataUpdateCount++;const r=new nt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(i){const l=id(n,c=>Bt(c));o=aU(t.serverSyncTree_,r,l,s)}else{const l=Bt(n);o=oU(t.serverSyncTree_,r,l,s)}else if(i){const l=id(n,c=>Bt(c));o=iU(t.serverSyncTree_,r,l)}else{const l=Bt(n);o=Jh(t.serverSyncTree_,r,l)}let a=r;o.length>0&&(a=nf(t,r)),Cs(t.eventQueue_,a,o)}function Jb(t,e){_y(t,"connected",e),e===!1&&LU(t)}function OU(t,e){In(e,(n,i)=>{_y(t,n,i)})}function _y(t,e,n){const i=new nt("/.info/"+e),s=Bt(n);t.infoData_.updateSnapshot(i,s);const r=Jh(t.infoSyncTree_,i,s);Cs(t.eventQueue_,i,r)}function W1(t){return t.nextWriteId_++}function MU(t,e,n,i,s){wy(t,"set",{path:e.toString(),value:n,priority:i});const r=yy(t),o=Bt(n,i),a=oy(t.serverSyncTree_,e),l=B1(o,a,r),c=W1(t),u=M1(t.serverSyncTree_,e,l,c,!0);vy(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(h,m)=>{const g=h==="ok";g||On("set at "+e+" failed: "+h);const p=Or(t.serverSyncTree_,c,!g);Cs(t.eventQueue_,e,p),fa(t,s,h,m)});const d=X1(t,e);nf(t,d),Cs(t.eventQueue_,d,[])}function LU(t){wy(t,"onDisconnectEvents");const e=yy(t),n=xd();Ng(t.onDisconnect_,Ze(),(s,r)=>{const o=gU(s,r,t.serverSyncTree_,e);Ma(n,s,o)});let i=[];Ng(n,Ze(),(s,r)=>{i=i.concat(Jh(t.serverSyncTree_,s,r));const o=X1(t,s);nf(t,o)}),t.onDisconnect_=xd(),Cs(t.eventQueue_,Ze(),i)}function FU(t,e,n){t.server_.onDisconnectCancel(e.toString(),(i,s)=>{i==="ok"&&Pg(t.onDisconnect_,e),fa(t,n,i,s)})}function Zb(t,e,n,i){const s=Bt(n);t.server_.onDisconnectPut(e.toString(),s.val(!0),(r,o)=>{r==="ok"&&Ma(t.onDisconnect_,e,s),fa(t,i,r,o)})}function VU(t,e,n,i,s){const r=Bt(n,i);t.server_.onDisconnectPut(e.toString(),r.val(!0),(o,a)=>{o==="ok"&&Ma(t.onDisconnect_,e,r),fa(t,s,o,a)})}function BU(t,e,n,i){if(nd(n)){an("onDisconnect().update() called with empty data.  Don't do anything."),fa(t,i,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(s,r)=>{s==="ok"&&In(n,(o,a)=>{const l=Bt(a);Ma(t.onDisconnect_,Pt(e,o),l)}),fa(t,i,s,r)})}function UU(t,e,n){let i;Ue(e._path)===".info"?i=Yb(t.infoSyncTree_,e,n):i=Yb(t.serverSyncTree_,e,n),H1(t.eventQueue_,e._path,i)}function e0(t,e,n){let i;Ue(e._path)===".info"?i=Vg(t.infoSyncTree_,e,n):i=Vg(t.serverSyncTree_,e,n),H1(t.eventQueue_,e._path,i)}function $U(t){t.persistentConnection_&&t.persistentConnection_.interrupt(xU)}function wy(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),an(n,...e)}function fa(t,e,n,i){e&&Oa(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let r=s;i&&(r+=": "+i);const o=new Error(r);o.code=s,e(o)}})}function K1(t,e,n){return oy(t.serverSyncTree_,e,n)||Ie.EMPTY_NODE}function by(t,e=t.transactionQueueTree_){if(e||sf(t,e),La(e)){const n=Y1(t,e);Y(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&zU(t,Xc(e),n)}else $1(e)&&ef(e,n=>{by(t,n)})}function zU(t,e,n){const i=n.map(c=>c.currentWriteId),s=K1(t,e,i);let r=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];Y(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Nn(e,u.path);r=r.updateChild(d,u.currentOutputSnapshotRaw)}const a=r.val(!0),l=e;t.server_.put(l.toString(),a,c=>{wy(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Or(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();sf(t,my(t.transactionQueueTree_,e)),by(t,t.transactionQueueTree_),Cs(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)Oa(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{On("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}nf(t,e)}},o)}function nf(t,e){const n=G1(t,e),i=Xc(n),s=Y1(t,n);return jU(t,s,i),i}function jU(t,e,n){if(e.length===0)return;const i=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Nn(n,l.path);let u=!1,d;if(Y(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,s=s.concat(Or(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=RU)u=!0,d="maxretry",s=s.concat(Or(t.serverSyncTree_,l.currentWriteId,!0));else{const h=K1(t,l.path,o);l.currentInputSnapshot=h;const m=e[a].update(h.val());if(m!==void 0){tf("transaction failed: Data returned ",m,l.path);let g=Bt(m);typeof m=="object"&&m!=null&&Qi(m,".priority")||(g=g.updatePriority(h.getPriority()));const v=l.currentWriteId,E=yy(t),b=B1(g,h,E);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=b,l.currentWriteId=W1(t),o.splice(o.indexOf(v),1),s=s.concat(M1(t.serverSyncTree_,l.path,b,l.currentWriteId,l.applyLocally)),s=s.concat(Or(t.serverSyncTree_,v,!0))}else u=!0,d="nodata",s=s.concat(Or(t.serverSyncTree_,l.currentWriteId,!0))}Cs(t.eventQueue_,n,s),s=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(d),!1,null))))}sf(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)Oa(i[a]);by(t,t.transactionQueueTree_)}function G1(t,e){let n,i=t.transactionQueueTree_;for(n=Ue(e);n!==null&&La(i)===void 0;)i=my(i,n),e=ct(e),n=Ue(e);return i}function Y1(t,e){const n=[];return Q1(t,e,n),n.sort((i,s)=>i.order-s.order),n}function Q1(t,e,n){const i=La(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);ef(e,s=>{Q1(t,s,n)})}function sf(t,e){const n=La(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,U1(e,n.length>0?n:void 0)}ef(e,i=>{sf(t,i)})}function X1(t,e){const n=Xc(G1(t,e)),i=my(t.transactionQueueTree_,e);return vU(i,s=>{um(t,s)}),um(t,i),z1(i,s=>{um(t,s)}),n}function um(t,e){const n=La(e);if(n){const i=[];let s=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Y(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(Y(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Or(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?U1(e,void 0):n.length=r+1,Cs(t.eventQueue_,Xc(e),s);for(let o=0;o<i.length;o++)Oa(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function qU(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):On(`Invalid query segment '${n}' in query '${t}'`)}return e}const t0=function(t,e){const n=WU(t),i=n.namespace;n.domain==="firebase.com"&&Es(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Es("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||t2();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new s1(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new nt(n.pathString)}},WU=function(t){let e="",n="",i="",s="",r="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(s=HU(t.substring(u,d)));const h=qU(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const m=e.slice(0,c);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const g=e.indexOf(".");i=e.substring(0,g).toLowerCase(),n=e.substring(g+1),r=i}"ns"in h&&(r=h.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n,i,s){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Qt(this.snapshot.exportVal())}}class Z1{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Y(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new ls;return FU(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){pl("OnDisconnect.remove",this._path);const e=new ls;return Zb(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){pl("OnDisconnect.set",this._path),Ug("OnDisconnect.set",e,this._path,!1);const n=new ls;return Zb(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){pl("OnDisconnect.setWithPriority",this._path),Ug("OnDisconnect.setWithPriority",e,this._path,!1),IU("OnDisconnect.setWithPriority",n,!1);const i=new ls;return VU(this._repo,this._path,e,n,i.wrapCallback(()=>{})),i.promise}update(e){pl("OnDisconnect.update",this._path),CU("OnDisconnect.update",e,this._path,!1);const n=new ls;return BU(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return $e(this._path)?null:Wv(this._path)}get ref(){return new Ts(this._repo,this._path)}get _queryIdentifier(){const e=Fb(this._queryParams),n=zv(e);return n==="{}"?"default":n}get _queryObject(){return Fb(this._queryParams)}isEqual(e){if(e=et(e),!(e instanceof rf))return!1;const n=this._repo===e._repo,i=Kv(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+V2(this._path)}}function YU(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function QU(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===zr){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==eo)throw new Error(i);if(typeof e!="string")throw new Error(s)}if(t.hasEnd()){if(t.getIndexEndName()!==cr)throw new Error(i);if(typeof n!="string")throw new Error(s)}}else if(t.getIndex()===bt){if(e!=null&&!Fd(e)||n!=null&&!Fd(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Y(t.getIndex()instanceof Qv||t.getIndex()===w1,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}class Ts extends rf{constructor(e,n){super(e,n,new Jv,!1)}get parent(){const e=f1(this._path);return e===null?null:new Ts(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class cc{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new nt(e),i=Vd(this.ref,e);return new cc(this._node.getChild(n),i,bt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new cc(s,Vd(this.ref,i),bt)))}hasChild(e){const n=new nt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Js(t,e){return t=et(t),t._checkNotDeleted("ref"),e!==void 0?Vd(t._root,e):t._root}function Vd(t,e){return t=et(t),Ue(t._path)===null?SU("child","path",e,!1):py("child","path",e,!1),new Ts(t._repo,Pt(t._path,e))}function ek(t){return t=et(t),new GU(t._repo,t._path)}function tk(t,e){t=et(t),pl("set",t._path),Ug("set",e,t._path,!1);const n=new ls;return MU(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class Ey{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new J1("value",this,new cc(e.snapshotNode,new Ts(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Z1(this,e,n):null}matches(e){return e instanceof Ey?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Cy{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Z1(this,e,n):null}createEvent(e,n){Y(e.childName!=null,"Child events should have a childName.");const i=Vd(new Ts(n._repo,n._path),e.childName),s=n._queryParams.getIndex();return new J1(e.type,this,new cc(e.snapshotNode,i,s),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Cy?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function XU(t,e,n,i,s){let r;if(typeof i=="object"&&(r=void 0,s=i),typeof i=="function"&&(r=i),s&&s.onlyOnce){const l=n,c=(u,d)=>{e0(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new KU(n,r||void 0),a=e==="value"?new Ey(o):new Cy(e,o);return UU(t._repo,t,a),()=>e0(t._repo,t,a)}function Bd(t,e,n,i){return XU(t,"value",e,n,i)}class JU{}class ZU extends JU{constructor(e){super(),this._path=e}_apply(e){YU(e,"orderByChild");const n=new nt(this._path);if($e(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Qv(n),s=aB(e._queryParams,i);return QU(s),new rf(e._repo,e._path,s,!0)}}function e$(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return py("orderByChild","path",t,!1),new ZU(t)}function t$(t,...e){let n=et(t);for(const i of e)n=i._apply(n);return n}GB(Ts);eU(Ts);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n$="FIREBASE_DATABASE_EMULATOR_HOST",$g={};let i$=!1;function s$(t,e,n,i){t.repoInfo_=new s1(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function r$(t,e,n,i,s){let r=i||t.options.databaseURL;r===void 0&&(t.options.projectId||Es("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),an("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=t0(r,s),a=o.repoInfo,l,c;typeof process<"u"&&{}&&(c={}[n$]),c?(l=!0,r=`http://${c}?ns=${a.namespace}`,o=t0(r,s),a=o.repoInfo):l=!o.repoInfo.secure;const u=s&&l?new Wo(Wo.OWNER):new h2(t.name,t.options,e);TU("Invalid Firebase Database URL",o),$e(o.path)||Es("Database URL must point to the root of a Firebase Database (not including a child path).");const d=a$(a,t,u,new d2(t.name,n));return new l$(d,t)}function o$(t,e){const n=$g[e];(!n||n[t.key]!==t)&&Es(`Database ${e}(${t.repoInfo_}) has already been deleted.`),$U(t),delete n[t.key]}function a$(t,e,n,i){let s=$g[e.name];s||(s={},$g[e.name]=s);let r=s[t.toURLString()];return r&&Es("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new PU(t,i$,n,i),s[t.toURLString()]=r,r}class l${constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(NU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ts(this._repo,Ze())),this._rootInternal}_delete(){return this._rootInternal!==null&&(o$(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Es("Cannot call "+e+" on a deleted database.")}}function c$(t=Sc(),e){const n=mr(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=Ap("database");i&&u$(n,...i)}return n}function u$(t,e,n,i={}){t=et(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Es("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let r;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&Es('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new Wo(Wo.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:xp(i.mockUserToken,t.app.options.projectId);r=new Wo(o)}s$(s,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d$(t){QV(gr),Ei(new ai("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return r$(i,s,r,n)},"PUBLIC").setMultipleInstances(!0)),vn(wb,bb,t),vn(wb,bb,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h$={".sv":"timestamp"};function Ud(){return h$}ms.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ms.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};d$();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk="firebasestorage.googleapis.com",ik="storageBucket",f$=2*60*1e3,m$=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht extends Ai{constructor(e,n,i=0){super(dm(e),`Firebase Storage: ${n} (${dm(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ht.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return dm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var zt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(zt||(zt={}));function dm(t){return"storage/"+t}function Iy(){const t="An unknown error occurred, please check the error payload for server response.";return new Ht(zt.UNKNOWN,t)}function g$(t){return new Ht(zt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function p$(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ht(zt.UNAUTHENTICATED,t)}function v$(){return new Ht(zt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function y$(t){return new Ht(zt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function _$(){return new Ht(zt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function w$(){return new Ht(zt.CANCELED,"User canceled the upload/download.")}function b$(t){return new Ht(zt.INVALID_URL,"Invalid URL '"+t+"'.")}function E$(t){return new Ht(zt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function C$(){return new Ht(zt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ik+"' property when initializing the app?")}function I$(){return new Ht(zt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function S$(t){return new Ht(zt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function zg(t){return new Ht(zt.INVALID_ARGUMENT,t)}function sk(){return new Ht(zt.APP_DELETED,"The Firebase app was deleted.")}function T$(t){return new Ht(zt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xl(t,e){return new Ht(zt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function il(t){throw new Ht(zt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=qn.makeFromUrl(e,n)}catch{return new qn(e,"")}if(i.path==="")return i;throw E$(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function r(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(S){S.path_=decodeURIComponent(S.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp(`^https?://${d}/${u}/b/${s}/o${h}`,"i"),g={bucket:1,path:3},p=n===nk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",E=new RegExp(`^https?://${p}/${s}/${v}`,"i"),C=[{regex:a,indices:l,postModify:r},{regex:m,indices:g,postModify:c},{regex:E,indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<C.length;S++){const R=C[S],x=R.regex.exec(e);if(x){const N=x[R.indices.bucket];let T=x[R.indices.path];T||(T=""),i=new qn(N,T),R.postModify(i);break}}if(i==null)throw b$(e);return i}}class k${constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A$(t,e,n){let i=1,s=null,r=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...v){c||(c=!0,e.apply(null,v))}function d(v){s=setTimeout(()=>{s=null,t(m,l())},v)}function h(){r&&clearTimeout(r)}function m(v,...E){if(c){h();return}if(v){h(),u.call(null,v,...E);return}if(l()||o){h(),u.call(null,v,...E);return}i<64&&(i*=2);let C;a===1?(a=2,C=0):C=(i+Math.random())*1e3,d(C)}let g=!1;function p(v){g||(g=!0,h(),!c&&(s!==null?(v||(a=2),clearTimeout(s),d(0)):v||(a=1)))}return d(0),r=setTimeout(()=>{o=!0,p(!0)},n),p}function x$(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R$(t){return t!==void 0}function P$(t){return typeof t=="object"&&!Array.isArray(t)}function rk(t){return typeof t=="string"||t instanceof String}function n0(t){return Sy()&&t instanceof Blob}function Sy(){return typeof Blob<"u"&&!wP()}function i0(t,e,n,i){if(i<e)throw zg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw zg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N$(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function D$(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jr;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(jr||(jr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,r=e.indexOf(t)!==-1;return n||s||r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(e,n,i,s,r,o,a,l,c,u,d,h=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=r,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new wu(!1,null,!0));return}const r=this.connectionFactory_();this.pendingConnection_=r;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&r.addUploadProgressListener(o),r.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&r.removeUploadProgressListener(o),this.pendingConnection_=null;const a=r.getErrorCode()===jr.NO_ERROR,l=r.getStatus();if(!a||O$(l,this.additionalRetryCodes_)&&this.retry){const u=r.getErrorCode()===jr.ABORT;i(!1,new wu(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;i(!0,new wu(c,r))})},n=(i,s)=>{const r=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());R$(l)?r(l):r()}catch(l){o(l)}else if(a!==null){const l=Iy();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?sk():w$();o(l)}else{const l=_$();o(l)}};this.canceled_?n(!1,new wu(!1,null,!0)):this.backoffId_=A$(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&x$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wu{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function L$(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function F$(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function V$(t,e){e&&(t["X-Firebase-GMPID"]=e)}function B$(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function U$(t,e,n,i,s,r,o=!0){const a=D$(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return V$(c,e),L$(c,n),F$(c,r),B$(c,i),new M$(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $$(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function z$(...t){const e=$$();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(Sy())return new Blob(t);throw new Ht(zt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function j$(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(t){if(typeof atob>"u")throw S$("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hm{constructor(e,n){this.data=e,this.contentType=n||null}}function q$(t,e){switch(t){case Vi.RAW:return new hm(ok(e));case Vi.BASE64:case Vi.BASE64URL:return new hm(ak(t,e));case Vi.DATA_URL:return new hm(K$(e),G$(e))}throw Iy()}function ok(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const r=i,o=t.charCodeAt(++n);i=65536|(r&1023)<<10|o&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function W$(t){let e;try{e=decodeURIComponent(t)}catch{throw xl(Vi.DATA_URL,"Malformed data URL.")}return ok(e)}function ak(t,e){switch(t){case Vi.BASE64:{const s=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(s||r)throw xl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Vi.BASE64URL:{const s=e.indexOf("+")!==-1,r=e.indexOf("/")!==-1;if(s||r)throw xl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=H$(e)}catch(s){throw s.message.includes("polyfill")?s:xl(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}class lk{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw xl(Vi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=Y$(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function K$(t){const e=new lk(t);return e.base64?ak(Vi.BASE64,e.rest):W$(e.rest)}function G$(t){return new lk(t).contentType}function Y$(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n){let i=0,s="";n0(e)?(this.data_=e,i=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(n0(this.data_)){const i=this.data_,s=j$(i,e,n);return s===null?null:new qs(s)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new qs(i,!0)}}static getBlob(...e){if(Sy()){const n=e.map(i=>i instanceof qs?i.data_:i);return new qs(z$.apply(null,n))}else{const n=e.map(o=>rk(o)?q$(Vi.RAW,o).data:o.data_);let i=0;n.forEach(o=>{i+=o.byteLength});const s=new Uint8Array(i);let r=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[r++]=o[a]}),new qs(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(t){let e;try{e=JSON.parse(t)}catch{return null}return P$(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X$(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function J$(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function ck(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z$(t,e){return e}class Tn{constructor(e,n,i,s){this.server=e,this.local=n||e,this.writable=!!i,this.xform=s||Z$}}let bu=null;function e4(t){return!rk(t)||t.length<2?t:ck(t)}function t4(){if(bu)return bu;const t=[];t.push(new Tn("bucket")),t.push(new Tn("generation")),t.push(new Tn("metageneration")),t.push(new Tn("name","fullPath",!0));function e(r,o){return e4(o)}const n=new Tn("name");n.xform=e,t.push(n);function i(r,o){return o!==void 0?Number(o):o}const s=new Tn("size");return s.xform=i,t.push(s),t.push(new Tn("timeCreated")),t.push(new Tn("updated")),t.push(new Tn("md5Hash",null,!0)),t.push(new Tn("cacheControl",null,!0)),t.push(new Tn("contentDisposition",null,!0)),t.push(new Tn("contentEncoding",null,!0)),t.push(new Tn("contentLanguage",null,!0)),t.push(new Tn("contentType",null,!0)),t.push(new Tn("metadata","customMetadata",!0)),bu=t,bu}function n4(t,e){function n(){const i=t.bucket,s=t.fullPath,r=new qn(i,s);return e._makeStorageReference(r)}Object.defineProperty(t,"ref",{get:n})}function i4(t,e,n){const i={};i.type="file";const s=n.length;for(let r=0;r<s;r++){const o=n[r];i[o.local]=o.xform(i,e[o.server])}return n4(i,t),i}function s4(t,e,n){const i=Q$(e);return i===null?null:i4(t,i,n)}function r4(t,e){const n={},i=e.length;for(let s=0;s<i;s++){const r=e[s];r.writable&&(n[r.server]=t[r.local])}return JSON.stringify(n)}class o4{constructor(e,n,i,s){this.url=e,this.method=n,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(t){if(!t)throw Iy()}function l4(t,e){function n(i,s){const r=s4(t,s,e);return a4(r!==null),r}return n}function c4(t){function e(n,i){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=v$():s=p$():n.getStatus()===402?s=g$(t.bucket):n.getStatus()===403?s=y$(t.path):s=i,s.status=n.getStatus(),s.serverResponse=i.serverResponse,s}return e}function u4(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function d4(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=u4(null,e)),i}function h4(t,e,n,i,s){const r=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let C="";for(let S=0;S<2;S++)C=C+Math.random().toString().slice(2);return C}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=d4(e,i,s),u=r4(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",m=qs.getBlob(d,i,h);if(m===null)throw I$();const g={name:c.fullPath},p=N$(r,t.host,t._protocol),v="POST",E=t.maxUploadRetryTime,b=new o4(p,v,l4(t,n),E);return b.urlParams=g,b.headers=o,b.body=m.uploadData(),b.errorHandler=c4(e),b}class f4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=jr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=jr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=jr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,s){if(this.sent_)throw il("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const r in s)s.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,s[r].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw il("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw il("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw il("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw il("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class m4 extends f4{initXhr(){this.xhr_.responseType="text"}}function g4(){return new m4}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n){this._service=e,n instanceof qn?this._location=n:this._location=qn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new so(e,n)}get root(){const e=new qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ck(this._location.path)}get storage(){return this._service}get parent(){const e=X$(this._location.path);if(e===null)return null;const n=new qn(this._location.bucket,e);return new so(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw T$(e)}}function p4(t,e,n){t._throwIfRoot("uploadBytes");const i=h4(t.storage,t._location,t4(),new qs(e,!0),n);return t.storage.makeRequestWithTokens(i,g4).then(s=>({metadata:s,ref:t}))}function v4(t,e){const n=J$(t._location.path,e),i=new qn(t._location.bucket,n);return new so(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(t){return/^[A-Za-z]+:\/\//.test(t)}function _4(t,e){return new so(t,e)}function uk(t,e){if(t instanceof Ty){const n=t;if(n._bucket==null)throw C$();const i=new so(n,n._bucket);return e!=null?uk(i,e):i}else return e!==void 0?v4(t,e):t}function w4(t,e){if(e&&y4(e)){if(t instanceof Ty)return _4(t,e);throw zg("To use ref(service, url), the first argument must be a Storage instance.")}else return uk(t,e)}function s0(t,e){const n=e==null?void 0:e[ik];return n==null?null:qn.makeFromBucketSpec(n,t)}function b4(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=i;s&&(t._overrideAuthToken=typeof s=="string"?s:xp(s,t.app.options.projectId))}class Ty{constructor(e,n,i,s,r){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=r,this._bucket=null,this._host=nk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=f$,this._maxUploadRetryTime=m$,this._requests=new Set,s!=null?this._bucket=qn.makeFromBucketSpec(s,this._host):this._bucket=s0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=qn.makeFromBucketSpec(this._url,e):this._bucket=s0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){i0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){i0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new so(this,e)}_makeRequest(e,n,i,s,r=!0){if(this._deleted)return new k$(sk());{const o=U$(e,this._appId,i,s,n,this._firebaseVersion,r);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const r0="@firebase/storage",o0="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk="storage";function E4(t,e,n){return t=et(t),p4(t,e,n)}function C4(t,e){return t=et(t),w4(t,e)}function hk(t=Sc(),e){t=et(t);const i=mr(t,dk).getImmediate({identifier:e}),s=Ap("storage");return s&&I4(i,...s),i}function I4(t,e,n,i={}){b4(t,e,n,i)}function S4(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Ty(n,i,s,e,gr)}function T4(){Ei(new ai(dk,S4,"PUBLIC").setMultipleInstances(!0)),vn(r0,o0,""),vn(r0,o0,"esm2017")}T4();const k4=(t,e)=>e.some(n=>t instanceof n);let a0,l0;function A4(){return a0||(a0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function x4(){return l0||(l0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fk=new WeakMap,jg=new WeakMap,mk=new WeakMap,fm=new WeakMap,ky=new WeakMap;function R4(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Zs(t.result)),s()},o=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&fk.set(n,t)}).catch(()=>{}),ky.set(e,t),e}function P4(t){if(jg.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});jg.set(t,e)}let Hg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function N4(t){Hg=t(Hg)}function D4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(mm(this),e,...n);return mk.set(i,e.sort?e.sort():[e]),Zs(i)}:x4().includes(t)?function(...e){return t.apply(mm(this),e),Zs(fk.get(this))}:function(...e){return Zs(t.apply(mm(this),e))}}function O4(t){return typeof t=="function"?D4(t):(t instanceof IDBTransaction&&P4(t),k4(t,A4())?new Proxy(t,Hg):t)}function Zs(t){if(t instanceof IDBRequest)return R4(t);if(fm.has(t))return fm.get(t);const e=O4(t);return e!==t&&(fm.set(t,e),ky.set(e,t)),e}const mm=t=>ky.get(t);function M4(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(t,e),a=Zs(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Zs(o.result),l.oldVersion,l.newVersion,Zs(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",()=>s())}).catch(()=>{}),a}const L4=["get","getKey","getAll","getAllKeys","count"],F4=["put","add","delete","clear"],gm=new Map;function c0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gm.get(e))return gm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=F4.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||L4.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return gm.set(e,r),r}N4(t=>({...t,get:(e,n,i)=>c0(e,n)||t.get(e,n,i),has:(e,n)=>!!c0(e,n)||t.has(e,n)}));const gk="@firebase/installations",Ay="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=1e4,vk=`w:${Ay}`,yk="FIS_v2",V4="https://firebaseinstallations.googleapis.com/v1",B4=60*60*1e3,U4="installations",$4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},ro=new lo(U4,$4,z4);function _k(t){return t instanceof Ai&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk({projectId:t}){return`${V4}/projects/${t}/installations`}function bk(t){return{token:t.token,requestStatus:2,expiresIn:H4(t.expiresIn),creationTime:Date.now()}}async function Ek(t,e){const i=(await e.json()).error;return ro.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function Ck({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function j4(t,{refreshToken:e}){const n=Ck(t);return n.append("Authorization",q4(e)),n}async function Ik(t){const e=await t();return e.status>=500&&e.status<600?t():e}function H4(t){return Number(t.replace("s","000"))}function q4(t){return`${yk} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W4({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=wk(t),s=Ck(t),r=e.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:yk,appId:t.appId,sdkVersion:vk},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await Ik(()=>fetch(i,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:bk(c.authToken)}}else throw await Ek("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=/^[cdef][\w-]{21}$/,qg="";function Y4(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Q4(t);return G4.test(n)?n:qg}catch{return qg}}function Q4(t){return K4(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=new Map;function kk(t,e){const n=of(t);Ak(n,e),X4(n,e)}function Ak(t,e){const n=Tk.get(t);if(n)for(const i of n)i(e)}function X4(t,e){const n=J4();n&&n.postMessage({key:t,fid:e}),Z4()}let Mr=null;function J4(){return!Mr&&"BroadcastChannel"in self&&(Mr=new BroadcastChannel("[Firebase] FID Change"),Mr.onmessage=t=>{Ak(t.data.key,t.data.fid)}),Mr}function Z4(){Tk.size===0&&Mr&&(Mr.close(),Mr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez="firebase-installations-database",tz=1,oo="firebase-installations-store";let pm=null;function xy(){return pm||(pm=M4(ez,tz,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(oo)}}})),pm}async function $d(t,e){const n=of(t),s=(await xy()).transaction(oo,"readwrite"),r=s.objectStore(oo),o=await r.get(n);return await r.put(e,n),await s.done,(!o||o.fid!==e.fid)&&kk(t,e.fid),e}async function xk(t){const e=of(t),i=(await xy()).transaction(oo,"readwrite");await i.objectStore(oo).delete(e),await i.done}async function af(t,e){const n=of(t),s=(await xy()).transaction(oo,"readwrite"),r=s.objectStore(oo),o=await r.get(n),a=e(o);return a===void 0?await r.delete(n):await r.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&kk(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ry(t){let e;const n=await af(t.appConfig,i=>{const s=nz(i),r=iz(t,s);return e=r.registrationPromise,r.installationEntry});return n.fid===qg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function nz(t){const e=t||{fid:Y4(),registrationStatus:0};return Rk(e)}function iz(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ro.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=sz(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:rz(t)}:{installationEntry:e}}async function sz(t,e){try{const n=await W4(t,e);return $d(t.appConfig,n)}catch(n){throw _k(n)&&n.customData.serverCode===409?await xk(t.appConfig):await $d(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function rz(t){let e=await u0(t.appConfig);for(;e.registrationStatus===1;)await Sk(100),e=await u0(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Ry(t);return i||n}return e}function u0(t){return af(t,e=>{if(!e)throw ro.create("installation-not-found");return Rk(e)})}function Rk(t){return oz(t)?{fid:t.fid,registrationStatus:0}:t}function oz(t){return t.registrationStatus===1&&t.registrationTime+pk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function az({appConfig:t,heartbeatServiceProvider:e},n){const i=lz(t,n),s=j4(t,n),r=e.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:vk,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await Ik(()=>fetch(i,a));if(l.ok){const c=await l.json();return bk(c)}else throw await Ek("Generate Auth Token",l)}function lz(t,{fid:e}){return`${wk(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Py(t,e=!1){let n;const i=await af(t.appConfig,r=>{if(!Pk(r))throw ro.create("not-registered");const o=r.authToken;if(!e&&dz(o))return r;if(o.requestStatus===1)return n=cz(t,e),r;{if(!navigator.onLine)throw ro.create("app-offline");const a=fz(r);return n=uz(t,a),a}});return n?await n:i.authToken}async function cz(t,e){let n=await d0(t.appConfig);for(;n.authToken.requestStatus===1;)await Sk(100),n=await d0(t.appConfig);const i=n.authToken;return i.requestStatus===0?Py(t,e):i}function d0(t){return af(t,e=>{if(!Pk(e))throw ro.create("not-registered");const n=e.authToken;return mz(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function uz(t,e){try{const n=await az(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await $d(t.appConfig,i),n}catch(n){if(_k(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await xk(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await $d(t.appConfig,i)}throw n}}function Pk(t){return t!==void 0&&t.registrationStatus===2}function dz(t){return t.requestStatus===2&&!hz(t)}function hz(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+B4}function fz(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function mz(t){return t.requestStatus===1&&t.requestTime+pk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gz(t){const e=t,{installationEntry:n,registrationPromise:i}=await Ry(e);return i?i.catch(console.error):Py(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pz(t,e=!1){const n=t;return await vz(n),(await Py(n,e)).token}async function vz(t){const{registrationPromise:e}=await Ry(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yz(t){if(!t||!t.options)throw vm("App Configuration");if(!t.name)throw vm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw vm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function vm(t){return ro.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk="installations",_z="installations-internal",wz=t=>{const e=t.getProvider("app").getImmediate(),n=yz(e),i=mr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},bz=t=>{const e=t.getProvider("app").getImmediate(),n=mr(e,Nk).getImmediate();return{getId:()=>gz(n),getToken:s=>pz(n,s)}};function Ez(){Ei(new ai(Nk,wz,"PUBLIC")),Ei(new ai(_z,bz,"PRIVATE"))}Ez();vn(gk,Ay);vn(gk,Ay,"esm2017");const h0="@firebase/performance",Wg="0.6.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=Wg,Cz="FB-PERF-TRACE-START",Iz="FB-PERF-TRACE-STOP",Kg="FB-PERF-TRACE-MEASURE",Ok="_wt_",Mk="_fp",Lk="_fcp",Fk="_fid",Vk="@firebase/performance/config",Bk="@firebase/performance/configexpire",Sz="performance",Uk="Performance";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tz={["trace started"]:"Trace {$traceName} was started before.",["trace stopped"]:"Trace {$traceName} is not running.",["nonpositive trace startTime"]:"Trace {$traceName} startTime should be positive.",["nonpositive trace duration"]:"Trace {$traceName} duration should be positive.",["no window"]:"Window is not available.",["no app id"]:"App id is not available.",["no project id"]:"Project id is not available.",["no api key"]:"Api key is not available.",["invalid cc log"]:"Attempted to queue invalid cc event",["FB not default"]:"Performance can only start when Firebase app instance is the default one.",["RC response not ok"]:"RC response is not ok",["invalid attribute name"]:"Attribute name {$attributeName} is invalid.",["invalid attribute value"]:"Attribute value {$attributeValue} is invalid.",["invalid custom metric name"]:"Custom metric name {$customMetricName} is invalid",["invalid String merger input"]:"Input for String merger is invalid, contact support team to resolve.",["already initialized"]:"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."},fn=new lo(Sz,Uk,Tz);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new Ic(Uk);Hi.logLevel=Qe.INFO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ym,$k;class Zt{constructor(e){if(this.window=e,!e)throw fn.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){!this.performance||!this.performance.mark||this.performance.mark(e)}measure(e,n,i){!this.performance||!this.performance.measure||this.performance.measure(e,n,i)}getEntriesByType(e){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(e)}getEntriesByName(e){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(e)}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return!fetch||!Promise||!CP()?(Hi.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):RC()?!0:(Hi.info("IndexedDB is not supported by current browswer"),!1)}setupObserver(e,n){if(!this.PerformanceObserver)return;new this.PerformanceObserver(s=>{for(const r of s.getEntries())n(r)}).observe({entryTypes:[e]})}static getInstance(){return ym===void 0&&(ym=new Zt($k)),ym}}function kz(t){$k=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zk;function Az(t){const e=t.getId();return e.then(n=>{zk=n}),e}function Ny(){return zk}function xz(t){const e=t.getToken();return e.then(n=>{}),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(t,e){const n=t.length-e.length;if(n<0||n>1)throw fn.create("invalid String merger input");const i=[];for(let s=0;s<t.length;s++)i.push(t.charAt(s)),e.length>s&&i.push(e.charAt(s));return i.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _m;class Wn{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=f0("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=f0("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return _m===void 0&&(_m=new Wn),_m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Go;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"})(Go||(Go={}));const Rz=["firebase_","google_","ga_"],Pz=new RegExp("^[a-zA-Z]\\w*$"),Nz=40,Dz=100;function Oz(){const t=Zt.getInstance().navigator;return t!=null&&t.serviceWorker?t.serviceWorker.controller?2:3:1}function jk(){switch(Zt.getInstance().document.visibilityState){case"visible":return Go.VISIBLE;case"hidden":return Go.HIDDEN;default:return Go.UNKNOWN}}function Mz(){const e=Zt.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Lz(t){return t.length===0||t.length>Nz?!1:!Rz.some(n=>t.startsWith(n))&&!!t.match(Pz)}function Fz(t){return t.length!==0&&t.length<=Dz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t){var e;const n=(e=t.options)===null||e===void 0?void 0:e.appId;if(!n)throw fn.create("no app id");return n}function Vz(t){var e;const n=(e=t.options)===null||e===void 0?void 0:e.projectId;if(!n)throw fn.create("no project id");return n}function Bz(t){var e;const n=(e=t.options)===null||e===void 0?void 0:e.apiKey;if(!n)throw fn.create("no api key");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uz="0.0.1",di={loggingEnabled:!0},$z="FIREBASE_INSTALLATIONS_AUTH";function zz(t,e){const n=jz();return n?(m0(n),Promise.resolve()):Wz(t,e).then(m0).then(i=>Hz(i),()=>{})}function jz(){const t=Zt.getInstance().localStorage;if(!t)return;const e=t.getItem(Bk);if(!e||!Kz(e))return;const n=t.getItem(Vk);if(n)try{return JSON.parse(n)}catch{return}}function Hz(t){const e=Zt.getInstance().localStorage;!t||!e||(e.setItem(Vk,JSON.stringify(t)),e.setItem(Bk,String(Date.now()+Wn.getInstance().configTimeToLive*60*60*1e3)))}const qz="Could not fetch config, will use default configs";function Wz(t,e){return xz(t.installations).then(n=>{const i=Vz(t.app),s=Bz(t.app),r=`https://firebaseremoteconfig.googleapis.com/v1/projects/${i}/namespaces/fireperf:fetch?key=${s}`,o=new Request(r,{method:"POST",headers:{Authorization:`${$z} ${n}`},body:JSON.stringify({app_instance_id:e,app_instance_id_token:n,app_id:Hk(t.app),app_version:Dk,sdk_version:Uz})});return fetch(o).then(a=>{if(a.ok)return a.json();throw fn.create("RC response not ok")})}).catch(()=>{Hi.info(qz)})}function m0(t){if(!t)return t;const e=Wn.getInstance(),n=t.entries||{};return n.fpr_enabled!==void 0?e.loggingEnabled=String(n.fpr_enabled)==="true":e.loggingEnabled=di.loggingEnabled,n.fpr_log_source?e.logSource=Number(n.fpr_log_source):di.logSource&&(e.logSource=di.logSource),n.fpr_log_endpoint_url?e.logEndPointUrl=n.fpr_log_endpoint_url:di.logEndPointUrl&&(e.logEndPointUrl=di.logEndPointUrl),n.fpr_log_transport_key?e.transportKey=n.fpr_log_transport_key:di.transportKey&&(e.transportKey=di.transportKey),n.fpr_vc_network_request_sampling_rate!==void 0?e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate):di.networkRequestsSamplingRate!==void 0&&(e.networkRequestsSamplingRate=di.networkRequestsSamplingRate),n.fpr_vc_trace_sampling_rate!==void 0?e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate):di.tracesSamplingRate!==void 0&&(e.tracesSamplingRate=di.tracesSamplingRate),e.logTraceAfterSampling=g0(e.tracesSamplingRate),e.logNetworkAfterSampling=g0(e.networkRequestsSamplingRate),t}function Kz(t){return Number(t)>Date.now()}function g0(t){return Math.random()<=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dy=1,wm;function qk(t){return Dy=2,wm=wm||Yz(t),wm}function Gz(){return Dy===3}function Yz(t){return Qz().then(()=>Az(t.installations)).then(e=>zz(t,e)).then(()=>p0(),()=>p0())}function Qz(){const t=Zt.getInstance().document;return new Promise(e=>{if(t&&t.readyState!=="complete"){const n=()=>{t.readyState==="complete"&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}function p0(){Dy=3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=10*1e3,Xz=5.5*1e3,Wk=3,Jz=1e3;let zd=Wk,er=[],v0=!1;function Zz(){v0||(lf(Xz),v0=!0)}function lf(t){setTimeout(()=>{if(zd!==0){if(!er.length)return lf(Oy);ej()}},t)}function ej(){const t=er.splice(0,Jz),e=t.map(i=>({source_extension_json_proto3:i.message,event_time_ms:String(i.eventTime)})),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Wn.getInstance().logSource,log_event:e};tj(n,t).catch(()=>{er=[...t,...er],zd--,Hi.info(`Tries left: ${zd}.`),lf(Oy)})}function tj(t,e){return nj(t).then(n=>(n.ok||Hi.info("Call to Firebase backend failed."),n.json())).then(n=>{const i=Number(n.nextRequestWaitMillis);let s=Oy;isNaN(i)||(s=Math.max(i,s));const r=n.logResponseDetails;Array.isArray(r)&&r.length>0&&r[0].responseAction==="RETRY_REQUEST_LATER"&&(er=[...e,...er],Hi.info("Retry transport request later.")),zd=Wk,lf(s)})}function nj(t){const e=Wn.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}function ij(t){if(!t.eventTime||!t.message)throw fn.create("invalid cc log");er=[...er,t]}function sj(t){return(...e)=>{const n=t(...e);ij({message:n,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bm;function Kk(t,e){bm||(bm=sj(oj)),bm(t,e)}function Eu(t){const e=Wn.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||Zt.getInstance().requiredApisAvailable()&&(t.isAuto&&jk()!==Go.VISIBLE||(Gz()?Em(t):qk(t.performanceController).then(()=>Em(t),()=>Em(t))))}function Em(t){if(!Ny())return;const e=Wn.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(()=>Kk(t,1),0)}function rj(t){const e=Wn.getInstance();if(!e.instrumentationEnabled)return;const n=t.url,i=e.logEndPointUrl.split("?")[0],s=e.flTransportEndpointUrl.split("?")[0];n===i||n===s||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(()=>Kk(t,0),0)}function oj(t,e){return e===0?aj(t):lj(t)}function aj(t){const e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:Gk(t.performanceController.app),network_request_metric:e};return JSON.stringify(n)}function lj(t){const e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};Object.keys(t.counters).length!==0&&(e.counters=t.counters);const n=t.getAttributes();Object.keys(n).length!==0&&(e.custom_attributes=n);const i={application_info:Gk(t.performanceController.app),trace_metric:e};return JSON.stringify(i)}function Gk(t){return{google_app_id:Hk(t),app_instance_id:Ny(),web_app_info:{sdk_version:Dk,page_url:Zt.getInstance().getUrl(),service_worker_status:Oz(),visibility_state:jk(),effective_connection_type:Mz()},application_process_state:0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=100,uj="_",dj=[Mk,Lk,Fk];function hj(t,e){return t.length===0||t.length>cj?!1:e&&e.startsWith(Ok)&&dj.indexOf(t)>-1||!t.startsWith(uj)}function fj(t){const e=Math.floor(t);return e<t&&Hi.info(`Metric value should be an Integer, setting the value as : ${e}.`),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,n,i=!1,s){this.performanceController=e,this.name=n,this.isAuto=i,this.state=1,this.customAttributes={},this.counters={},this.api=Zt.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=`${Cz}-${this.randomId}-${this.name}`,this.traceStopMark=`${Iz}-${this.randomId}-${this.name}`,this.traceMeasure=s||`${Kg}-${this.randomId}-${this.name}`,s&&this.calculateTraceMetrics())}start(){if(this.state!==1)throw fn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(this.state!==2)throw fn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Eu(this)}record(e,n,i){if(e<=0)throw fn.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw fn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(e*1e3),i&&i.attributes&&(this.customAttributes=Object.assign({},i.attributes)),i&&i.metrics)for(const s of Object.keys(i.metrics))isNaN(Number(i.metrics[s]))||(this.counters[s]=Math.floor(Number(i.metrics[s])));Eu(this)}incrementMetric(e,n=1){this.counters[e]===void 0?this.putMetric(e,n):this.putMetric(e,this.counters[e]+n)}putMetric(e,n){if(hj(e,this.name))this.counters[e]=fj(n??0);else throw fn.create("invalid custom metric name",{customMetricName:e})}getMetric(e){return this.counters[e]||0}putAttribute(e,n){const i=Lz(e),s=Fz(n);if(i&&s){this.customAttributes[e]=n;return}if(!i)throw fn.create("invalid attribute name",{attributeName:e});if(!s)throw fn.create("invalid attribute value",{attributeValue:n})}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){this.customAttributes[e]!==void 0&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){const e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))}static createOobTrace(e,n,i,s){const r=Zt.getInstance().getUrl();if(!r)return;const o=new tr(e,Ok+r,!0),a=Math.floor(Zt.getInstance().getTimeOrigin()*1e3);o.setStartTime(a),n&&n[0]&&(o.setDuration(Math.floor(n[0].duration*1e3)),o.putMetric("domInteractive",Math.floor(n[0].domInteractive*1e3)),o.putMetric("domContentLoadedEventEnd",Math.floor(n[0].domContentLoadedEventEnd*1e3)),o.putMetric("loadEventEnd",Math.floor(n[0].loadEventEnd*1e3)));const l="first-paint",c="first-contentful-paint";if(i){const u=i.find(h=>h.name===l);u&&u.startTime&&o.putMetric(Mk,Math.floor(u.startTime*1e3));const d=i.find(h=>h.name===c);d&&d.startTime&&o.putMetric(Lk,Math.floor(d.startTime*1e3)),s&&o.putMetric(Fk,Math.floor(s*1e3))}Eu(o)}static createUserTimingTrace(e,n){const i=new tr(e,n,!1,n);Eu(i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(t,e){const n=e;if(!n||n.responseStart===void 0)return;const i=Zt.getInstance().getTimeOrigin(),s=Math.floor((n.startTime+i)*1e3),r=n.responseStart?Math.floor((n.responseStart-n.startTime)*1e3):void 0,o=Math.floor((n.responseEnd-n.startTime)*1e3),a=n.name&&n.name.split("?")[0],l={performanceController:t,url:a,responsePayloadBytes:n.transferSize,startTimeUs:s,timeToResponseInitiatedUs:r,timeToResponseCompletedUs:o};rj(l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=5e3;function _0(t){Ny()&&(setTimeout(()=>pj(t),0),setTimeout(()=>gj(t),0),setTimeout(()=>vj(t),0))}function gj(t){const e=Zt.getInstance(),n=e.getEntriesByType("resource");for(const i of n)y0(t,i);e.setupObserver("resource",i=>y0(t,i))}function pj(t){const e=Zt.getInstance(),n=e.getEntriesByType("navigation"),i=e.getEntriesByType("paint");if(e.onFirstInputDelay){let s=setTimeout(()=>{tr.createOobTrace(t,n,i),s=void 0},mj);e.onFirstInputDelay(r=>{s&&(clearTimeout(s),tr.createOobTrace(t,n,i,r))})}else tr.createOobTrace(t,n,i)}function vj(t){const e=Zt.getInstance(),n=e.getEntriesByType("measure");for(const i of n)w0(t,i);e.setupObserver("measure",i=>w0(t,i))}function w0(t,e){const n=e.name;n.substring(0,Kg.length)!==Kg&&tr.createUserTimingTrace(t,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,n){this.app=e,this.installations=n,this.initialized=!1}_init(e){this.initialized||((e==null?void 0:e.dataCollectionEnabled)!==void 0&&(this.dataCollectionEnabled=e.dataCollectionEnabled),(e==null?void 0:e.instrumentationEnabled)!==void 0&&(this.instrumentationEnabled=e.instrumentationEnabled),Zt.getInstance().requiredApisAvailable()?PC().then(n=>{n&&(Zz(),qk(this).then(()=>_0(this),()=>_0(this)),this.initialized=!0)}).catch(n=>{Hi.info(`Environment doesn't support IndexedDB: ${n}`)}):Hi.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){Wn.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return Wn.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){Wn.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return Wn.getInstance().dataCollectionEnabled}}const _j="[DEFAULT]";function wj(t=Sc()){return t=et(t),mr(t,"performance").getImmediate()}function bj(t,e){return t=et(t),new tr(t,e)}const Ej=(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();if(n.name!==_j)throw fn.create("FB not default");if(typeof window>"u")throw fn.create("no window");kz(window);const s=new yj(n,i);return s._init(e),s};function Cj(){Ei(new ai("performance",Ej,"PUBLIC")),vn(h0,Wg),vn(h0,Wg,"esm2017")}Cj();const Ij={apiKey:"AIzaSyAsDozDKo4h65QCnqjiGEKuBfm6sUbzkYA",authDomain:"edu-test-cc7ab.firebaseapp.com",databaseURL:"https://edu-test-cc7ab-default-rtdb.firebaseio.com",projectId:"edu-test-cc7ab",storageBucket:"edu-test-cc7ab.appspot.com",messagingSenderId:"738901308969",appId:"1:738901308969:web:4d056ce5dc113987dace38"},My=MC(Ij),nr=c$(My),Nt=RV();hk(My);const Sj=wj(My);function Ly(t,e){const n=Object.create(null),i=t.split(",");for(let s=0;s<i.length;s++)n[i[s]]=!0;return e?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const pt={},Yo=[],yi=()=>{},Tj=()=>!1,kj=/^on[^a-z]/,cf=t=>kj.test(t),Fy=t=>t.startsWith("onUpdate:"),Dt=Object.assign,Vy=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Aj=Object.prototype.hasOwnProperty,Xe=(t,e)=>Aj.call(t,e),Ee=Array.isArray,Qo=t=>uf(t)==="[object Map]",Yk=t=>uf(t)==="[object Set]",Le=t=>typeof t=="function",Rt=t=>typeof t=="string",By=t=>typeof t=="symbol",mt=t=>t!==null&&typeof t=="object",Qk=t=>mt(t)&&Le(t.then)&&Le(t.catch),Xk=Object.prototype.toString,uf=t=>Xk.call(t),xj=t=>uf(t).slice(8,-1),Jk=t=>uf(t)==="[object Object]",Uy=t=>Rt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Wu=Ly(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),df=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Rj=/-(\w)/g,li=df(t=>t.replace(Rj,(e,n)=>n?n.toUpperCase():"")),Pj=/\B([A-Z])/g,Fa=df(t=>t.replace(Pj,"-$1").toLowerCase()),ks=df(t=>t.charAt(0).toUpperCase()+t.slice(1)),Cm=df(t=>t?`on${ks(t)}`:""),uc=(t,e)=>!Object.is(t,e),Ku=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},jd=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Gg=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Nj=t=>{const e=Rt(t)?Number(t):NaN;return isNaN(e)?t:e};let b0;const Yg=()=>b0||(b0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $y(t){if(Ee(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=Rt(i)?Lj(i):$y(i);if(s)for(const r in s)e[r]=s[r]}return e}else{if(Rt(t))return t;if(mt(t))return t}}const Dj=/;(?![^(]*\))/g,Oj=/:([^]+)/,Mj=/\/\*[^]*?\*\//g;function Lj(t){const e={};return t.replace(Mj,"").split(Dj).forEach(n=>{if(n){const i=n.split(Oj);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function zy(t){let e="";if(Rt(t))e=t;else if(Ee(t))for(let n=0;n<t.length;n++){const i=zy(t[n]);i&&(e+=i+" ")}else if(mt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Fj="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Vj=Ly(Fj);function Zk(t){return!!t||t===""}const wt=t=>Rt(t)?t:t==null?"":Ee(t)||mt(t)&&(t.toString===Xk||!Le(t.toString))?JSON.stringify(t,eA,2):String(t),eA=(t,e)=>e&&e.__v_isRef?eA(t,e.value):Qo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s])=>(n[`${i} =>`]=s,n),{})}:Yk(e)?{[`Set(${e.size})`]:[...e.values()]}:mt(e)&&!Ee(e)&&!Jk(e)?String(e):e;let $n;class tA{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=$n,!e&&$n&&(this.index=($n.scopes||($n.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=$n;try{return $n=this,e()}finally{$n=n}}}on(){$n=this}off(){$n=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function hf(t){return new tA(t)}function Bj(t,e=$n){e&&e.active&&e.effects.push(t)}function Uj(){return $n}function Qn(t){$n&&$n.cleanups.push(t)}const jy=t=>{const e=new Set(t);return e.w=0,e.n=0,e},nA=t=>(t.w&hr)>0,iA=t=>(t.n&hr)>0,$j=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=hr},zj=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const s=e[i];nA(s)&&!iA(s)?s.delete(t):e[n++]=s,s.w&=~hr,s.n&=~hr}e.length=n}},Hd=new WeakMap;let vl=0,hr=1;const Qg=30;let fi;const Hr=Symbol(""),Xg=Symbol("");class Hy{constructor(e,n=null,i){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Bj(this,i)}run(){if(!this.active)return this.fn();let e=fi,n=ir;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=fi,fi=this,ir=!0,hr=1<<++vl,vl<=Qg?$j(this):E0(this),this.fn()}finally{vl<=Qg&&zj(this),hr=1<<--vl,fi=this.parent,ir=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){fi===this?this.deferStop=!0:this.active&&(E0(this),this.onStop&&this.onStop(),this.active=!1)}}function E0(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let ir=!0;const sA=[];function Va(){sA.push(ir),ir=!1}function Ba(){const t=sA.pop();ir=t===void 0?!0:t}function Ln(t,e,n){if(ir&&fi){let i=Hd.get(t);i||Hd.set(t,i=new Map);let s=i.get(n);s||i.set(n,s=jy()),rA(s)}}function rA(t,e){let n=!1;vl<=Qg?iA(t)||(t.n|=hr,n=!nA(t)):n=!t.has(fi),n&&(t.add(fi),fi.deps.push(t))}function Is(t,e,n,i,s,r){const o=Hd.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&Ee(t)){const l=Number(i);o.forEach((c,u)=>{(u==="length"||u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":Ee(t)?Uy(n)&&a.push(o.get("length")):(a.push(o.get(Hr)),Qo(t)&&a.push(o.get(Xg)));break;case"delete":Ee(t)||(a.push(o.get(Hr)),Qo(t)&&a.push(o.get(Xg)));break;case"set":Qo(t)&&a.push(o.get(Hr));break}if(a.length===1)a[0]&&Jg(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);Jg(jy(l))}}function Jg(t,e){const n=Ee(t)?t:[...t];for(const i of n)i.computed&&C0(i);for(const i of n)i.computed||C0(i)}function C0(t,e){(t!==fi||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function jj(t,e){var n;return(n=Hd.get(t))==null?void 0:n.get(e)}const Hj=Ly("__proto__,__v_isRef,__isVue"),oA=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(By)),qj=qy(),Wj=qy(!1,!0),Kj=qy(!0),I0=Gj();function Gj(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=Fe(this);for(let r=0,o=this.length;r<o;r++)Ln(i,"get",r+"");const s=i[e](...n);return s===-1||s===!1?i[e](...n.map(Fe)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Va();const i=Fe(this)[e].apply(this,n);return Ba(),i}}),t}function Yj(t){const e=Fe(this);return Ln(e,"has",t),e.hasOwnProperty(t)}function qy(t=!1,e=!1){return function(i,s,r){if(s==="__v_isReactive")return!t;if(s==="__v_isReadonly")return t;if(s==="__v_isShallow")return e;if(s==="__v_raw"&&r===(t?e?dH:dA:e?uA:cA).get(i))return i;const o=Ee(i);if(!t){if(o&&Xe(I0,s))return Reflect.get(I0,s,r);if(s==="hasOwnProperty")return Yj}const a=Reflect.get(i,s,r);return(By(s)?oA.has(s):Hj(s))||(t||Ln(i,"get",s),e)?a:Et(a)?o&&Uy(s)?a:a.value:mt(a)?t?Jc(a):Xt(a):a}}const Qj=aA(),Xj=aA(!0);function aA(t=!1){return function(n,i,s,r){let o=n[i];if(ma(o)&&Et(o)&&!Et(s))return!1;if(!t&&(!qd(s)&&!ma(s)&&(o=Fe(o),s=Fe(s)),!Ee(n)&&Et(o)&&!Et(s)))return o.value=s,!0;const a=Ee(n)&&Uy(i)?Number(i)<n.length:Xe(n,i),l=Reflect.set(n,i,s,r);return n===Fe(r)&&(a?uc(s,o)&&Is(n,"set",i,s):Is(n,"add",i,s)),l}}function Jj(t,e){const n=Xe(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&n&&Is(t,"delete",e,void 0),i}function Zj(t,e){const n=Reflect.has(t,e);return(!By(e)||!oA.has(e))&&Ln(t,"has",e),n}function eH(t){return Ln(t,"iterate",Ee(t)?"length":Hr),Reflect.ownKeys(t)}const lA={get:qj,set:Qj,deleteProperty:Jj,has:Zj,ownKeys:eH},tH={get:Kj,set(t,e){return!0},deleteProperty(t,e){return!0}},nH=Dt({},lA,{get:Wj,set:Xj}),Wy=t=>t,ff=t=>Reflect.getPrototypeOf(t);function Cu(t,e,n=!1,i=!1){t=t.__v_raw;const s=Fe(t),r=Fe(e);n||(e!==r&&Ln(s,"get",e),Ln(s,"get",r));const{has:o}=ff(s),a=i?Wy:n?Yy:dc;if(o.call(s,e))return a(t.get(e));if(o.call(s,r))return a(t.get(r));t!==s&&t.get(e)}function Iu(t,e=!1){const n=this.__v_raw,i=Fe(n),s=Fe(t);return e||(t!==s&&Ln(i,"has",t),Ln(i,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function Su(t,e=!1){return t=t.__v_raw,!e&&Ln(Fe(t),"iterate",Hr),Reflect.get(t,"size",t)}function S0(t){t=Fe(t);const e=Fe(this);return ff(e).has.call(e,t)||(e.add(t),Is(e,"add",t,t)),this}function T0(t,e){e=Fe(e);const n=Fe(this),{has:i,get:s}=ff(n);let r=i.call(n,t);r||(t=Fe(t),r=i.call(n,t));const o=s.call(n,t);return n.set(t,e),r?uc(e,o)&&Is(n,"set",t,e):Is(n,"add",t,e),this}function k0(t){const e=Fe(this),{has:n,get:i}=ff(e);let s=n.call(e,t);s||(t=Fe(t),s=n.call(e,t)),i&&i.call(e,t);const r=e.delete(t);return s&&Is(e,"delete",t,void 0),r}function A0(){const t=Fe(this),e=t.size!==0,n=t.clear();return e&&Is(t,"clear",void 0,void 0),n}function Tu(t,e){return function(i,s){const r=this,o=r.__v_raw,a=Fe(o),l=e?Wy:t?Yy:dc;return!t&&Ln(a,"iterate",Hr),o.forEach((c,u)=>i.call(s,l(c),l(u),r))}}function ku(t,e,n){return function(...i){const s=this.__v_raw,r=Fe(s),o=Qo(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=s[t](...i),u=n?Wy:e?Yy:dc;return!e&&Ln(r,"iterate",l?Xg:Hr),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:a?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function Ms(t){return function(...e){return t==="delete"?!1:this}}function iH(){const t={get(r){return Cu(this,r)},get size(){return Su(this)},has:Iu,add:S0,set:T0,delete:k0,clear:A0,forEach:Tu(!1,!1)},e={get(r){return Cu(this,r,!1,!0)},get size(){return Su(this)},has:Iu,add:S0,set:T0,delete:k0,clear:A0,forEach:Tu(!1,!0)},n={get(r){return Cu(this,r,!0)},get size(){return Su(this,!0)},has(r){return Iu.call(this,r,!0)},add:Ms("add"),set:Ms("set"),delete:Ms("delete"),clear:Ms("clear"),forEach:Tu(!0,!1)},i={get(r){return Cu(this,r,!0,!0)},get size(){return Su(this,!0)},has(r){return Iu.call(this,r,!0)},add:Ms("add"),set:Ms("set"),delete:Ms("delete"),clear:Ms("clear"),forEach:Tu(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=ku(r,!1,!1),n[r]=ku(r,!0,!1),e[r]=ku(r,!1,!0),i[r]=ku(r,!0,!0)}),[t,n,e,i]}const[sH,rH,oH,aH]=iH();function Ky(t,e){const n=e?t?aH:oH:t?rH:sH;return(i,s,r)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(Xe(n,s)&&s in i?n:i,s,r)}const lH={get:Ky(!1,!1)},cH={get:Ky(!1,!0)},uH={get:Ky(!0,!1)},cA=new WeakMap,uA=new WeakMap,dA=new WeakMap,dH=new WeakMap;function hH(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function fH(t){return t.__v_skip||!Object.isExtensible(t)?0:hH(xj(t))}function Xt(t){return ma(t)?t:Gy(t,!1,lA,lH,cA)}function mH(t){return Gy(t,!1,nH,cH,uA)}function Jc(t){return Gy(t,!0,tH,uH,dA)}function Gy(t,e,n,i,s){if(!mt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=s.get(t);if(r)return r;const o=fH(t);if(o===0)return t;const a=new Proxy(t,o===2?i:n);return s.set(t,a),a}function Xo(t){return ma(t)?Xo(t.__v_raw):!!(t&&t.__v_isReactive)}function ma(t){return!!(t&&t.__v_isReadonly)}function qd(t){return!!(t&&t.__v_isShallow)}function hA(t){return Xo(t)||ma(t)}function Fe(t){const e=t&&t.__v_raw;return e?Fe(e):t}function fA(t){return jd(t,"__v_skip",!0),t}const dc=t=>mt(t)?Xt(t):t,Yy=t=>mt(t)?Jc(t):t;function mA(t){ir&&fi&&(t=Fe(t),rA(t.dep||(t.dep=jy())))}function gA(t,e){t=Fe(t);const n=t.dep;n&&Jg(n)}function Et(t){return!!(t&&t.__v_isRef===!0)}function ae(t){return pA(t,!1)}function Ce(t){return pA(t,!0)}function pA(t,e){return Et(t)?t:new gH(t,e)}class gH{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Fe(e),this._value=n?e:dc(e)}get value(){return mA(this),this._value}set value(e){const n=this.__v_isShallow||qd(e)||ma(e);e=n?e:Fe(e),uc(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:dc(e),gA(this))}}function cn(t){return Et(t)?t.value:t}const pH={get:(t,e,n)=>cn(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return Et(s)&&!Et(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function vA(t){return Xo(t)?t:new Proxy(t,pH)}function Qy(t){const e=Ee(t)?new Array(t.length):{};for(const n in t)e[n]=yA(t,n);return e}class vH{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return jj(Fe(this._object),this._key)}}class yH{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Ae(t,e,n){return Et(t)?t:Le(t)?new yH(t):mt(t)&&arguments.length>1?yA(t,e,n):ae(t)}function yA(t,e,n){const i=t[e];return Et(i)?i:new vH(t,e,n)}class _H{constructor(e,n,i,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Hy(e,()=>{this._dirty||(this._dirty=!0,gA(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const e=Fe(this);return mA(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function wH(t,e,n=!1){let i,s;const r=Le(t);return r?(i=t,s=yi):(i=t.get,s=t.set),new _H(i,s,r||!s,n)}function sr(t,e,n,i){let s;try{s=i?t(...i):t()}catch(r){mf(r,e,n)}return s}function oi(t,e,n,i){if(Le(t)){const r=sr(t,e,n,i);return r&&Qk(r)&&r.catch(o=>{mf(o,e,n)}),r}const s=[];for(let r=0;r<t.length;r++)s.push(oi(t[r],e,n,i));return s}function mf(t,e,n,i=!0){const s=e?e.vnode:null;if(e){let r=e.parent;const o=e.proxy,a=n;for(;r;){const c=r.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}r=r.parent}const l=e.appContext.config.errorHandler;if(l){sr(l,null,10,[t,o,a]);return}}bH(t,n,s,i)}function bH(t,e,n,i=!0){console.error(t)}let hc=!1,Zg=!1;const pn=[];let Oi=0;const Jo=[];let as=null,kr=0;const _A=Promise.resolve();let Xy=null;function Ct(t){const e=Xy||_A;return t?e.then(this?t.bind(this):t):e}function EH(t){let e=Oi+1,n=pn.length;for(;e<n;){const i=e+n>>>1;fc(pn[i])<t?e=i+1:n=i}return e}function Jy(t){(!pn.length||!pn.includes(t,hc&&t.allowRecurse?Oi+1:Oi))&&(t.id==null?pn.push(t):pn.splice(EH(t.id),0,t),wA())}function wA(){!hc&&!Zg&&(Zg=!0,Xy=_A.then(EA))}function CH(t){const e=pn.indexOf(t);e>Oi&&pn.splice(e,1)}function IH(t){Ee(t)?Jo.push(...t):(!as||!as.includes(t,t.allowRecurse?kr+1:kr))&&Jo.push(t),wA()}function x0(t,e=hc?Oi+1:0){for(;e<pn.length;e++){const n=pn[e];n&&n.pre&&(pn.splice(e,1),e--,n())}}function bA(t){if(Jo.length){const e=[...new Set(Jo)];if(Jo.length=0,as){as.push(...e);return}for(as=e,as.sort((n,i)=>fc(n)-fc(i)),kr=0;kr<as.length;kr++)as[kr]();as=null,kr=0}}const fc=t=>t.id==null?1/0:t.id,SH=(t,e)=>{const n=fc(t)-fc(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function EA(t){Zg=!1,hc=!0,pn.sort(SH);const e=yi;try{for(Oi=0;Oi<pn.length;Oi++){const n=pn[Oi];n&&n.active!==!1&&sr(n,null,14)}}finally{Oi=0,pn.length=0,bA(),hc=!1,Xy=null,(pn.length||Jo.length)&&EA()}}function TH(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||pt;let s=n;const r=e.startsWith("update:"),o=r&&e.slice(7);if(o&&o in i){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:h}=i[u]||pt;h&&(s=n.map(m=>Rt(m)?m.trim():m)),d&&(s=n.map(Gg))}let a,l=i[a=Cm(e)]||i[a=Cm(li(e))];!l&&r&&(l=i[a=Cm(Fa(e))]),l&&oi(l,t,6,s);const c=i[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,oi(c,t,6,s)}}function CA(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const r=t.emits;let o={},a=!1;if(!Le(t)){const l=c=>{const u=CA(c,e,!0);u&&(a=!0,Dt(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(mt(t)&&i.set(t,null),null):(Ee(r)?r.forEach(l=>o[l]=null):Dt(o,r),mt(t)&&i.set(t,o),o)}function gf(t,e){return!t||!cf(e)?!1:(e=e.slice(2).replace(/Once$/,""),Xe(t,e[0].toLowerCase()+e.slice(1))||Xe(t,Fa(e))||Xe(t,e))}let Kn=null,IA=null;function Wd(t){const e=Kn;return Kn=t,IA=t&&t.type.__scopeId||null,e}function y(t,e=Kn,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&z0(-1);const r=Wd(e);let o;try{o=t(...s)}finally{Wd(r),i._d&&z0(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function Im(t){const{type:e,vnode:n,proxy:i,withProxy:s,props:r,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:d,data:h,setupState:m,ctx:g,inheritAttrs:p}=t;let v,E;const b=Wd(t);try{if(n.shapeFlag&4){const S=s||i;v=Ni(u.call(S,S,d,r,m,h,g)),E=l}else{const S=e;v=Ni(S.length>1?S(r,{attrs:l,slots:a,emit:c}):S(r,null)),E=e.props?l:kH(l)}}catch(S){Nl.length=0,mf(S,t,1),v=f(wi)}let C=v;if(E&&p!==!1){const S=Object.keys(E),{shapeFlag:R}=C;S.length&&R&7&&(o&&S.some(Fy)&&(E=AH(E,o)),C=Ss(C,E))}return n.dirs&&(C=Ss(C),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&(C.transition=n.transition),v=C,Wd(b),v}const kH=t=>{let e;for(const n in t)(n==="class"||n==="style"||cf(n))&&((e||(e={}))[n]=t[n]);return e},AH=(t,e)=>{const n={};for(const i in t)(!Fy(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function xH(t,e,n){const{props:i,children:s,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?R0(i,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(o[h]!==i[h]&&!gf(c,h))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?R0(i,o,c):!0:!!o;return!1}function R0(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==t[r]&&!gf(n,r))return!0}return!1}function RH({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const PH=t=>t.__isSuspense;function NH(t,e){e&&e.pendingBranch?Ee(t)?e.effects.push(...t):e.effects.push(t):IH(t)}function Xi(t,e){return Zy(t,null,e)}const Au={};function ge(t,e,n){return Zy(t,e,n)}function Zy(t,e,{immediate:n,deep:i,flush:s,onTrack:r,onTrigger:o}=pt){var a;const l=Uj()===((a=Jt)==null?void 0:a.scope)?Jt:null;let c,u=!1,d=!1;if(Et(t)?(c=()=>t.value,u=qd(t)):Xo(t)?(c=()=>t,i=!0):Ee(t)?(d=!0,u=t.some(S=>Xo(S)||qd(S)),c=()=>t.map(S=>{if(Et(S))return S.value;if(Xo(S))return Lr(S);if(Le(S))return sr(S,l,2)})):Le(t)?e?c=()=>sr(t,l,2):c=()=>{if(!(l&&l.isUnmounted))return h&&h(),oi(t,l,3,[m])}:c=yi,e&&i){const S=c;c=()=>Lr(S())}let h,m=S=>{h=b.onStop=()=>{sr(S,l,4)}},g;if(vc)if(m=yi,e?n&&oi(e,l,3,[c(),d?[]:void 0,m]):c(),s==="sync"){const S=I6();g=S.__watcherHandles||(S.__watcherHandles=[])}else return yi;let p=d?new Array(t.length).fill(Au):Au;const v=()=>{if(b.active)if(e){const S=b.run();(i||u||(d?S.some((R,x)=>uc(R,p[x])):uc(S,p)))&&(h&&h(),oi(e,l,3,[S,p===Au?void 0:d&&p[0]===Au?[]:p,m]),p=S)}else b.run()};v.allowRecurse=!!e;let E;s==="sync"?E=v:s==="post"?E=()=>Rn(v,l&&l.suspense):(v.pre=!0,l&&(v.id=l.uid),E=()=>Jy(v));const b=new Hy(c,E);e?n?v():p=b.run():s==="post"?Rn(b.run.bind(b),l&&l.suspense):b.run();const C=()=>{b.stop(),l&&l.scope&&Vy(l.scope.effects,b)};return g&&g.push(C),C}function DH(t,e,n){const i=this.proxy,s=Rt(t)?t.includes(".")?SA(i,t):()=>i[t]:t.bind(i,i);let r;Le(e)?r=e:(r=e.handler,n=e);const o=Jt;pa(this);const a=Zy(s,r.bind(i),n);return o?pa(o):qr(),a}function SA(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function Lr(t,e){if(!mt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Et(t))Lr(t.value,e);else if(Ee(t))for(let n=0;n<t.length;n++)Lr(t[n],e);else if(Yk(t)||Qo(t))t.forEach(n=>{Lr(n,e)});else if(Jk(t))for(const n in t)Lr(t[n],e);return t}function en(t,e){const n=Kn;if(n===null)return t;const i=wf(n)||n.proxy,s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[o,a,l,c=pt]=e[r];o&&(Le(o)&&(o={mounted:o,updated:o}),o.deep&&Lr(a),s.push({dir:o,instance:i,value:a,oldValue:void 0,arg:l,modifiers:c}))}return t}function wr(t,e,n,i){const s=t.dirs,r=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&(Va(),oi(l,n,8,[t.el,a,t,e]),Ba())}}function TA(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ci(()=>{t.isMounted=!0}),Xn(()=>{t.isUnmounting=!0}),t}const ei=[Function,Array],kA={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ei,onEnter:ei,onAfterEnter:ei,onEnterCancelled:ei,onBeforeLeave:ei,onLeave:ei,onAfterLeave:ei,onLeaveCancelled:ei,onBeforeAppear:ei,onAppear:ei,onAfterAppear:ei,onAppearCancelled:ei},OH={name:"BaseTransition",props:kA,setup(t,{slots:e}){const n=l_(),i=TA();let s;return()=>{const r=e.default&&e_(e.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){for(const p of r)if(p.type!==wi){o=p;break}}const a=Fe(t),{mode:l}=a;if(i.isLeaving)return Sm(o);const c=P0(o);if(!c)return Sm(o);const u=mc(c,a,i,n);gc(c,u);const d=n.subTree,h=d&&P0(d);let m=!1;const{getTransitionKey:g}=c.type;if(g){const p=g();s===void 0?s=p:p!==s&&(s=p,m=!0)}if(h&&h.type!==wi&&(!Ar(c,h)||m)){const p=mc(h,a,i,n);if(gc(h,p),l==="out-in")return i.isLeaving=!0,p.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&n.update()},Sm(o);l==="in-out"&&c.type!==wi&&(p.delayLeave=(v,E,b)=>{const C=AA(i,h);C[String(h.key)]=h,v._leaveCb=()=>{E(),v._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=b})}return o}}},MH=OH;function AA(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function mc(t,e,n,i){const{appear:s,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:h,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:p,onAppear:v,onAfterAppear:E,onAppearCancelled:b}=e,C=String(t.key),S=AA(n,t),R=(T,k)=>{T&&oi(T,i,9,k)},x=(T,k)=>{const L=k[1];R(T,k),Ee(T)?T.every(V=>V.length<=1)&&L():T.length<=1&&L()},N={mode:r,persisted:o,beforeEnter(T){let k=a;if(!n.isMounted)if(s)k=p||a;else return;T._leaveCb&&T._leaveCb(!0);const L=S[C];L&&Ar(t,L)&&L.el._leaveCb&&L.el._leaveCb(),R(k,[T])},enter(T){let k=l,L=c,V=u;if(!n.isMounted)if(s)k=v||l,L=E||c,V=b||u;else return;let O=!1;const P=T._enterCb=$=>{O||(O=!0,$?R(V,[T]):R(L,[T]),N.delayedLeave&&N.delayedLeave(),T._enterCb=void 0)};k?x(k,[T,P]):P()},leave(T,k){const L=String(t.key);if(T._enterCb&&T._enterCb(!0),n.isUnmounting)return k();R(d,[T]);let V=!1;const O=T._leaveCb=P=>{V||(V=!0,k(),P?R(g,[T]):R(m,[T]),T._leaveCb=void 0,S[L]===t&&delete S[L])};S[L]=t,h?x(h,[T,O]):O()},clone(T){return mc(T,e,n,i)}};return N}function Sm(t){if(pf(t))return t=Ss(t),t.children=null,t}function P0(t){return pf(t)?t.children?t.children[0]:void 0:t}function gc(t,e){t.shapeFlag&6&&t.component?gc(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function e_(t,e=!1,n){let i=[],s=0;for(let r=0;r<t.length;r++){let o=t[r];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===Te?(o.patchFlag&128&&s++,i=i.concat(e_(o.children,e,a))):(e||o.type!==wi)&&i.push(a!=null?Ss(o,{key:a}):o)}if(s>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}function t_(t,e){return Le(t)?(()=>Dt({name:t.name},e,{setup:t}))():t}const Gu=t=>!!t.type.__asyncLoader,pf=t=>t.type.__isKeepAlive;function xA(t,e){PA(t,"a",e)}function RA(t,e){PA(t,"da",e)}function PA(t,e,n=Jt){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(vf(e,i,n),n){let s=n.parent;for(;s&&s.parent;)pf(s.parent.vnode)&&LH(i,e,n,s),s=s.parent}}function LH(t,e,n,i){const s=vf(e,t,i,!0);DA(()=>{Vy(i[e],s)},n)}function vf(t,e,n=Jt,i=!1){if(n){const s=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Va(),pa(n);const a=oi(e,n,t,o);return qr(),Ba(),a});return i?s.unshift(r):s.push(r),r}}const As=t=>(e,n=Jt)=>(!vc||t==="sp")&&vf(t,(...i)=>e(...i),n),yf=As("bm"),ci=As("m"),FH=As("bu"),NA=As("u"),Xn=As("bum"),DA=As("um"),VH=As("sp"),BH=As("rtg"),UH=As("rtc");function $H(t,e=Jt){vf("ec",t,e)}const n_="components",zH="directives";function _i(t,e){return i_(n_,t,!0,e)||t}const OA=Symbol.for("v-ndc");function jH(t){return Rt(t)?i_(n_,t,!1)||t:t||OA}function Ti(t){return i_(zH,t)}function i_(t,e,n=!0,i=!1){const s=Kn||Jt;if(s){const r=s.type;if(t===n_){const a=b6(r,!1);if(a&&(a===e||a===li(e)||a===ks(li(e))))return r}const o=N0(s[t]||r[t],e)||N0(s.appContext[t],e);return!o&&i?r:o}}function N0(t,e){return t&&(t[e]||t[li(e)]||t[ks(li(e))])}function ga(t,e,n,i){let s;const r=n&&n[i];if(Ee(t)||Rt(t)){s=new Array(t.length);for(let o=0,a=t.length;o<a;o++)s[o]=e(t[o],o,void 0,r&&r[o])}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,r&&r[o])}else if(mt(t))if(t[Symbol.iterator])s=Array.from(t,(o,a)=>e(o,a,void 0,r&&r[a]));else{const o=Object.keys(t);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];s[a]=e(t[c],c,a,r&&r[a])}}else s=[];return n&&(n[i]=s),s}function HH(t,e){for(let n=0;n<e.length;n++){const i=e[n];if(Ee(i))for(let s=0;s<i.length;s++)t[i[s].name]=i[s].fn;else i&&(t[i.name]=i.key?(...s)=>{const r=i.fn(...s);return r&&(r.key=i.key),r}:i.fn)}return t}const ep=t=>t?qA(t)?wf(t)||t.proxy:ep(t.parent):null,Rl=Dt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ep(t.parent),$root:t=>ep(t.root),$emit:t=>t.emit,$options:t=>s_(t),$forceUpdate:t=>t.f||(t.f=()=>Jy(t.update)),$nextTick:t=>t.n||(t.n=Ct.bind(t.proxy)),$watch:t=>DH.bind(t)}),Tm=(t,e)=>t!==pt&&!t.__isScriptSetup&&Xe(t,e),qH={get({_:t},e){const{ctx:n,setupState:i,data:s,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return r[e]}else{if(Tm(i,e))return o[e]=1,i[e];if(s!==pt&&Xe(s,e))return o[e]=2,s[e];if((c=t.propsOptions[0])&&Xe(c,e))return o[e]=3,r[e];if(n!==pt&&Xe(n,e))return o[e]=4,n[e];tp&&(o[e]=0)}}const u=Rl[e];let d,h;if(u)return e==="$attrs"&&Ln(t,"get",e),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==pt&&Xe(n,e))return o[e]=4,n[e];if(h=l.config.globalProperties,Xe(h,e))return h[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:r}=t;return Tm(s,e)?(s[e]=n,!0):i!==pt&&Xe(i,e)?(i[e]=n,!0):Xe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:r}},o){let a;return!!n[o]||t!==pt&&Xe(t,o)||Tm(e,o)||(a=r[0])&&Xe(a,o)||Xe(i,o)||Xe(Rl,o)||Xe(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Xe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function D0(t){return Ee(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let tp=!0;function WH(t){const e=s_(t),n=t.proxy,i=t.ctx;tp=!1,e.beforeCreate&&O0(e.beforeCreate,t,"bc");const{data:s,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:m,updated:g,activated:p,deactivated:v,beforeDestroy:E,beforeUnmount:b,destroyed:C,unmounted:S,render:R,renderTracked:x,renderTriggered:N,errorCaptured:T,serverPrefetch:k,expose:L,inheritAttrs:V,components:O,directives:P,filters:$}=e;if(c&&KH(c,i,null),o)for(const se in o){const F=o[se];Le(F)&&(i[se]=F.bind(n))}if(s){const se=s.call(n,n);mt(se)&&(t.data=Xt(se))}if(tp=!0,r)for(const se in r){const F=r[se],G=Le(F)?F.bind(n,n):Le(F.get)?F.get.bind(n,n):yi,ue=!Le(F)&&Le(F.set)?F.set.bind(n):yi,pe=w({get:G,set:ue});Object.defineProperty(i,se,{enumerable:!0,configurable:!0,get:()=>pe.value,set:De=>pe.value=De})}if(a)for(const se in a)MA(a[se],i,n,se);if(l){const se=Le(l)?l.call(n):l;Reflect.ownKeys(se).forEach(F=>{Wt(F,se[F])})}u&&O0(u,t,"c");function oe(se,F){Ee(F)?F.forEach(G=>se(G.bind(n))):F&&se(F.bind(n))}if(oe(yf,d),oe(ci,h),oe(FH,m),oe(NA,g),oe(xA,p),oe(RA,v),oe($H,T),oe(UH,x),oe(BH,N),oe(Xn,b),oe(DA,S),oe(VH,k),Ee(L))if(L.length){const se=t.exposed||(t.exposed={});L.forEach(F=>{Object.defineProperty(se,F,{get:()=>n[F],set:G=>n[F]=G})})}else t.exposed||(t.exposed={});R&&t.render===yi&&(t.render=R),V!=null&&(t.inheritAttrs=V),O&&(t.components=O),P&&(t.directives=P)}function KH(t,e,n=yi){Ee(t)&&(t=np(t));for(const i in t){const s=t[i];let r;mt(s)?"default"in s?r=st(s.from||i,s.default,!0):r=st(s.from||i):r=st(s),Et(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[i]=r}}function O0(t,e,n){oi(Ee(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function MA(t,e,n,i){const s=i.includes(".")?SA(n,i):()=>n[i];if(Rt(t)){const r=e[t];Le(r)&&ge(s,r)}else if(Le(t))ge(s,t.bind(n));else if(mt(t))if(Ee(t))t.forEach(r=>MA(r,e,n,i));else{const r=Le(t.handler)?t.handler.bind(n):e[t.handler];Le(r)&&ge(s,r,t)}}function s_(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!s.length&&!n&&!i?l=e:(l={},s.length&&s.forEach(c=>Kd(l,c,o,!0)),Kd(l,e,o)),mt(e)&&r.set(e,l),l}function Kd(t,e,n,i=!1){const{mixins:s,extends:r}=e;r&&Kd(t,r,n,!0),s&&s.forEach(o=>Kd(t,o,n,!0));for(const o in e)if(!(i&&o==="expose")){const a=GH[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const GH={data:M0,props:L0,emits:L0,methods:yl,computed:yl,beforeCreate:kn,created:kn,beforeMount:kn,mounted:kn,beforeUpdate:kn,updated:kn,beforeDestroy:kn,beforeUnmount:kn,destroyed:kn,unmounted:kn,activated:kn,deactivated:kn,errorCaptured:kn,serverPrefetch:kn,components:yl,directives:yl,watch:QH,provide:M0,inject:YH};function M0(t,e){return e?t?function(){return Dt(Le(t)?t.call(this,this):t,Le(e)?e.call(this,this):e)}:e:t}function YH(t,e){return yl(np(t),np(e))}function np(t){if(Ee(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function kn(t,e){return t?[...new Set([].concat(t,e))]:e}function yl(t,e){return t?Dt(Object.create(null),t,e):e}function L0(t,e){return t?Ee(t)&&Ee(e)?[...new Set([...t,...e])]:Dt(Object.create(null),D0(t),D0(e??{})):e}function QH(t,e){if(!t)return e;if(!e)return t;const n=Dt(Object.create(null),t);for(const i in e)n[i]=kn(t[i],e[i]);return n}function LA(){return{app:null,config:{isNativeTag:Tj,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let XH=0;function JH(t,e){return function(i,s=null){Le(i)||(i=Dt({},i)),s!=null&&!mt(s)&&(s=null);const r=LA(),o=new Set;let a=!1;const l=r.app={_uid:XH++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:S6,get config(){return r.config},set config(c){},use(c,...u){return o.has(c)||(c&&Le(c.install)?(o.add(c),c.install(l,...u)):Le(c)&&(o.add(c),c(l,...u))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,u){return u?(r.components[c]=u,l):r.components[c]},directive(c,u){return u?(r.directives[c]=u,l):r.directives[c]},mount(c,u,d){if(!a){const h=f(i,s);return h.appContext=r,u&&e?e(h,c):t(h,c,d),a=!0,l._container=c,c.__vue_app__=l,wf(h.component)||h.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return r.provides[c]=u,l},runWithContext(c){Gd=l;try{return c()}finally{Gd=null}}};return l}}let Gd=null;function Wt(t,e){if(Jt){let n=Jt.provides;const i=Jt.parent&&Jt.parent.provides;i===n&&(n=Jt.provides=Object.create(i)),n[t]=e}}function st(t,e,n=!1){const i=Jt||Kn;if(i||Gd){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Gd._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Le(e)?e.call(i&&i.proxy):e}}function ZH(t,e,n,i=!1){const s={},r={};jd(r,_f,1),t.propsDefaults=Object.create(null),FA(t,e,s,r);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=i?s:mH(s):t.type.props?t.props=s:t.props=r,t.attrs=r}function e6(t,e,n,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=t,a=Fe(s),[l]=t.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(gf(t.emitsOptions,h))continue;const m=e[h];if(l)if(Xe(r,h))m!==r[h]&&(r[h]=m,c=!0);else{const g=li(h);s[g]=ip(l,a,g,m,t,!1)}else m!==r[h]&&(r[h]=m,c=!0)}}}else{FA(t,e,s,r)&&(c=!0);let u;for(const d in a)(!e||!Xe(e,d)&&((u=Fa(d))===d||!Xe(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(s[d]=ip(l,a,d,void 0,t,!0)):delete s[d]);if(r!==a)for(const d in r)(!e||!Xe(e,d))&&(delete r[d],c=!0)}c&&Is(t,"set","$attrs")}function FA(t,e,n,i){const[s,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Wu(l))continue;const c=e[l];let u;s&&Xe(s,u=li(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:gf(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(r){const l=Fe(n),c=a||pt;for(let u=0;u<r.length;u++){const d=r[u];n[d]=ip(s,l,d,c[d],t,!Xe(c,d))}}return o}function ip(t,e,n,i,s,r){const o=t[n];if(o!=null){const a=Xe(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Le(l)){const{propsDefaults:c}=s;n in c?i=c[n]:(pa(s),i=c[n]=l.call(null,e),qr())}else i=l}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===Fa(n))&&(i=!0))}return i}function VA(t,e,n=!1){const i=e.propsCache,s=i.get(t);if(s)return s;const r=t.props,o={},a=[];let l=!1;if(!Le(t)){const u=d=>{l=!0;const[h,m]=VA(d,e,!0);Dt(o,h),m&&a.push(...m)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return mt(t)&&i.set(t,Yo),Yo;if(Ee(r))for(let u=0;u<r.length;u++){const d=li(r[u]);F0(d)&&(o[d]=pt)}else if(r)for(const u in r){const d=li(u);if(F0(d)){const h=r[u],m=o[d]=Ee(h)||Le(h)?{type:h}:Dt({},h);if(m){const g=U0(Boolean,m.type),p=U0(String,m.type);m[0]=g>-1,m[1]=p<0||g<p,(g>-1||Xe(m,"default"))&&a.push(d)}}}const c=[o,a];return mt(t)&&i.set(t,c),c}function F0(t){return t[0]!=="$"}function V0(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function B0(t,e){return V0(t)===V0(e)}function U0(t,e){return Ee(e)?e.findIndex(n=>B0(n,t)):Le(e)&&B0(e,t)?0:-1}const BA=t=>t[0]==="_"||t==="$stable",r_=t=>Ee(t)?t.map(Ni):[Ni(t)],t6=(t,e,n)=>{if(e._n)return e;const i=y((...s)=>r_(e(...s)),n);return i._c=!1,i},UA=(t,e,n)=>{const i=t._ctx;for(const s in t){if(BA(s))continue;const r=t[s];if(Le(r))e[s]=t6(s,r,i);else if(r!=null){const o=r_(r);e[s]=()=>o}}},$A=(t,e)=>{const n=r_(e);t.slots.default=()=>n},n6=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Fe(e),jd(e,"_",n)):UA(e,t.slots={})}else t.slots={},e&&$A(t,e);jd(t.slots,_f,1)},i6=(t,e,n)=>{const{vnode:i,slots:s}=t;let r=!0,o=pt;if(i.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:(Dt(s,e),!n&&a===1&&delete s._):(r=!e.$stable,UA(e,s)),o=e}else e&&($A(t,e),o={default:1});if(r)for(const a in s)!BA(a)&&!(a in o)&&delete s[a]};function sp(t,e,n,i,s=!1){if(Ee(t)){t.forEach((h,m)=>sp(h,e&&(Ee(e)?e[m]:e),n,i,s));return}if(Gu(i)&&!s)return;const r=i.shapeFlag&4?wf(i.component)||i.component.proxy:i.el,o=s?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===pt?a.refs={}:a.refs,d=a.setupState;if(c!=null&&c!==l&&(Rt(c)?(u[c]=null,Xe(d,c)&&(d[c]=null)):Et(c)&&(c.value=null)),Le(l))sr(l,a,12,[o,u]);else{const h=Rt(l),m=Et(l);if(h||m){const g=()=>{if(t.f){const p=h?Xe(d,l)?d[l]:u[l]:l.value;s?Ee(p)&&Vy(p,r):Ee(p)?p.includes(r)||p.push(r):h?(u[l]=[r],Xe(d,l)&&(d[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else h?(u[l]=o,Xe(d,l)&&(d[l]=o)):m&&(l.value=o,t.k&&(u[t.k]=o))};o?(g.id=-1,Rn(g,n)):g()}}}const Rn=NH;function s6(t){return r6(t)}function r6(t,e){const n=Yg();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:m=yi,insertStaticContent:g}=t,p=(_,I,A,M=null,U=null,j=null,te=!1,Q=null,ee=!!I.dynamicChildren)=>{if(_===I)return;_&&!Ar(_,I)&&(M=D(_),De(_,U,j,!0),_=null),I.patchFlag===-2&&(ee=!1,I.dynamicChildren=null);const{type:H,ref:_e,shapeFlag:de}=I;switch(H){case Zc:v(_,I,A,M);break;case wi:E(_,I,A,M);break;case km:_==null&&b(I,A,M,te);break;case Te:O(_,I,A,M,U,j,te,Q,ee);break;default:de&1?R(_,I,A,M,U,j,te,Q,ee):de&6?P(_,I,A,M,U,j,te,Q,ee):(de&64||de&128)&&H.process(_,I,A,M,U,j,te,Q,ee,X)}_e!=null&&U&&sp(_e,_&&_.ref,j,I||_,!I)},v=(_,I,A,M)=>{if(_==null)i(I.el=a(I.children),A,M);else{const U=I.el=_.el;I.children!==_.children&&c(U,I.children)}},E=(_,I,A,M)=>{_==null?i(I.el=l(I.children||""),A,M):I.el=_.el},b=(_,I,A,M)=>{[_.el,_.anchor]=g(_.children,I,A,M,_.el,_.anchor)},C=({el:_,anchor:I},A,M)=>{let U;for(;_&&_!==I;)U=h(_),i(_,A,M),_=U;i(I,A,M)},S=({el:_,anchor:I})=>{let A;for(;_&&_!==I;)A=h(_),s(_),_=A;s(I)},R=(_,I,A,M,U,j,te,Q,ee)=>{te=te||I.type==="svg",_==null?x(I,A,M,U,j,te,Q,ee):k(_,I,U,j,te,Q,ee)},x=(_,I,A,M,U,j,te,Q)=>{let ee,H;const{type:_e,props:de,shapeFlag:we,transition:Oe,dirs:He}=_;if(ee=_.el=o(_.type,j,de&&de.is,de),we&8?u(ee,_.children):we&16&&T(_.children,ee,null,M,U,j&&_e!=="foreignObject",te,Q),He&&wr(_,null,M,"created"),N(ee,_,_.scopeId,te,M),de){for(const lt in de)lt!=="value"&&!Wu(lt)&&r(ee,lt,null,de[lt],j,_.children,M,U,B);"value"in de&&r(ee,"value",null,de.value),(H=de.onVnodeBeforeMount)&&Pi(H,M,_)}He&&wr(_,null,M,"beforeMount");const ht=(!U||U&&!U.pendingBranch)&&Oe&&!Oe.persisted;ht&&Oe.beforeEnter(ee),i(ee,I,A),((H=de&&de.onVnodeMounted)||ht||He)&&Rn(()=>{H&&Pi(H,M,_),ht&&Oe.enter(ee),He&&wr(_,null,M,"mounted")},U)},N=(_,I,A,M,U)=>{if(A&&m(_,A),M)for(let j=0;j<M.length;j++)m(_,M[j]);if(U){let j=U.subTree;if(I===j){const te=U.vnode;N(_,te,te.scopeId,te.slotScopeIds,U.parent)}}},T=(_,I,A,M,U,j,te,Q,ee=0)=>{for(let H=ee;H<_.length;H++){const _e=_[H]=Q?Bs(_[H]):Ni(_[H]);p(null,_e,I,A,M,U,j,te,Q)}},k=(_,I,A,M,U,j,te)=>{const Q=I.el=_.el;let{patchFlag:ee,dynamicChildren:H,dirs:_e}=I;ee|=_.patchFlag&16;const de=_.props||pt,we=I.props||pt;let Oe;A&&br(A,!1),(Oe=we.onVnodeBeforeUpdate)&&Pi(Oe,A,I,_),_e&&wr(I,_,A,"beforeUpdate"),A&&br(A,!0);const He=U&&I.type!=="foreignObject";if(H?L(_.dynamicChildren,H,Q,A,M,He,j):te||F(_,I,Q,null,A,M,He,j,!1),ee>0){if(ee&16)V(Q,I,de,we,A,M,U);else if(ee&2&&de.class!==we.class&&r(Q,"class",null,we.class,U),ee&4&&r(Q,"style",de.style,we.style,U),ee&8){const ht=I.dynamicProps;for(let lt=0;lt<ht.length;lt++){const Lt=ht[lt],ui=de[Lt],bo=we[Lt];(bo!==ui||Lt==="value")&&r(Q,Lt,ui,bo,U,_.children,A,M,B)}}ee&1&&_.children!==I.children&&u(Q,I.children)}else!te&&H==null&&V(Q,I,de,we,A,M,U);((Oe=we.onVnodeUpdated)||_e)&&Rn(()=>{Oe&&Pi(Oe,A,I,_),_e&&wr(I,_,A,"updated")},M)},L=(_,I,A,M,U,j,te)=>{for(let Q=0;Q<I.length;Q++){const ee=_[Q],H=I[Q],_e=ee.el&&(ee.type===Te||!Ar(ee,H)||ee.shapeFlag&70)?d(ee.el):A;p(ee,H,_e,null,M,U,j,te,!0)}},V=(_,I,A,M,U,j,te)=>{if(A!==M){if(A!==pt)for(const Q in A)!Wu(Q)&&!(Q in M)&&r(_,Q,A[Q],null,te,I.children,U,j,B);for(const Q in M){if(Wu(Q))continue;const ee=M[Q],H=A[Q];ee!==H&&Q!=="value"&&r(_,Q,H,ee,te,I.children,U,j,B)}"value"in M&&r(_,"value",A.value,M.value)}},O=(_,I,A,M,U,j,te,Q,ee)=>{const H=I.el=_?_.el:a(""),_e=I.anchor=_?_.anchor:a("");let{patchFlag:de,dynamicChildren:we,slotScopeIds:Oe}=I;Oe&&(Q=Q?Q.concat(Oe):Oe),_==null?(i(H,A,M),i(_e,A,M),T(I.children,A,_e,U,j,te,Q,ee)):de>0&&de&64&&we&&_.dynamicChildren?(L(_.dynamicChildren,we,A,U,j,te,Q),(I.key!=null||U&&I===U.subTree)&&o_(_,I,!0)):F(_,I,A,_e,U,j,te,Q,ee)},P=(_,I,A,M,U,j,te,Q,ee)=>{I.slotScopeIds=Q,_==null?I.shapeFlag&512?U.ctx.activate(I,A,M,te,ee):$(I,A,M,U,j,te,ee):re(_,I,ee)},$=(_,I,A,M,U,j,te)=>{const Q=_.component=p6(_,M,U);if(pf(_)&&(Q.ctx.renderer=X),v6(Q),Q.asyncDep){if(U&&U.registerDep(Q,oe),!_.el){const ee=Q.subTree=f(wi);E(null,ee,I,A)}return}oe(Q,_,I,A,U,j,te)},re=(_,I,A)=>{const M=I.component=_.component;if(xH(_,I,A))if(M.asyncDep&&!M.asyncResolved){se(M,I,A);return}else M.next=I,CH(M.update),M.update();else I.el=_.el,M.vnode=I},oe=(_,I,A,M,U,j,te)=>{const Q=()=>{if(_.isMounted){let{next:_e,bu:de,u:we,parent:Oe,vnode:He}=_,ht=_e,lt;br(_,!1),_e?(_e.el=He.el,se(_,_e,te)):_e=He,de&&Ku(de),(lt=_e.props&&_e.props.onVnodeBeforeUpdate)&&Pi(lt,Oe,_e,He),br(_,!0);const Lt=Im(_),ui=_.subTree;_.subTree=Lt,p(ui,Lt,d(ui.el),D(ui),_,U,j),_e.el=Lt.el,ht===null&&RH(_,Lt.el),we&&Rn(we,U),(lt=_e.props&&_e.props.onVnodeUpdated)&&Rn(()=>Pi(lt,Oe,_e,He),U)}else{let _e;const{el:de,props:we}=I,{bm:Oe,m:He,parent:ht}=_,lt=Gu(I);if(br(_,!1),Oe&&Ku(Oe),!lt&&(_e=we&&we.onVnodeBeforeMount)&&Pi(_e,ht,I),br(_,!0),de&&Pe){const Lt=()=>{_.subTree=Im(_),Pe(de,_.subTree,_,U,null)};lt?I.type.__asyncLoader().then(()=>!_.isUnmounted&&Lt()):Lt()}else{const Lt=_.subTree=Im(_);p(null,Lt,A,M,_,U,j),I.el=Lt.el}if(He&&Rn(He,U),!lt&&(_e=we&&we.onVnodeMounted)){const Lt=I;Rn(()=>Pi(_e,ht,Lt),U)}(I.shapeFlag&256||ht&&Gu(ht.vnode)&&ht.vnode.shapeFlag&256)&&_.a&&Rn(_.a,U),_.isMounted=!0,I=A=M=null}},ee=_.effect=new Hy(Q,()=>Jy(H),_.scope),H=_.update=()=>ee.run();H.id=_.uid,br(_,!0),H()},se=(_,I,A)=>{I.component=_;const M=_.vnode.props;_.vnode=I,_.next=null,e6(_,I.props,M,A),i6(_,I.children,A),Va(),x0(),Ba()},F=(_,I,A,M,U,j,te,Q,ee=!1)=>{const H=_&&_.children,_e=_?_.shapeFlag:0,de=I.children,{patchFlag:we,shapeFlag:Oe}=I;if(we>0){if(we&128){ue(H,de,A,M,U,j,te,Q,ee);return}else if(we&256){G(H,de,A,M,U,j,te,Q,ee);return}}Oe&8?(_e&16&&B(H,U,j),de!==H&&u(A,de)):_e&16?Oe&16?ue(H,de,A,M,U,j,te,Q,ee):B(H,U,j,!0):(_e&8&&u(A,""),Oe&16&&T(de,A,M,U,j,te,Q,ee))},G=(_,I,A,M,U,j,te,Q,ee)=>{_=_||Yo,I=I||Yo;const H=_.length,_e=I.length,de=Math.min(H,_e);let we;for(we=0;we<de;we++){const Oe=I[we]=ee?Bs(I[we]):Ni(I[we]);p(_[we],Oe,A,null,U,j,te,Q,ee)}H>_e?B(_,U,j,!0,!1,de):T(I,A,M,U,j,te,Q,ee,de)},ue=(_,I,A,M,U,j,te,Q,ee)=>{let H=0;const _e=I.length;let de=_.length-1,we=_e-1;for(;H<=de&&H<=we;){const Oe=_[H],He=I[H]=ee?Bs(I[H]):Ni(I[H]);if(Ar(Oe,He))p(Oe,He,A,null,U,j,te,Q,ee);else break;H++}for(;H<=de&&H<=we;){const Oe=_[de],He=I[we]=ee?Bs(I[we]):Ni(I[we]);if(Ar(Oe,He))p(Oe,He,A,null,U,j,te,Q,ee);else break;de--,we--}if(H>de){if(H<=we){const Oe=we+1,He=Oe<_e?I[Oe].el:M;for(;H<=we;)p(null,I[H]=ee?Bs(I[H]):Ni(I[H]),A,He,U,j,te,Q,ee),H++}}else if(H>we)for(;H<=de;)De(_[H],U,j,!0),H++;else{const Oe=H,He=H,ht=new Map;for(H=He;H<=we;H++){const Un=I[H]=ee?Bs(I[H]):Ni(I[H]);Un.key!=null&&ht.set(Un.key,H)}let lt,Lt=0;const ui=we-He+1;let bo=!1,G_=0;const Qa=new Array(ui);for(H=0;H<ui;H++)Qa[H]=0;for(H=Oe;H<=de;H++){const Un=_[H];if(Lt>=ui){De(Un,U,j,!0);continue}let Ri;if(Un.key!=null)Ri=ht.get(Un.key);else for(lt=He;lt<=we;lt++)if(Qa[lt-He]===0&&Ar(Un,I[lt])){Ri=lt;break}Ri===void 0?De(Un,U,j,!0):(Qa[Ri-He]=H+1,Ri>=G_?G_=Ri:bo=!0,p(Un,I[Ri],A,null,U,j,te,Q,ee),Lt++)}const Y_=bo?o6(Qa):Yo;for(lt=Y_.length-1,H=ui-1;H>=0;H--){const Un=He+H,Ri=I[Un],Q_=Un+1<_e?I[Un+1].el:M;Qa[H]===0?p(null,Ri,A,Q_,U,j,te,Q,ee):bo&&(lt<0||H!==Y_[lt]?pe(Ri,A,Q_,2):lt--)}}},pe=(_,I,A,M,U=null)=>{const{el:j,type:te,transition:Q,children:ee,shapeFlag:H}=_;if(H&6){pe(_.component.subTree,I,A,M);return}if(H&128){_.suspense.move(I,A,M);return}if(H&64){te.move(_,I,A,X);return}if(te===Te){i(j,I,A);for(let de=0;de<ee.length;de++)pe(ee[de],I,A,M);i(_.anchor,I,A);return}if(te===km){C(_,I,A);return}if(M!==2&&H&1&&Q)if(M===0)Q.beforeEnter(j),i(j,I,A),Rn(()=>Q.enter(j),U);else{const{leave:de,delayLeave:we,afterLeave:Oe}=Q,He=()=>i(j,I,A),ht=()=>{de(j,()=>{He(),Oe&&Oe()})};we?we(j,He,ht):ht()}else i(j,I,A)},De=(_,I,A,M=!1,U=!1)=>{const{type:j,props:te,ref:Q,children:ee,dynamicChildren:H,shapeFlag:_e,patchFlag:de,dirs:we}=_;if(Q!=null&&sp(Q,null,A,_,!0),_e&256){I.ctx.deactivate(_);return}const Oe=_e&1&&we,He=!Gu(_);let ht;if(He&&(ht=te&&te.onVnodeBeforeUnmount)&&Pi(ht,I,_),_e&6)dt(_.component,A,M);else{if(_e&128){_.suspense.unmount(A,M);return}Oe&&wr(_,null,I,"beforeUnmount"),_e&64?_.type.remove(_,I,A,U,X,M):H&&(j!==Te||de>0&&de&64)?B(H,I,A,!1,!0):(j===Te&&de&384||!U&&_e&16)&&B(ee,I,A),M&&je(_)}(He&&(ht=te&&te.onVnodeUnmounted)||Oe)&&Rn(()=>{ht&&Pi(ht,I,_),Oe&&wr(_,null,I,"unmounted")},A)},je=_=>{const{type:I,el:A,anchor:M,transition:U}=_;if(I===Te){at(A,M);return}if(I===km){S(_);return}const j=()=>{s(A),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(_.shapeFlag&1&&U&&!U.persisted){const{leave:te,delayLeave:Q}=U,ee=()=>te(A,j);Q?Q(_.el,j,ee):ee()}else j()},at=(_,I)=>{let A;for(;_!==I;)A=h(_),s(_),_=A;s(I)},dt=(_,I,A)=>{const{bum:M,scope:U,update:j,subTree:te,um:Q}=_;M&&Ku(M),U.stop(),j&&(j.active=!1,De(te,_,I,A)),Q&&Rn(Q,I),Rn(()=>{_.isUnmounted=!0},I),I&&I.pendingBranch&&!I.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===I.pendingId&&(I.deps--,I.deps===0&&I.resolve())},B=(_,I,A,M=!1,U=!1,j=0)=>{for(let te=j;te<_.length;te++)De(_[te],I,A,M,U)},D=_=>_.shapeFlag&6?D(_.component.subTree):_.shapeFlag&128?_.suspense.next():h(_.anchor||_.el),J=(_,I,A)=>{_==null?I._vnode&&De(I._vnode,null,null,!0):p(I._vnode||null,_,I,null,null,null,A),x0(),bA(),I._vnode=_},X={p,um:De,m:pe,r:je,mt:$,mc:T,pc:F,pbc:L,n:D,o:t};let Z,Pe;return e&&([Z,Pe]=e(X)),{render:J,hydrate:Z,createApp:JH(J,Z)}}function br({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function o_(t,e,n=!1){const i=t.children,s=e.children;if(Ee(i)&&Ee(s))for(let r=0;r<i.length;r++){const o=i[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=Bs(s[r]),a.el=o.el),n||o_(o,a)),a.type===Zc&&(a.el=o.el)}}function o6(t){const e=t.slice(),n=[0];let i,s,r,o,a;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(s=n[n.length-1],t[s]<c){e[i]=s,n.push(i);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[i]=n[r-1]),n[r]=i)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}const a6=t=>t.__isTeleport,Pl=t=>t&&(t.disabled||t.disabled===""),$0=t=>typeof SVGElement<"u"&&t instanceof SVGElement,rp=(t,e)=>{const n=t&&t.to;return Rt(n)?e?e(n):null:n},l6={__isTeleport:!0,process(t,e,n,i,s,r,o,a,l,c){const{mc:u,pc:d,pbc:h,o:{insert:m,querySelector:g,createText:p,createComment:v}}=c,E=Pl(e.props);let{shapeFlag:b,children:C,dynamicChildren:S}=e;if(t==null){const R=e.el=p(""),x=e.anchor=p("");m(R,n,i),m(x,n,i);const N=e.target=rp(e.props,g),T=e.targetAnchor=p("");N&&(m(T,N),o=o||$0(N));const k=(L,V)=>{b&16&&u(C,L,V,s,r,o,a,l)};E?k(n,x):N&&k(N,T)}else{e.el=t.el;const R=e.anchor=t.anchor,x=e.target=t.target,N=e.targetAnchor=t.targetAnchor,T=Pl(t.props),k=T?n:x,L=T?R:N;if(o=o||$0(x),S?(h(t.dynamicChildren,S,k,s,r,o,a),o_(t,e,!0)):l||d(t,e,k,L,s,r,o,a,!1),E)T||xu(e,n,R,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const V=e.target=rp(e.props,g);V&&xu(e,V,null,c,0)}else T&&xu(e,x,N,c,1)}zA(e)},remove(t,e,n,i,{um:s,o:{remove:r}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:d,props:h}=t;if(d&&r(u),(o||!Pl(h))&&(r(c),a&16))for(let m=0;m<l.length;m++){const g=l[m];s(g,e,n,!0,!!g.dynamicChildren)}},move:xu,hydrate:c6};function xu(t,e,n,{o:{insert:i},m:s},r=2){r===0&&i(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,d=r===2;if(d&&i(o,e,n),(!d||Pl(u))&&l&16)for(let h=0;h<c.length;h++)s(c[h],e,n,2);d&&i(a,e,n)}function c6(t,e,n,i,s,r,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const u=e.target=rp(e.props,l);if(u){const d=u._lpa||u.firstChild;if(e.shapeFlag&16)if(Pl(e.props))e.anchor=c(o(t),e,a(t),n,i,s,r),e.targetAnchor=d;else{e.anchor=o(t);let h=d;for(;h;)if(h=o(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,u._lpa=e.targetAnchor&&o(e.targetAnchor);break}c(d,e,u,n,i,s,r)}zA(e)}return e.anchor&&o(e.anchor)}const u6=l6;function zA(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Te=Symbol.for("v-fgt"),Zc=Symbol.for("v-txt"),wi=Symbol.for("v-cmt"),km=Symbol.for("v-stc"),Nl=[];let gi=null;function ne(t=!1){Nl.push(gi=t?null:[])}function d6(){Nl.pop(),gi=Nl[Nl.length-1]||null}let pc=1;function z0(t){pc+=t}function jA(t){return t.dynamicChildren=pc>0?gi||Yo:null,d6(),pc>0&&gi&&gi.push(t),t}function bn(t,e,n,i,s,r){return jA(ke(t,e,n,i,s,r,!0))}function he(t,e,n,i,s){return jA(f(t,e,n,i,s,!0))}function op(t){return t?t.__v_isVNode===!0:!1}function Ar(t,e){return t.type===e.type&&t.key===e.key}const _f="__vInternal",HA=({key:t})=>t??null,Yu=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Rt(t)||Et(t)||Le(t)?{i:Kn,r:t,k:e,f:!!n}:t:null);function ke(t,e=null,n=null,i=0,s=null,r=t===Te?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&HA(e),ref:e&&Yu(e),scopeId:IA,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Kn};return a?(a_(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=Rt(n)?8:16),pc>0&&!o&&gi&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&gi.push(l),l}const f=h6;function h6(t,e=null,n=null,i=0,s=null,r=!1){if((!t||t===OA)&&(t=wi),op(t)){const a=Ss(t,e,!0);return n&&a_(a,n),pc>0&&!r&&gi&&(a.shapeFlag&6?gi[gi.indexOf(t)]=a:gi.push(a)),a.patchFlag|=-2,a}if(E6(t)&&(t=t.__vccOpts),e){e=f6(e);let{class:a,style:l}=e;a&&!Rt(a)&&(e.class=zy(a)),mt(l)&&(hA(l)&&!Ee(l)&&(l=Dt({},l)),e.style=$y(l))}const o=Rt(t)?1:PH(t)?128:a6(t)?64:mt(t)?4:Le(t)?2:0;return ke(t,e,n,i,s,o,r,!0)}function f6(t){return t?hA(t)||_f in t?Dt({},t):t:null}function Ss(t,e,n=!1){const{props:i,ref:s,patchFlag:r,children:o}=t,a=e?ye(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&HA(a),ref:e&&e.ref?n&&s?Ee(s)?s.concat(Yu(e)):[s,Yu(e)]:Yu(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Te?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ss(t.ssContent),ssFallback:t.ssFallback&&Ss(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function q(t=" ",e=0){return f(Zc,null,t,e)}function Ke(t="",e=!1){return e?(ne(),he(wi,null,t)):f(wi,null,t)}function Ni(t){return t==null||typeof t=="boolean"?f(wi):Ee(t)?f(Te,null,t.slice()):typeof t=="object"?Bs(t):f(Zc,null,String(t))}function Bs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ss(t)}function a_(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Ee(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),a_(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(_f in e)?e._ctx=Kn:s===3&&Kn&&(Kn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Le(e)?(e={default:e,_ctx:Kn},n=32):(e=String(e),i&64?(n=16,e=[q(e)]):n=8);t.children=e,t.shapeFlag|=n}function ye(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=zy([e.class,i.class]));else if(s==="style")e.style=$y([e.style,i.style]);else if(cf(s)){const r=e[s],o=i[s];o&&r!==o&&!(Ee(r)&&r.includes(o))&&(e[s]=r?[].concat(r,o):o)}else s!==""&&(e[s]=i[s])}return e}function Pi(t,e,n,i=null){oi(t,e,7,[n,i])}const m6=LA();let g6=0;function p6(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||m6,r={uid:g6++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new tA(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:VA(i,s),emitsOptions:CA(i,s),emit:null,emitted:null,propsDefaults:pt,inheritAttrs:i.inheritAttrs,ctx:pt,data:pt,props:pt,attrs:pt,slots:pt,refs:pt,setupState:pt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=TH.bind(null,r),t.ce&&t.ce(r),r}let Jt=null;const l_=()=>Jt||Kn;let c_,Io,j0="__VUE_INSTANCE_SETTERS__";(Io=Yg()[j0])||(Io=Yg()[j0]=[]),Io.push(t=>Jt=t),c_=t=>{Io.length>1?Io.forEach(e=>e(t)):Io[0](t)};const pa=t=>{c_(t),t.scope.on()},qr=()=>{Jt&&Jt.scope.off(),c_(null)};function qA(t){return t.vnode.shapeFlag&4}let vc=!1;function v6(t,e=!1){vc=e;const{props:n,children:i}=t.vnode,s=qA(t);ZH(t,n,s,e),n6(t,i);const r=s?y6(t,e):void 0;return vc=!1,r}function y6(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=fA(new Proxy(t.ctx,qH));const{setup:i}=n;if(i){const s=t.setupContext=i.length>1?w6(t):null;pa(t),Va();const r=sr(i,t,0,[t.props,s]);if(Ba(),qr(),Qk(r)){if(r.then(qr,qr),e)return r.then(o=>{H0(t,o,e)}).catch(o=>{mf(o,t,0)});t.asyncDep=r}else H0(t,r,e)}else WA(t,e)}function H0(t,e,n){Le(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:mt(e)&&(t.setupState=vA(e)),WA(t,n)}let q0;function WA(t,e,n){const i=t.type;if(!t.render){if(!e&&q0&&!i.render){const s=i.template||s_(t).template;if(s){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=i,c=Dt(Dt({isCustomElement:r,delimiters:a},o),l);i.render=q0(s,c)}}t.render=i.render||yi}pa(t),Va(),WH(t),Ba(),qr()}function _6(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Ln(t,"get","$attrs"),e[n]}}))}function w6(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return _6(t)},slots:t.slots,emit:t.emit,expose:e}}function wf(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(vA(fA(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Rl)return Rl[n](t)},has(e,n){return n in e||n in Rl}}))}function b6(t,e=!0){return Le(t)?t.displayName||t.name:t.name||e&&t.__name}function E6(t){return Le(t)&&"__vccOpts"in t}const w=(t,e)=>wH(t,e,vc);function Ji(t,e,n){const i=arguments.length;return i===2?mt(e)&&!Ee(e)?op(e)?f(t,null,[e]):f(t,e):f(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&op(n)&&(n=[n]),f(t,e,n))}const C6=Symbol.for("v-scx"),I6=()=>st(C6),S6="3.3.4",T6="http://www.w3.org/2000/svg",xr=typeof document<"u"?document:null,W0=xr&&xr.createElement("template"),k6={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e?xr.createElementNS(T6,t):xr.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>xr.createTextNode(t),createComment:t=>xr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>xr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,r){const o=n?n.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{W0.innerHTML=i?`<svg>${t}</svg>`:t;const a=W0.content;if(i){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function A6(t,e,n){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function x6(t,e,n){const i=t.style,s=Rt(n);if(n&&!s){if(e&&!Rt(e))for(const r in e)n[r]==null&&ap(i,r,"");for(const r in n)ap(i,r,n[r])}else{const r=i.display;s?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=r)}}const K0=/\s*!important$/;function ap(t,e,n){if(Ee(n))n.forEach(i=>ap(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=R6(t,e);K0.test(n)?t.setProperty(Fa(i),n.replace(K0,""),"important"):t[i]=n}}const G0=["Webkit","Moz","ms"],Am={};function R6(t,e){const n=Am[e];if(n)return n;let i=li(e);if(i!=="filter"&&i in t)return Am[e]=i;i=ks(i);for(let s=0;s<G0.length;s++){const r=G0[s]+i;if(r in t)return Am[e]=r}return e}const Y0="http://www.w3.org/1999/xlink";function P6(t,e,n,i,s){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Y0,e.slice(6,e.length)):t.setAttributeNS(Y0,e,n);else{const r=Vj(e);n==null||r&&!Zk(n)?t.removeAttribute(e):t.setAttribute(e,r?"":n)}}function N6(t,e,n,i,s,r,o){if(e==="innerHTML"||e==="textContent"){i&&o(i,s,r),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const c=a==="OPTION"?t.getAttribute("value"):t.value,u=n??"";c!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=Zk(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Do(t,e,n,i){t.addEventListener(e,n,i)}function D6(t,e,n,i){t.removeEventListener(e,n,i)}function O6(t,e,n,i,s=null){const r=t._vei||(t._vei={}),o=r[e];if(i&&o)o.value=i;else{const[a,l]=M6(e);if(i){const c=r[e]=V6(i,s);Do(t,a,c,l)}else o&&(D6(t,a,o,l),r[e]=void 0)}}const Q0=/(?:Once|Passive|Capture)$/;function M6(t){let e;if(Q0.test(t)){e={};let i;for(;i=t.match(Q0);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Fa(t.slice(2)),e]}let xm=0;const L6=Promise.resolve(),F6=()=>xm||(L6.then(()=>xm=0),xm=Date.now());function V6(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;oi(B6(i,n.value),e,5,[i])};return n.value=t,n.attached=F6(),n}function B6(t,e){if(Ee(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const X0=/^on[a-z]/,U6=(t,e,n,i,s=!1,r,o,a,l)=>{e==="class"?A6(t,i,s):e==="style"?x6(t,n,i):cf(e)?Fy(e)||O6(t,e,n,i,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):$6(t,e,i,s))?N6(t,e,i,r,o,a,l):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),P6(t,e,i,s))};function $6(t,e,n,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&X0.test(e)&&Le(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||X0.test(e)&&Rt(n)?!1:e in t}const Ls="transition",sl="animation",qi=(t,{slots:e})=>Ji(MH,GA(t),e);qi.displayName="Transition";const KA={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},z6=qi.props=Dt({},kA,KA),Er=(t,e=[])=>{Ee(t)?t.forEach(n=>n(...e)):t&&t(...e)},J0=t=>t?Ee(t)?t.some(e=>e.length>1):t.length>1:!1;function GA(t){const e={};for(const O in t)O in KA||(e[O]=t[O]);if(t.css===!1)return e;const{name:n="v",type:i,duration:s,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=t,g=j6(s),p=g&&g[0],v=g&&g[1],{onBeforeEnter:E,onEnter:b,onEnterCancelled:C,onLeave:S,onLeaveCancelled:R,onBeforeAppear:x=E,onAppear:N=b,onAppearCancelled:T=C}=e,k=(O,P,$)=>{Vs(O,P?u:a),Vs(O,P?c:o),$&&$()},L=(O,P)=>{O._isLeaving=!1,Vs(O,d),Vs(O,m),Vs(O,h),P&&P()},V=O=>(P,$)=>{const re=O?N:b,oe=()=>k(P,O,$);Er(re,[P,oe]),Z0(()=>{Vs(P,O?l:r),os(P,O?u:a),J0(re)||eE(P,i,p,oe)})};return Dt(e,{onBeforeEnter(O){Er(E,[O]),os(O,r),os(O,o)},onBeforeAppear(O){Er(x,[O]),os(O,l),os(O,c)},onEnter:V(!1),onAppear:V(!0),onLeave(O,P){O._isLeaving=!0;const $=()=>L(O,P);os(O,d),QA(),os(O,h),Z0(()=>{O._isLeaving&&(Vs(O,d),os(O,m),J0(S)||eE(O,i,v,$))}),Er(S,[O,$])},onEnterCancelled(O){k(O,!1),Er(C,[O])},onAppearCancelled(O){k(O,!0),Er(T,[O])},onLeaveCancelled(O){L(O),Er(R,[O])}})}function j6(t){if(t==null)return null;if(mt(t))return[Rm(t.enter),Rm(t.leave)];{const e=Rm(t);return[e,e]}}function Rm(t){return Nj(t)}function os(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function Vs(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function Z0(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let H6=0;function eE(t,e,n,i){const s=t._endId=++H6,r=()=>{s===t._endId&&i()};if(n)return setTimeout(r,n);const{type:o,timeout:a,propCount:l}=YA(t,e);if(!o)return i();const c=o+"end";let u=0;const d=()=>{t.removeEventListener(c,h),r()},h=m=>{m.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),t.addEventListener(c,h)}function YA(t,e){const n=window.getComputedStyle(t),i=g=>(n[g]||"").split(", "),s=i(`${Ls}Delay`),r=i(`${Ls}Duration`),o=tE(s,r),a=i(`${sl}Delay`),l=i(`${sl}Duration`),c=tE(a,l);let u=null,d=0,h=0;e===Ls?o>0&&(u=Ls,d=o,h=r.length):e===sl?c>0&&(u=sl,d=c,h=l.length):(d=Math.max(o,c),u=d>0?o>c?Ls:sl:null,h=u?u===Ls?r.length:l.length:0);const m=u===Ls&&/\b(transform|all)(,|$)/.test(i(`${Ls}Property`).toString());return{type:u,timeout:d,propCount:h,hasTransform:m}}function tE(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>nE(n)+nE(t[i])))}function nE(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function QA(){return document.body.offsetHeight}const XA=new WeakMap,JA=new WeakMap,ZA={name:"TransitionGroup",props:Dt({},z6,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=l_(),i=TA();let s,r;return NA(()=>{if(!s.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!Q6(s[0].el,n.vnode.el,o))return;s.forEach(K6),s.forEach(G6);const a=s.filter(Y6);QA(),a.forEach(l=>{const c=l.el,u=c.style;os(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const d=c._moveCb=h=>{h&&h.target!==c||(!h||/transform$/.test(h.propertyName))&&(c.removeEventListener("transitionend",d),c._moveCb=null,Vs(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=Fe(t),a=GA(o);let l=o.tag||Te;s=r,r=e.default?e_(e.default()):[];for(let c=0;c<r.length;c++){const u=r[c];u.key!=null&&gc(u,mc(u,a,i,n))}if(s)for(let c=0;c<s.length;c++){const u=s[c];gc(u,mc(u,a,i,n)),XA.set(u,u.el.getBoundingClientRect())}return f(l,null,r)}}},q6=t=>delete t.mode;ZA.props;const W6=ZA;function K6(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function G6(t){JA.set(t,t.el.getBoundingClientRect())}function Y6(t){const e=XA.get(t),n=JA.get(t),i=e.left-n.left,s=e.top-n.top;if(i||s){const r=t.el.style;return r.transform=r.webkitTransform=`translate(${i}px,${s}px)`,r.transitionDuration="0s",t}}function Q6(t,e,n){const i=t.cloneNode();t._vtc&&t._vtc.forEach(o=>{o.split(/\s+/).forEach(a=>a&&i.classList.remove(a))}),n.split(/\s+/).forEach(o=>o&&i.classList.add(o)),i.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(i);const{hasTransform:r}=YA(i);return s.removeChild(i),r}const iE=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ee(e)?n=>Ku(e,n):e};function X6(t){t.target.composing=!0}function sE(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const J6={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t._assign=iE(s);const r=i||s.props&&s.props.type==="number";Do(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=Gg(a)),t._assign(a)}),n&&Do(t,"change",()=>{t.value=t.value.trim()}),e||(Do(t,"compositionstart",X6),Do(t,"compositionend",sE),Do(t,"change",sE))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:s}},r){if(t._assign=iE(r),t.composing||document.activeElement===t&&t.type!=="range"&&(n||i&&t.value.trim()===e||(s||t.type==="number")&&Gg(t.value)===e))return;const o=e??"";t.value!==o&&(t.value=o)}},Z6=["ctrl","shift","alt","meta"],eq={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Z6.some(n=>t[`${n}Key`]&&!e.includes(n))},Fr=(t,e)=>(n,...i)=>{for(let s=0;s<e.length;s++){const r=eq[e[s]];if(r&&r(n,e))return}return t(n,...i)},po={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):rl(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),rl(t,!0),i.enter(t)):i.leave(t,()=>{rl(t,!1)}):rl(t,e))},beforeUnmount(t,{value:e}){rl(t,e)}};function rl(t,e){t.style.display=e?t._vod:"none"}const tq=Dt({patchProp:U6},k6);let rE;function nq(){return rE||(rE=s6(tq))}const iq=(...t)=>{const e=nq().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=sq(i);if(!s)return;const r=e._component;!Le(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function sq(t){return Rt(t)?document.querySelector(t):t}const Ot=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n};function oE(t,e,n){rq(t,e),e.set(t,n)}function rq(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function oq(t,e,n){var i=ex(t,e,"set");return aq(t,i,n),n}function aq(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function Cr(t,e){var n=ex(t,e,"get");return lq(t,n)}function ex(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function lq(t,e){return e.get?e.get.call(t):e.value}function tx(t,e,n){const i=e.length-1;if(i<0)return t===void 0?n:t;for(let s=0;s<i;s++){if(t==null)return n;t=t[e[s]]}return t==null||t[e[i]]===void 0?n:t[e[i]]}function Ua(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime()||t!==Object(t)||e!==Object(e))return!1;const n=Object.keys(t);return n.length!==Object.keys(e).length?!1:n.every(i=>Ua(t[i],e[i]))}function lp(t,e,n){return t==null||!e||typeof e!="string"?n:t[e]!==void 0?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),tx(t,e.split("."),n))}function Mi(t,e,n){if(e==null)return t===void 0?n:t;if(t!==Object(t)){if(typeof e!="function")return n;const s=e(t,n);return typeof s>"u"?n:s}if(typeof e=="string")return lp(t,e,n);if(Array.isArray(e))return tx(t,e,n);if(typeof e!="function")return n;const i=e(t,n);return typeof i>"u"?n:i}function nx(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(n,i)=>e+i)}function Se(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(t==null||t===""))return isNaN(+t)?String(t):isFinite(+t)?`${Number(t)}${e}`:void 0}function cp(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function up(t){return t&&"$el"in t?t.$el:t}const aE=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function ix(t){return Object.keys(t)}function Pm(t,e){return e.every(n=>t.hasOwnProperty(n))}function eu(t,e,n){const i=Object.create(null),s=Object.create(null);for(const r in t)e.some(o=>o instanceof RegExp?o.test(r):o===r)&&!(n!=null&&n.some(o=>o===r))?i[r]=t[r]:s[r]=t[r];return[i,s]}function $a(t,e){const n={...t};return e.forEach(i=>delete n[i]),n}function za(t){return eu(t,["class","style","id",/^data-/])}function bi(t){return t==null?[]:Array.isArray(t)?t:[t]}function Yd(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(e,Math.min(n,t))}function lE(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+n.repeat(Math.max(0,e-t.length))}function cq(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let i=0;for(;i<t.length;)n.push(t.substr(i,e)),i+=e;return n}function cE(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(t<e)return`${t} B`;const n=e===1024?["Ki","Mi","Gi"]:["k","M","G"];let i=-1;for(;Math.abs(t)>=e&&i<n.length-1;)t/=e,++i;return`${t.toFixed(1)} ${n[i]}B`}function pi(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i={};for(const s in t)i[s]=t[s];for(const s in e){const r=t[s],o=e[s];if(cp(r)&&cp(o)){i[s]=pi(r,o,n);continue}if(Array.isArray(r)&&Array.isArray(o)&&n){i[s]=n(r,o);continue}i[s]=o}return i}function sx(t){return t.map(e=>e.type===Te?sx(e.children):e).flat()}function Wr(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(Wr.cache.has(t))return Wr.cache.get(t);const e=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return Wr.cache.set(t,e),e}Wr.cache=new Map;function Dl(t,e){if(!e||typeof e!="object")return[];if(Array.isArray(e))return e.map(n=>Dl(t,n)).flat(1);if(Array.isArray(e.children))return e.children.map(n=>Dl(t,n)).flat(1);if(e.component){if(Object.getOwnPropertySymbols(e.component.provides).includes(t))return[e.component];if(e.component.subTree)return Dl(t,e.component.subTree).flat(1)}return[]}var Ru=new WeakMap,So=new WeakMap;class uq{constructor(e){oE(this,Ru,{writable:!0,value:[]}),oE(this,So,{writable:!0,value:0}),this.size=e}push(e){Cr(this,Ru)[Cr(this,So)]=e,oq(this,So,(Cr(this,So)+1)%this.size)}values(){return Cr(this,Ru).slice(Cr(this,So)).concat(Cr(this,Ru).slice(0,Cr(this,So)))}}function u_(t){const e=Xt({}),n=w(t);return Xi(()=>{for(const i in n.value)e[i]=n.value[i]},{flush:"sync"}),Qy(e)}function Qd(t,e){return t.includes(e)}const dq=/^on[^a-z]/,d_=t=>dq.test(t);function rx(t){return t[2].toLowerCase()+t.slice(3)}const zi=()=>[Function,Array];function uE(t,e){return e="on"+ks(e),!!(t[e]||t[`${e}Once`]||t[`${e}Capture`]||t[`${e}OnceCapture`]||t[`${e}CaptureOnce`])}function h_(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(Array.isArray(t))for(const s of t)s(...n);else typeof t=="function"&&t(...n)}function ox(t){const e=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(n=>`${n}:not([tabindex="-1"]):not([disabled])`).join(", ");return[...t.querySelectorAll(e)]}function Xd(t,e){var s,r,o;const n=ox(t),i=n.indexOf(document.activeElement);if(!e)(t===document.activeElement||!t.contains(document.activeElement))&&((s=n[0])==null||s.focus());else if(e==="first")(r=n[0])==null||r.focus();else if(e==="last")(o=n.at(-1))==null||o.focus();else{let a,l=i;const c=e==="next"?1:-1;do l+=c,a=n[l];while((!a||a.offsetParent==null)&&l<n.length&&l>=0);a?a.focus():Xd(t,e==="next"?"first":"last")}}function hq(){}const ax=["top","bottom"],fq=["start","end","left","right"];function dp(t,e){let[n,i]=t.split(" ");return i||(i=Qd(ax,n)?"start":Qd(fq,n)?"top":"center"),{side:hp(n,e),align:hp(i,e)}}function hp(t,e){return t==="start"?e?"right":"left":t==="end"?e?"left":"right":t}function Nm(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function Dm(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function dE(t){return{side:t.align,align:t.side}}function hE(t){return Qd(ax,t.side)?"y":"x"}class Zo{constructor(e){let{x:n,y:i,width:s,height:r}=e;this.x=n,this.y=i,this.width=s,this.height=r}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function fE(t,e){return{x:{before:Math.max(0,e.left-t.left),after:Math.max(0,t.right-e.right)},y:{before:Math.max(0,e.top-t.top),after:Math.max(0,t.bottom-e.bottom)}}}function f_(t){const e=t.getBoundingClientRect(),n=getComputedStyle(t),i=n.transform;if(i){let s,r,o,a,l;if(i.startsWith("matrix3d("))s=i.slice(9,-1).split(/, /),r=+s[0],o=+s[5],a=+s[12],l=+s[13];else if(i.startsWith("matrix("))s=i.slice(7,-1).split(/, /),r=+s[0],o=+s[3],a=+s[4],l=+s[5];else return new Zo(e);const c=n.transformOrigin,u=e.x-a-(1-r)*parseFloat(c),d=e.y-l-(1-o)*parseFloat(c.slice(c.indexOf(" ")+1)),h=r?e.width/r:t.offsetWidth+1,m=o?e.height/o:t.offsetHeight+1;return new Zo({x:u,y:d,width:h,height:m})}else return new Zo(e)}function Vo(t,e,n){if(typeof t.animate>"u")return{finished:Promise.resolve()};let i;try{i=t.animate(e,n)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(s=>{i.onfinish=()=>{s(i)}})),i}const Qu=new WeakMap;function mq(t,e){Object.keys(e).forEach(n=>{if(d_(n)){const i=rx(n),s=Qu.get(t);if(e[n]==null)s==null||s.forEach(r=>{const[o,a]=r;o===i&&(t.removeEventListener(i,a),s.delete(r))});else if(!s||![...s].some(r=>r[0]===i&&r[1]===e[n])){t.addEventListener(i,e[n]);const r=s||new Set;r.add([i,e[n]]),Qu.has(t)||Qu.set(t,r)}}else e[n]==null?t.removeAttribute(n):t.setAttribute(n,e[n])})}function gq(t,e){Object.keys(e).forEach(n=>{if(d_(n)){const i=rx(n),s=Qu.get(t);s==null||s.forEach(r=>{const[o,a]=r;o===i&&(t.removeEventListener(i,a),s.delete(r))})}else t.removeAttribute(n)})}function pq(t,e){e=Array.isArray(e)?e.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${e.at(-1)}'`:`'${e}'`}const Jd=.20689655172413793,vq=t=>t>Jd**3?Math.cbrt(t):t/(3*Jd**2)+4/29,yq=t=>t>Jd?t**3:3*Jd**2*(t-4/29);function lx(t){const e=vq,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function cx(t){const e=yq,n=(t[0]+16)/116;return[e(n+t[1]/500)*.95047,e(n),e(n-t[2]/200)*1.08883]}const _q=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],wq=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,bq=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],Eq=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function ux(t){const e=Array(3),n=wq,i=_q;for(let s=0;s<3;++s)e[s]=Math.round(Yd(n(i[s][0]*t[0]+i[s][1]*t[1]+i[s][2]*t[2]))*255);return{r:e[0],g:e[1],b:e[2]}}function m_(t){let{r:e,g:n,b:i}=t;const s=[0,0,0],r=Eq,o=bq;e=r(e/255),n=r(n/255),i=r(i/255);for(let a=0;a<3;++a)s[a]=o[a][0]*e+o[a][1]*n+o[a][2]*i;return s}function mE(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}const gE=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,Cq={rgb:(t,e,n,i)=>({r:t,g:e,b:n,a:i}),rgba:(t,e,n,i)=>({r:t,g:e,b:n,a:i}),hsl:(t,e,n,i)=>pE({h:t,s:e,l:n,a:i}),hsla:(t,e,n,i)=>pE({h:t,s:e,l:n,a:i}),hsv:(t,e,n,i)=>yc({h:t,s:e,v:n,a:i}),hsva:(t,e,n,i)=>yc({h:t,s:e,v:n,a:i})};function Vr(t){if(typeof t=="number")return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"&&gE.test(t)){const{groups:e}=t.match(gE),{fn:n,values:i}=e,s=i.split(/,\s*/).map(r=>r.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(r)/100:parseFloat(r));return Cq[n](...s)}else if(typeof t=="string"){let e=t.startsWith("#")?t.slice(1):t;return[3,4].includes(e.length)?e=e.split("").map(n=>n+n).join(""):[6,8].includes(e.length),Sq(e)}else if(typeof t=="object"){if(Pm(t,["r","g","b"]))return t;if(Pm(t,["h","s","l"]))return yc(dx(t));if(Pm(t,["h","s","v"]))return yc(t)}throw new TypeError(`Invalid color: ${t==null?t:String(t)||t.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function yc(t){const{h:e,s:n,v:i,a:s}=t,r=a=>{const l=(a+e/60)%6;return i-i*n*Math.max(Math.min(l,4-l,1),0)},o=[r(5),r(3),r(1)].map(a=>Math.round(a*255));return{r:o[0],g:o[1],b:o[2],a:s}}function pE(t){return yc(dx(t))}function dx(t){const{h:e,s:n,l:i,a:s}=t,r=i+n*Math.min(i,1-i),o=r===0?0:2-2*i/r;return{h:e,s:o,v:r,a:s}}function Pu(t){const e=Math.round(t).toString(16);return("00".substr(0,2-e.length)+e).toUpperCase()}function Iq(t){let{r:e,g:n,b:i,a:s}=t;return`#${[Pu(e),Pu(n),Pu(i),s!==void 0?Pu(Math.round(s*255)):""].join("")}`}function Sq(t){t=Tq(t);let[e,n,i,s]=cq(t,2).map(r=>parseInt(r,16));return s=s===void 0?s:s/255,{r:e,g:n,b:i,a:s}}function Tq(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(e=>e+e).join("")),t.length!==6&&(t=lE(lE(t,6),8,"F")),t}function kq(t,e){const n=lx(m_(t));return n[0]=n[0]+e*10,ux(cx(n))}function Aq(t,e){const n=lx(m_(t));return n[0]=n[0]-e*10,ux(cx(n))}function xq(t){const e=Vr(t);return m_(e)[1]}function W(t,e){return n=>Object.keys(t).reduce((i,s)=>{const o=typeof t[s]=="object"&&t[s]!=null&&!Array.isArray(t[s])?t[s]:{type:t[s]};return n&&s in n?i[s]={...o,default:n[s]}:i[s]=o,e&&!i[s].source&&(i[s].source=e),i},{})}const Be=W({class:[String,Array],style:{type:[String,Array,Object],default:null}},"component");function ao(t,e){let n;function i(){n=hf(),n.run(()=>e.length?e(()=>{n==null||n.stop(),i()}):e())}ge(t,s=>{s&&!n?i():s||(n==null||n.stop(),n=void 0)},{immediate:!0}),Qn(()=>{n==null||n.stop()})}const _c=Symbol.for("vuetify:defaults");function Rq(t){return ae(t)}function g_(){const t=st(_c);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function xs(t,e){const n=g_(),i=ae(t),s=w(()=>{if(cn(e==null?void 0:e.disabled))return n.value;const o=cn(e==null?void 0:e.scoped),a=cn(e==null?void 0:e.reset),l=cn(e==null?void 0:e.root);let c=pi(i.value,{prev:n.value});if(o)return c;if(a||l){const u=Number(a||1/0);for(let d=0;d<=u&&!(!c||!("prev"in c));d++)c=c.prev;return c&&typeof l=="string"&&l in c&&(c=pi(pi(c,{prev:c}),c[l])),c}return c.prev?pi(c.prev,c):c});return Wt(_c,s),s}function Pq(t,e){var n,i;return typeof((n=t.props)==null?void 0:n[e])<"u"||typeof((i=t.props)==null?void 0:i[Wr(e)])<"u"}function Nq(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g_();const i=Sn("useDefaults");if(e=e??i.type.name??i.type.__name,!e)throw new Error("[Vuetify] Could not determine component name");const s=w(()=>{var l;return(l=n.value)==null?void 0:l[t._as??e]}),r=new Proxy(t,{get(l,c){var d,h,m,g;const u=Reflect.get(l,c);return c==="class"||c==="style"?[(d=s.value)==null?void 0:d[c],u].filter(p=>p!=null):typeof c=="string"&&!Pq(i.vnode,c)?((h=s.value)==null?void 0:h[c])??((g=(m=n.value)==null?void 0:m.global)==null?void 0:g[c])??u:u}}),o=Ce();Xi(()=>{if(s.value){const l=Object.entries(s.value).filter(c=>{let[u]=c;return u.startsWith(u[0].toUpperCase())});l.length&&(o.value=Object.fromEntries(l))}});function a(){ao(o,()=>{var l;xs(pi(((l=Fq(_c))==null?void 0:l.value)??{},o.value))})}return{props:r,provideSubDefaults:a}}function ja(t){if(t._setup=t._setup??t.setup,!t.name)return t;if(t._setup){t.props=W(t.props??{},t.name)();const e=Object.keys(t.props);t.filterProps=function(i){return eu(i,e,["class","style"])},t.props._as=String,t.setup=function(i,s){const r=g_();if(!r.value)return t._setup(i,s);const{props:o,provideSubDefaults:a}=Nq(i,i._as??t.name,r),l=t._setup(o,s);return a(),l}}return t}function ce(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e=>(t?ja:t_)(e)}function Ha(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return ce()({name:n??ks(li(t.replace(/__/g,"-"))),props:{tag:{type:String,default:e},...Be()},setup(i,s){let{slots:r}=s;return()=>{var o;return Ji(i.tag,{class:[t,i.class],style:i.style},(o=r.default)==null?void 0:o.call(r))}}})}function hx(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}const Zd="cubic-bezier(0.4, 0, 0.2, 1)",Dq="cubic-bezier(0.0, 0, 0.2, 1)",Oq="cubic-bezier(0.4, 0, 1, 1)";function Sn(t,e){const n=l_();if(!n)throw new Error(`[Vuetify] ${t} ${e||"must be called from inside a setup function"}`);return n}function Rs(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const e=Sn(t).type;return Wr((e==null?void 0:e.aliasName)||(e==null?void 0:e.name))}let fx=0,Xu=new WeakMap;function Jn(){const t=Sn("getUid");if(Xu.has(t))return Xu.get(t);{const e=fx++;return Xu.set(t,e),e}}Jn.reset=()=>{fx=0,Xu=new WeakMap};function Mq(t){for(;t;){if(p_(t))return t;t=t.parentElement}return document.scrollingElement}function eh(t,e){const n=[];if(e&&t&&!e.contains(t))return n;for(;t&&(p_(t)&&n.push(t),t!==e);)t=t.parentElement;return n}function p_(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return e.overflowY==="scroll"||e.overflowY==="auto"&&t.scrollHeight>t.clientHeight}const jt=typeof window<"u",v_=jt&&"IntersectionObserver"in window,Lq=jt&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),fp=jt&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports("selector(:focus-visible)");function Fq(t){const{provides:e}=Sn("injectSelf");if(e&&t in e)return e[t]}function Vq(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function be(t){const e=Sn("useRender");e.render=t}const Zi=W({border:[Boolean,Number,String]},"border");function es(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rs();return{borderClasses:w(()=>{const i=Et(t)?t.value:t.border,s=[];if(i===!0||i==="")s.push(`${e}--border`);else if(typeof i=="string"||i===0)for(const r of String(i).split(" "))s.push(`border-${r}`);return s})}}const Bq=[null,"default","comfortable","compact"],ts=W({density:{type:String,default:"default",validator:t=>Bq.includes(t)}},"density");function Ps(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rs();return{densityClasses:w(()=>`${e}--density-${t.density}`)}}const ns=W({elevation:{type:[Number,String],validator(t){const e=parseInt(t);return!isNaN(e)&&e>=0&&e<=24}}},"elevation");function is(t){return{elevationClasses:w(()=>{const n=Et(t)?t.value:t.elevation,i=[];return n==null||i.push(`elevation-${n}`),i})}}const Fn=W({rounded:{type:[Boolean,Number,String],default:void 0}},"rounded");function Vn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rs();return{roundedClasses:w(()=>{const i=Et(t)?t.value:t.rounded,s=[];if(i===!0||i==="")s.push(`${e}--rounded`);else if(typeof i=="string"||i===0)for(const r of String(i).split(" "))s.push(`rounded-${r}`);return s})}}const St=W({tag:{type:String,default:"div"}},"tag"),To=2.4,vE=.2126729,yE=.7151522,_E=.072175,Uq=.55,$q=.58,zq=.57,jq=.62,Nu=.03,wE=1.45,Hq=5e-4,qq=1.25,Wq=1.25,bE=.078,EE=12.82051282051282,Du=.06,CE=.001;function IE(t,e){const n=(t.r/255)**To,i=(t.g/255)**To,s=(t.b/255)**To,r=(e.r/255)**To,o=(e.g/255)**To,a=(e.b/255)**To;let l=n*vE+i*yE+s*_E,c=r*vE+o*yE+a*_E;if(l<=Nu&&(l+=(Nu-l)**wE),c<=Nu&&(c+=(Nu-c)**wE),Math.abs(c-l)<Hq)return 0;let u;if(c>l){const d=(c**Uq-l**$q)*qq;u=d<CE?0:d<bE?d-d*EE*Du:d-Du}else{const d=(c**jq-l**zq)*Wq;u=d>-CE?0:d>-bE?d-d*EE*Du:d+Du}return u*100}const th=Symbol.for("vuetify:theme"),Tt=W({theme:String},"theme"),ol={defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-variant":"#BDBDBD","on-surface-variant":"#424242",primary:"#BB86FC","primary-darken-1":"#3700B3",secondary:"#03DAC5","secondary-darken-1":"#03DAC5",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}};function Kq(){var n,i;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ol;if(!t)return{...ol,isDisabled:!0};const e={};for(const[s,r]of Object.entries(t.themes??{})){const o=r.dark||s==="dark"?(n=ol.themes)==null?void 0:n.dark:(i=ol.themes)==null?void 0:i.light;e[s]=pi(o,r)}return pi(ol,{...t,themes:e})}function Gq(t){const e=Xt(Kq(t)),n=ae(e.defaultTheme),i=ae(e.themes),s=w(()=>{const u={};for(const[d,h]of Object.entries(i.value)){const m=u[d]={...h,colors:{...h.colors}};if(e.variations)for(const g of e.variations.colors){const p=m.colors[g];if(p)for(const v of["lighten","darken"]){const E=v==="lighten"?kq:Aq;for(const b of nx(e.variations[v],1))m.colors[`${g}-${v}-${b}`]=Iq(E(Vr(p),b))}}for(const g of Object.keys(m.colors)){if(/^on-[a-z]/.test(g)||m.colors[`on-${g}`])continue;const p=`on-${g}`,v=Vr(m.colors[g]),E=Math.abs(IE(Vr(0),v)),b=Math.abs(IE(Vr(16777215),v));m.colors[p]=b>Math.min(E,50)?"#fff":"#000"}}return u}),r=w(()=>s.value[n.value]),o=w(()=>{const u=[];r.value.dark&&Ir(u,":root",["color-scheme: dark"]),Ir(u,":root",SE(r.value));for(const[g,p]of Object.entries(s.value))Ir(u,`.v-theme--${g}`,[`color-scheme: ${p.dark?"dark":"normal"}`,...SE(p)]);const d=[],h=[],m=new Set(Object.values(s.value).flatMap(g=>Object.keys(g.colors)));for(const g of m)/^on-[a-z]/.test(g)?Ir(h,`.${g}`,[`color: rgb(var(--v-theme-${g})) !important`]):(Ir(d,`.bg-${g}`,[`--v-theme-overlay-multiplier: var(--v-theme-${g}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${g})) !important`,`color: rgb(var(--v-theme-on-${g})) !important`]),Ir(h,`.text-${g}`,[`color: rgb(var(--v-theme-${g})) !important`]),Ir(h,`.border-${g}`,[`--v-border-color: var(--v-theme-${g})`]));return u.push(...d,...h),u.map((g,p)=>p===0?g:`    ${g}`).join("")});function a(){return{style:[{children:o.value,id:"vuetify-theme-stylesheet",nonce:e.cspNonce||!1}]}}function l(u){if(e.isDisabled)return;const d=u._context.provides.usehead;if(d)if(d.push){const m=d.push(a);ge(o,()=>{m.patch(a)})}else jt?(d.addHeadObjs(w(a)),Xi(()=>d.updateDOM())):d.addHeadObjs(a());else{let g=function(){if(typeof document<"u"&&!m){const p=document.createElement("style");p.type="text/css",p.id="vuetify-theme-stylesheet",e.cspNonce&&p.setAttribute("nonce",e.cspNonce),m=p,document.head.appendChild(m)}m&&(m.innerHTML=o.value)};var h=g;let m=jt?document.getElementById("vuetify-theme-stylesheet"):null;ge(o,g,{immediate:!0})}}const c=w(()=>e.isDisabled?void 0:`v-theme--${n.value}`);return{install:l,isDisabled:e.isDisabled,name:n,themes:i,current:r,computedThemes:s,themeClasses:c,styles:o,global:{name:n,current:r}}}function Mt(t){Sn("provideTheme");const e=st(th,null);if(!e)throw new Error("Could not find Vuetify theme injection");const n=w(()=>t.theme??(e==null?void 0:e.name.value)),i=w(()=>e.isDisabled?void 0:`v-theme--${n.value}`),s={...e,name:n,themeClasses:i};return Wt(th,s),s}function Ir(t,e,n){t.push(`${e} {
`,...n.map(i=>`  ${i};
`),`}
`)}function SE(t){const e=t.dark?2:1,n=t.dark?1:2,i=[];for(const[s,r]of Object.entries(t.colors)){const o=Vr(r);i.push(`--v-theme-${s}: ${o.r},${o.g},${o.b}`),s.startsWith("on-")||i.push(`--v-theme-${s}-overlay-multiplier: ${xq(r)>.18?e:n}`)}for(const[s,r]of Object.entries(t.variables)){const o=typeof r=="string"&&r.startsWith("#")?Vr(r):void 0,a=o?`${o.r}, ${o.g}, ${o.b}`:void 0;i.push(`--v-${s}: ${a??r}`)}return i}function y_(t){return u_(()=>{const e=[],n={};return t.value.background&&(mE(t.value.background)?n.backgroundColor=t.value.background:e.push(`bg-${t.value.background}`)),t.value.text&&(mE(t.value.text)?(n.color=t.value.text,n.caretColor=t.value.text):e.push(`text-${t.value.text}`)),{colorClasses:e,colorStyles:n}})}function Wi(t,e){const n=w(()=>({text:Et(t)?t.value:e?t[e]:null})),{colorClasses:i,colorStyles:s}=y_(n);return{textColorClasses:i,textColorStyles:s}}function Ki(t,e){const n=w(()=>({background:Et(t)?t.value:e?t[e]:null})),{colorClasses:i,colorStyles:s}=y_(n);return{backgroundColorClasses:i,backgroundColorStyles:s}}const Yq=["elevated","flat","tonal","outlined","text","plain"];function qa(t,e){return f(Te,null,[t&&f("span",{key:"overlay",class:`${e}__overlay`},null),f("span",{key:"underlay",class:`${e}__underlay`},null)])}const Ns=W({color:String,variant:{type:String,default:"elevated",validator:t=>Yq.includes(t)}},"variant");function Wa(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rs();const n=w(()=>{const{variant:r}=cn(t);return`${e}--variant-${r}`}),{colorClasses:i,colorStyles:s}=y_(w(()=>{const{variant:r,color:o}=cn(t);return{[["elevated","flat"].includes(r)?"background":"text"]:o}}));return{colorClasses:i,colorStyles:s,variantClasses:n}}const mx=W({divided:Boolean,...Zi(),...Be(),...ts(),...ns(),...Fn(),...St(),...Tt(),...Ns()},"VBtnGroup"),TE=ce()({name:"VBtnGroup",props:mx(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Mt(t),{densityClasses:s}=Ps(t),{borderClasses:r}=es(t),{elevationClasses:o}=is(t),{roundedClasses:a}=Vn(t);xs({VBtn:{height:"auto",color:Ae(t,"color"),density:Ae(t,"density"),flat:!0,variant:Ae(t,"variant")}}),be(()=>f(t.tag,{class:["v-btn-group",{"v-btn-group--divided":t.divided},i.value,r.value,s.value,o.value,a.value,t.class],style:t.style},n))}});function rt(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:d=>d,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:d=>d;const r=Sn("useProxiedModel"),o=ae(t[e]!==void 0?t[e]:n),a=Wr(e),c=w(a!==e?()=>{var d,h,m,g;return t[e],!!(((d=r.vnode.props)!=null&&d.hasOwnProperty(e)||(h=r.vnode.props)!=null&&h.hasOwnProperty(a))&&((m=r.vnode.props)!=null&&m.hasOwnProperty(`onUpdate:${e}`)||(g=r.vnode.props)!=null&&g.hasOwnProperty(`onUpdate:${a}`)))}:()=>{var d,h;return t[e],!!((d=r.vnode.props)!=null&&d.hasOwnProperty(e)&&((h=r.vnode.props)!=null&&h.hasOwnProperty(`onUpdate:${e}`)))});ao(()=>!c.value,()=>{ge(()=>t[e],d=>{o.value=d})});const u=w({get(){const d=t[e];return i(c.value?d:o.value)},set(d){const h=s(d),m=Fe(c.value?t[e]:o.value);m===h||i(m)===d||(o.value=h,r==null||r.emit(`update:${e}`,h))}});return Object.defineProperty(u,"externalValue",{get:()=>c.value?t[e]:o.value}),u}const gx=W({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),__=W({value:null,disabled:Boolean,selectedClass:String},"group-item");function w_(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=Sn("useGroupItem");if(!i)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const s=Jn();Wt(Symbol.for(`${e.description}:id`),s);const r=st(e,null);if(!r){if(!n)return r;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${e.description}`)}const o=Ae(t,"value"),a=w(()=>r.disabled.value||t.disabled);r.register({id:s,value:o,disabled:a},i),Xn(()=>{r.unregister(s)});const l=w(()=>r.isSelected(s)),c=w(()=>l.value&&[r.selectedClass.value,t.selectedClass]);return ge(l,u=>{i.emit("group:selected",{value:u})}),{id:s,isSelected:l,toggle:()=>r.select(s,!l.value),select:u=>r.select(s,u),selectedClass:c,value:o,disabled:a,group:r}}function b_(t,e){let n=!1;const i=Xt([]),s=rt(t,"modelValue",[],h=>h==null?[]:px(i,bi(h)),h=>{const m=Xq(i,h);return t.multiple?m:m[0]}),r=Sn("useGroup");function o(h,m){const g=h,p=Symbol.for(`${e.description}:id`),E=Dl(p,r==null?void 0:r.vnode).indexOf(m);E>-1?i.splice(E,0,g):i.push(g)}function a(h){if(n)return;l();const m=i.findIndex(g=>g.id===h);i.splice(m,1)}function l(){const h=i.find(m=>!m.disabled);h&&t.mandatory==="force"&&!s.value.length&&(s.value=[h.id])}ci(()=>{l()}),Xn(()=>{n=!0});function c(h,m){const g=i.find(p=>p.id===h);if(!(m&&(g!=null&&g.disabled)))if(t.multiple){const p=s.value.slice(),v=p.findIndex(b=>b===h),E=~v;if(m=m??!E,E&&t.mandatory&&p.length<=1||!E&&t.max!=null&&p.length+1>t.max)return;v<0&&m?p.push(h):v>=0&&!m&&p.splice(v,1),s.value=p}else{const p=s.value.includes(h);if(t.mandatory&&p)return;s.value=m??!p?[h]:[]}}function u(h){if(t.multiple,s.value.length){const m=s.value[0],g=i.findIndex(E=>E.id===m);let p=(g+h)%i.length,v=i[p];for(;v.disabled&&p!==g;)p=(p+h)%i.length,v=i[p];if(v.disabled)return;s.value=[i[p].id]}else{const m=i.find(g=>!g.disabled);m&&(s.value=[m.id])}}const d={register:o,unregister:a,selected:s,select:c,disabled:Ae(t,"disabled"),prev:()=>u(i.length-1),next:()=>u(1),isSelected:h=>s.value.includes(h),selectedClass:w(()=>t.selectedClass),items:w(()=>i),getItemIndex:h=>Qq(i,h)};return Wt(e,d),d}function Qq(t,e){const n=px(t,[e]);return n.length?t.findIndex(i=>i.id===n[0]):-1}function px(t,e){const n=[];return e.forEach(i=>{const s=t.find(o=>Ua(i,o.value)),r=t[i];(s==null?void 0:s.value)!=null?n.push(s.id):r!=null&&n.push(r.id)}),n}function Xq(t,e){const n=[];return e.forEach(i=>{const s=t.findIndex(r=>r.id===i);if(~s){const r=t[s];n.push(r.value!=null?r.value:s)}}),n}const vx=Symbol.for("vuetify:v-btn-toggle"),Jq=W({...mx(),...gx()},"VBtnToggle");ce()({name:"VBtnToggle",props:Jq(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isSelected:i,next:s,prev:r,select:o,selected:a}=b_(t,vx);return be(()=>{const[l]=TE.filterProps(t);return f(TE,ye({class:["v-btn-toggle",t.class]},l,{style:t.style}),{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n,{isSelected:i,next:s,prev:r,select:o,selected:a})]}})}),{next:s,prev:r,select:o}}});const Zq=W({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),At=ce(!1)({name:"VDefaultsProvider",props:Zq(),setup(t,e){let{slots:n}=e;const{defaults:i,disabled:s,reset:r,root:o,scoped:a}=Qy(t);return xs(i,{reset:r,root:o,scoped:a,disabled:s}),()=>{var l;return(l=n.default)==null?void 0:l.call(n)}}});const eW={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus"},tW={component:t=>Ji(_x,{...t,class:"mdi"})},tt=[String,Function,Object,Array],mp=Symbol.for("vuetify:icons"),bf=W({icon:{type:tt},tag:{type:String,required:!0}},"icon"),kE=ce()({name:"VComponentIcon",props:bf(),setup(t,e){let{slots:n}=e;return()=>{const i=t.icon;return f(t.tag,null,{default:()=>{var s;return[t.icon?f(i,null,null):(s=n.default)==null?void 0:s.call(n)]}})}}}),yx=ja({name:"VSvgIcon",inheritAttrs:!1,props:bf(),setup(t,e){let{attrs:n}=e;return()=>f(t.tag,ye(n,{style:null}),{default:()=>[f("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(t.icon)?t.icon.map(i=>Array.isArray(i)?f("path",{d:i[0],"fill-opacity":i[1]},null):f("path",{d:i},null)):f("path",{d:t.icon},null)])]})}});ja({name:"VLigatureIcon",props:bf(),setup(t){return()=>f(t.tag,null,{default:()=>[t.icon]})}});const _x=ja({name:"VClassIcon",props:bf(),setup(t){return()=>f(t.tag,{class:t.icon},null)}}),nW={svg:{component:yx},class:{component:_x}};function iW(t){return pi({defaultSet:"mdi",sets:{...nW,mdi:tW},aliases:{...eW,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z"}},t)}const sW=t=>{const e=st(mp);if(!e)throw new Error("Missing Vuetify Icons provide!");return{iconData:w(()=>{var l;const i=cn(t);if(!i)return{component:kE};let s=i;if(typeof s=="string"&&(s=s.trim(),s.startsWith("$")&&(s=(l=e.aliases)==null?void 0:l[s.slice(1)])),!s)throw new Error(`Could not find aliased icon "${i}"`);if(Array.isArray(s))return{component:yx,icon:s};if(typeof s!="string")return{component:kE,icon:s};const r=Object.keys(e.sets).find(c=>typeof s=="string"&&s.startsWith(`${c}:`)),o=r?s.slice(r.length+1):s;return{component:e.sets[r??e.defaultSet].component,icon:o}})}},rW=["x-small","small","default","large","x-large"],tu=W({size:{type:[String,Number],default:"default"}},"size");function nu(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rs();return u_(()=>{let n,i;return Qd(rW,t.size)?n=`${e}--size-${t.size}`:t.size&&(i={width:Se(t.size),height:Se(t.size)}),{sizeClasses:n,sizeStyles:i}})}const oW=W({color:String,start:Boolean,end:Boolean,icon:tt,...Be(),...tu(),...St({tag:"i"}),...Tt()},"VIcon"),Ge=ce()({name:"VIcon",props:oW(),setup(t,e){let{attrs:n,slots:i}=e;const s=ae(),{themeClasses:r}=Mt(t),{iconData:o}=sW(w(()=>s.value||t.icon)),{sizeClasses:a}=nu(t),{textColorClasses:l,textColorStyles:c}=Wi(Ae(t,"color"));return be(()=>{var d,h;const u=(d=i.default)==null?void 0:d.call(i);return u&&(s.value=(h=sx(u).filter(m=>m.type===Zc&&m.children&&typeof m.children=="string")[0])==null?void 0:h.children),f(o.value.component,{tag:t.tag,icon:o.value.icon,class:["v-icon","notranslate",r.value,a.value,l.value,{"v-icon--clickable":!!n.onClick,"v-icon--start":t.start,"v-icon--end":t.end},t.class],style:[a.value?void 0:{fontSize:Se(t.size),height:Se(t.size),width:Se(t.size)},c.value,t.style],role:n.onClick?"button":void 0,"aria-hidden":!n.onClick},{default:()=>[u]})}),{}}});function wx(t,e){const n=ae(),i=Ce(!1);if(v_){const s=new IntersectionObserver(r=>{t==null||t(r,s),i.value=!!r.find(o=>o.isIntersecting)},e);Xn(()=>{s.disconnect()}),ge(n,(r,o)=>{o&&(s.unobserve(o),i.value=!1),r&&s.observe(r)},{flush:"post"})}return{intersectionRef:n,isIntersecting:i}}function E_(t){const e=ae(),n=ae();if(jt){const i=new ResizeObserver(s=>{t==null||t(s,i),s.length&&(n.value=s[0].contentRect)});Xn(()=>{i.disconnect()}),ge(e,(s,r)=>{r&&(i.unobserve(up(r)),n.value=void 0),s&&i.observe(up(s))},{flush:"post"})}return{resizeRef:e,contentRect:Jc(n)}}const aW=W({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Be(),...tu(),...St({tag:"div"}),...Tt()},"VProgressCircular"),Ef=ce()({name:"VProgressCircular",props:aW(),setup(t,e){let{slots:n}=e;const i=20,s=2*Math.PI*i,r=ae(),{themeClasses:o}=Mt(t),{sizeClasses:a,sizeStyles:l}=nu(t),{textColorClasses:c,textColorStyles:u}=Wi(Ae(t,"color")),{textColorClasses:d,textColorStyles:h}=Wi(Ae(t,"bgColor")),{intersectionRef:m,isIntersecting:g}=wx(),{resizeRef:p,contentRect:v}=E_(),E=w(()=>Math.max(0,Math.min(100,parseFloat(t.modelValue)))),b=w(()=>Number(t.width)),C=w(()=>l.value?Number(t.size):v.value?v.value.width:Math.max(b.value,32)),S=w(()=>i/(1-b.value/C.value)*2),R=w(()=>b.value/C.value*S.value),x=w(()=>Se((100-E.value)/100*s));return Xi(()=>{m.value=r.value,p.value=r.value}),be(()=>f(t.tag,{ref:r,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":g.value,"v-progress-circular--disable-shrink":t.indeterminate==="disable-shrink"},o.value,a.value,c.value,t.class],style:[l.value,u.value,t.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:E.value},{default:()=>[f("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${S.value} ${S.value}`},[f("circle",{class:["v-progress-circular__underlay",d.value],style:h.value,fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":R.value,"stroke-dasharray":s,"stroke-dashoffset":0},null),f("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":R.value,"stroke-dasharray":s,"stroke-dashoffset":x.value},null)]),n.default&&f("div",{class:"v-progress-circular__content"},[n.default({value:E.value})])]})),{}}}),vo=W({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function yo(t){return{dimensionStyles:w(()=>({height:Se(t.height),maxHeight:Se(t.maxHeight),maxWidth:Se(t.maxWidth),minHeight:Se(t.minHeight),minWidth:Se(t.minWidth),width:Se(t.width)}))}}const lW={badge:"Badge",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},datePicker:{itemsSelected:"{0} selected",nextMonthAriaLabel:"Next month",nextYearAriaLabel:"Next year",prevMonthAriaLabel:"Previous month",prevYearAriaLabel:"Previous year"},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},cW={af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1},AE="$vuetify.",xE=(t,e)=>t.replace(/\{(\d+)\}/g,(n,i)=>String(e[+i])),bx=(t,e,n)=>function(i){for(var s=arguments.length,r=new Array(s>1?s-1:0),o=1;o<s;o++)r[o-1]=arguments[o];if(!i.startsWith(AE))return xE(i,r);const a=i.replace(AE,""),l=t.value&&n.value[t.value],c=e.value&&n.value[e.value];let u=lp(l,a,null);return u||(`${i}${t.value}`,u=lp(c,a,null)),u||(u=i),typeof u!="string"&&(u=i),xE(u,r)};function Ex(t,e){return(n,i)=>new Intl.NumberFormat([t.value,e.value],i).format(n)}function Om(t,e,n){const i=rt(t,e,t[e]??n.value);return i.value=t[e]??n.value,ge(n,s=>{t[e]==null&&(i.value=n.value)}),i}function Cx(t){return e=>{const n=Om(e,"locale",t.current),i=Om(e,"fallback",t.fallback),s=Om(e,"messages",t.messages);return{name:"vuetify",current:n,fallback:i,messages:s,t:bx(n,i,s),n:Ex(n,i),provide:Cx({current:n,fallback:i,messages:s})}}}function uW(t){const e=Ce((t==null?void 0:t.locale)??"en"),n=Ce((t==null?void 0:t.fallback)??"en"),i=ae({en:lW,...t==null?void 0:t.messages});return{name:"vuetify",current:e,fallback:n,messages:i,t:bx(e,n,i),n:Ex(e,n),provide:Cx({current:e,fallback:n,messages:i})}}const nh=Symbol.for("vuetify:locale");function dW(t){return t.name!=null}function hW(t){const e=t!=null&&t.adapter&&dW(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:uW(t),n=fW(e,t);return{...e,...n}}function _o(){const t=st(nh);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function fW(t,e){const n=ae((e==null?void 0:e.rtl)??cW),i=w(()=>n.value[t.current.value]??!1);return{isRtl:i,rtl:n,rtlClasses:w(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function ss(){const t=st(nh);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}const RE={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},iu=W({location:String},"location");function su(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:i}=ss();return{locationStyles:w(()=>{if(!t.location)return{};const{side:r,align:o}=dp(t.location.split(" ").length>1?t.location:`${t.location} center`,i.value);function a(c){return n?n(c):0}const l={};return r!=="center"&&(e?l[RE[r]]=`calc(100% - ${a(r)}px)`:l[r]=0),o!=="center"?e?l[RE[o]]=`calc(100% - ${a(o)}px)`:l[o]=0:(r==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[r]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[r]),l})}}const mW=W({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Be(),...iu({location:"top"}),...Fn(),...St(),...Tt()},"VProgressLinear"),Ix=ce()({name:"VProgressLinear",props:mW(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=rt(t,"modelValue"),{isRtl:s,rtlClasses:r}=ss(),{themeClasses:o}=Mt(t),{locationStyles:a}=su(t),{textColorClasses:l,textColorStyles:c}=Wi(t,"color"),{backgroundColorClasses:u,backgroundColorStyles:d}=Ki(w(()=>t.bgColor||t.color)),{backgroundColorClasses:h,backgroundColorStyles:m}=Ki(t,"color"),{roundedClasses:g}=Vn(t),{intersectionRef:p,isIntersecting:v}=wx(),E=w(()=>parseInt(t.max,10)),b=w(()=>parseInt(t.height,10)),C=w(()=>parseFloat(t.bufferValue)/E.value*100),S=w(()=>parseFloat(i.value)/E.value*100),R=w(()=>s.value!==t.reverse),x=w(()=>t.indeterminate?"fade-transition":"slide-x-transition"),N=w(()=>t.bgOpacity==null?t.bgOpacity:parseFloat(t.bgOpacity));function T(k){if(!p.value)return;const{left:L,right:V,width:O}=p.value.getBoundingClientRect(),P=R.value?O-k.clientX+(V-O):k.clientX-L;i.value=Math.round(P/O*E.value)}return be(()=>f(t.tag,{ref:p,class:["v-progress-linear",{"v-progress-linear--absolute":t.absolute,"v-progress-linear--active":t.active&&v.value,"v-progress-linear--reverse":R.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped},g.value,o.value,r.value,t.class],style:[{bottom:t.location==="bottom"?0:void 0,top:t.location==="top"?0:void 0,height:t.active?Se(b.value):0,"--v-progress-linear-height":Se(b.value),...a.value},t.style],role:"progressbar","aria-hidden":t.active?"false":"true","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:S.value,onClick:t.clickable&&T},{default:()=>[t.stream&&f("div",{key:"stream",class:["v-progress-linear__stream",l.value],style:{...c.value,[R.value?"left":"right"]:Se(-b.value),borderTop:`${Se(b.value/2)} dotted`,opacity:N.value,top:`calc(50% - ${Se(b.value/4)})`,width:Se(100-C.value,"%"),"--v-progress-linear-stream-to":Se(b.value*(R.value?1:-1))}},null),f("div",{class:["v-progress-linear__background",u.value],style:[d.value,{opacity:N.value,width:Se(t.stream?C.value:100,"%")}]},null),f(qi,{name:x.value},{default:()=>[t.indeterminate?f("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(k=>f("div",{key:k,class:["v-progress-linear__indeterminate",k,h.value],style:m.value},null))]):f("div",{class:["v-progress-linear__determinate",h.value],style:[m.value,{width:Se(S.value,"%")}]},null)]}),n.default&&f("div",{class:"v-progress-linear__content"},[n.default({value:S.value,buffer:C.value})])]})),{}}}),C_=W({loading:[Boolean,String]},"loader");function I_(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rs();return{loaderClasses:w(()=>({[`${e}--loading`]:t.loading}))}}function Sx(t,e){var i;let{slots:n}=e;return f("div",{class:`${t.name}__loader`},[((i=n.default)==null?void 0:i.call(n,{color:t.color,isActive:t.active}))||f(Ix,{active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}const gW=["static","relative","fixed","absolute","sticky"],Cf=W({position:{type:String,validator:t=>gW.includes(t)}},"position");function If(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rs();return{positionClasses:w(()=>t.position?`${e}--${t.position}`:void 0)}}function Tx(){var t,e;return(e=(t=Sn("useRouter"))==null?void 0:t.proxy)==null?void 0:e.$router}function Sf(t,e){const n=jH("RouterLink"),i=w(()=>!!(t.href||t.to)),s=w(()=>(i==null?void 0:i.value)||uE(e,"click")||uE(t,"click"));if(typeof n=="string")return{isLink:i,isClickable:s,href:Ae(t,"href")};const r=t.to?n.useLink(t):void 0;return{isLink:i,isClickable:s,route:r==null?void 0:r.route,navigate:r==null?void 0:r.navigate,isActive:r&&w(()=>{var o,a;return t.exact?(o=r.isExactActive)==null?void 0:o.value:(a=r.isActive)==null?void 0:a.value}),href:w(()=>t.to?r==null?void 0:r.route.value.href:t.href)}}const Tf=W({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let Mm=!1;function pW(t,e){let n=!1,i,s;jt&&(Ct(()=>{window.addEventListener("popstate",r),i=t==null?void 0:t.beforeEach((o,a,l)=>{Mm?n?e(l):l():setTimeout(()=>n?e(l):l()),Mm=!0}),s=t==null?void 0:t.afterEach(()=>{Mm=!1})}),Qn(()=>{window.removeEventListener("popstate",r),i==null||i(),s==null||s()}));function r(o){var a;(a=o.state)!=null&&a.replaced||(n=!0,setTimeout(()=>n=!1))}}function vW(t,e){ge(()=>{var n;return(n=t.isActive)==null?void 0:n.value},n=>{t.isLink.value&&n&&e&&Ct(()=>{e(!0)})},{immediate:!0})}const gp=Symbol("rippleStop"),yW=80;function PE(t,e){t.style.transform=e,t.style.webkitTransform=e}function pp(t){return t.constructor.name==="TouchEvent"}function kx(t){return t.constructor.name==="KeyboardEvent"}const _W=function(t,e){var d;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=0,s=0;if(!kx(t)){const h=e.getBoundingClientRect(),m=pp(t)?t.touches[t.touches.length-1]:t;i=m.clientX-h.left,s=m.clientY-h.top}let r=0,o=.3;(d=e._ripple)!=null&&d.circle?(o=.15,r=e.clientWidth/2,r=n.center?r:r+Math.sqrt((i-r)**2+(s-r)**2)/4):r=Math.sqrt(e.clientWidth**2+e.clientHeight**2)/2;const a=`${(e.clientWidth-r*2)/2}px`,l=`${(e.clientHeight-r*2)/2}px`,c=n.center?a:`${i-r}px`,u=n.center?l:`${s-r}px`;return{radius:r,scale:o,x:c,y:u,centerX:a,centerY:l}},ih={show(t,e){var m;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((m=e==null?void 0:e._ripple)!=null&&m.enabled))return;const i=document.createElement("span"),s=document.createElement("span");i.appendChild(s),i.className="v-ripple__container",n.class&&(i.className+=` ${n.class}`);const{radius:r,scale:o,x:a,y:l,centerX:c,centerY:u}=_W(t,e,n),d=`${r*2}px`;s.className="v-ripple__animation",s.style.width=d,s.style.height=d,e.appendChild(i);const h=window.getComputedStyle(e);h&&h.position==="static"&&(e.style.position="relative",e.dataset.previousPosition="static"),s.classList.add("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--visible"),PE(s,`translate(${a}, ${l}) scale3d(${o},${o},${o})`),s.dataset.activated=String(performance.now()),setTimeout(()=>{s.classList.remove("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--in"),PE(s,`translate(${c}, ${u}) scale3d(1,1,1)`)},0)},hide(t){var r;if(!((r=t==null?void 0:t._ripple)!=null&&r.enabled))return;const e=t.getElementsByClassName("v-ripple__animation");if(e.length===0)return;const n=e[e.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const i=performance.now()-Number(n.dataset.activated),s=Math.max(250-i,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var a;t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),((a=n.parentNode)==null?void 0:a.parentNode)===t&&t.removeChild(n.parentNode)},300)},s)}};function Ax(t){return typeof t>"u"||!!t}function wc(t){const e={},n=t.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||t[gp])){if(t[gp]=!0,pp(t))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(e.center=n._ripple.centered||kx(t),n._ripple.class&&(e.class=n._ripple.class),pp(t)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{ih.show(t,n,e)},n._ripple.showTimer=window.setTimeout(()=>{var i;(i=n==null?void 0:n._ripple)!=null&&i.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},yW)}else ih.show(t,n,e)}}function NE(t){t[gp]=!0}function jn(t){const e=t.currentTarget;if(e!=null&&e._ripple){if(window.clearTimeout(e._ripple.showTimer),t.type==="touchend"&&e._ripple.showTimerCommit){e._ripple.showTimerCommit(),e._ripple.showTimerCommit=null,e._ripple.showTimer=window.setTimeout(()=>{jn(t)});return}window.setTimeout(()=>{e._ripple&&(e._ripple.touched=!1)}),ih.hide(e)}}function xx(t){const e=t.currentTarget;e!=null&&e._ripple&&(e._ripple.showTimerCommit&&(e._ripple.showTimerCommit=null),window.clearTimeout(e._ripple.showTimer))}let bc=!1;function Rx(t){!bc&&(t.keyCode===aE.enter||t.keyCode===aE.space)&&(bc=!0,wc(t))}function Px(t){bc=!1,jn(t)}function Nx(t){bc&&(bc=!1,jn(t))}function Dx(t,e,n){const{value:i,modifiers:s}=e,r=Ax(i);if(r||ih.hide(t),t._ripple=t._ripple??{},t._ripple.enabled=r,t._ripple.centered=s.center,t._ripple.circle=s.circle,cp(i)&&i.class&&(t._ripple.class=i.class),r&&!n){if(s.stop){t.addEventListener("touchstart",NE,{passive:!0}),t.addEventListener("mousedown",NE);return}t.addEventListener("touchstart",wc,{passive:!0}),t.addEventListener("touchend",jn,{passive:!0}),t.addEventListener("touchmove",xx,{passive:!0}),t.addEventListener("touchcancel",jn),t.addEventListener("mousedown",wc),t.addEventListener("mouseup",jn),t.addEventListener("mouseleave",jn),t.addEventListener("keydown",Rx),t.addEventListener("keyup",Px),t.addEventListener("blur",Nx),t.addEventListener("dragstart",jn,{passive:!0})}else!r&&n&&Ox(t)}function Ox(t){t.removeEventListener("mousedown",wc),t.removeEventListener("touchstart",wc),t.removeEventListener("touchend",jn),t.removeEventListener("touchmove",xx),t.removeEventListener("touchcancel",jn),t.removeEventListener("mouseup",jn),t.removeEventListener("mouseleave",jn),t.removeEventListener("keydown",Rx),t.removeEventListener("keyup",Px),t.removeEventListener("dragstart",jn),t.removeEventListener("blur",Nx)}function wW(t,e){Dx(t,e,!1)}function bW(t){delete t._ripple,Ox(t)}function EW(t,e){if(e.value===e.oldValue)return;const n=Ax(e.oldValue);Dx(t,e,n)}const ru={mounted:wW,unmounted:bW,updated:EW},CW=W({active:{type:Boolean,default:void 0},symbol:{type:null,default:vx},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:tt,appendIcon:tt,block:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...Zi(),...Be(),...ts(),...vo(),...ns(),...__(),...C_(),...iu(),...Cf(),...Fn(),...Tf(),...tu(),...St({tag:"button"}),...Tt(),...Ns({variant:"elevated"})},"VBtn"),me=ce()({name:"VBtn",directives:{Ripple:ru},props:CW(),emits:{"group:selected":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=Mt(t),{borderClasses:r}=es(t),{colorClasses:o,colorStyles:a,variantClasses:l}=Wa(t),{densityClasses:c}=Ps(t),{dimensionStyles:u}=yo(t),{elevationClasses:d}=is(t),{loaderClasses:h}=I_(t),{locationStyles:m}=su(t),{positionClasses:g}=If(t),{roundedClasses:p}=Vn(t),{sizeClasses:v,sizeStyles:E}=nu(t),b=w_(t,t.symbol,!1),C=Sf(t,n),S=w(()=>{var k;return t.active!==void 0?t.active:C.isLink.value?(k=C.isActive)==null?void 0:k.value:b==null?void 0:b.isSelected.value}),R=w(()=>(b==null?void 0:b.disabled.value)||t.disabled),x=w(()=>t.variant==="elevated"&&!(t.disabled||t.flat||t.border)),N=w(()=>{if(t.value!==void 0)return Object(t.value)===t.value?JSON.stringify(t.value,null,0):t.value});function T(k){var L;R.value||((L=C.navigate)==null||L.call(C,k),b==null||b.toggle())}return vW(C,b==null?void 0:b.select),be(()=>{var $,re;const k=C.isLink.value?"a":t.tag,L=!!(t.prependIcon||i.prepend),V=!!(t.appendIcon||i.append),O=!!(t.icon&&t.icon!==!0),P=(b==null?void 0:b.isSelected.value)&&(!C.isLink.value||(($=C.isActive)==null?void 0:$.value))||!b||((re=C.isActive)==null?void 0:re.value);return en(f(k,{type:k==="a"?void 0:"button",class:["v-btn",b==null?void 0:b.selectedClass.value,{"v-btn--active":S.value,"v-btn--block":t.block,"v-btn--disabled":R.value,"v-btn--elevated":x.value,"v-btn--flat":t.flat,"v-btn--icon":!!t.icon,"v-btn--loading":t.loading,"v-btn--stacked":t.stacked},s.value,r.value,P?o.value:void 0,c.value,d.value,h.value,g.value,p.value,v.value,l.value,t.class],style:[P?a.value:void 0,u.value,m.value,E.value,t.style],disabled:R.value||void 0,href:C.href.value,onClick:T,value:N.value},{default:()=>{var oe;return[qa(!0,"v-btn"),!t.icon&&L&&f("span",{key:"prepend",class:"v-btn__prepend"},[i.prepend?f(At,{key:"prepend-defaults",disabled:!t.prependIcon,defaults:{VIcon:{icon:t.prependIcon}}},i.prepend):f(Ge,{key:"prepend-icon",icon:t.prependIcon},null)]),f("span",{class:"v-btn__content","data-no-activator":""},[!i.default&&O?f(Ge,{key:"content-icon",icon:t.icon},null):f(At,{key:"content-defaults",disabled:!O,defaults:{VIcon:{icon:t.icon}}},{default:()=>{var se;return[((se=i.default)==null?void 0:se.call(i))??t.text]}})]),!t.icon&&V&&f("span",{key:"append",class:"v-btn__append"},[i.append?f(At,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VIcon:{icon:t.appendIcon}}},i.append):f(Ge,{key:"append-icon",icon:t.appendIcon},null)]),!!t.loading&&f("span",{key:"loader",class:"v-btn__loader"},[((oe=i.loader)==null?void 0:oe.call(i))??f(Ef,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,size:"23",width:"2"},null)])]}}),[[Ti("ripple"),!R.value&&t.ripple,null]])}),{}}});const Mn=ce()({name:"VCardActions",props:Be(),setup(t,e){let{slots:n}=e;return xs({VBtn:{variant:"text"}}),be(()=>{var i;return f("div",{class:["v-card-actions",t.class],style:t.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),va=Ha("v-card-subtitle"),kt=Ha("v-card-title");function IW(t){return{aspectStyles:w(()=>{const e=Number(t.aspectRatio);return e?{paddingBottom:String(1/e*100)+"%"}:void 0})}}const Mx=W({aspectRatio:[String,Number],contentClass:String,inline:Boolean,...Be(),...vo()},"VResponsive"),DE=ce()({name:"VResponsive",props:Mx(),setup(t,e){let{slots:n}=e;const{aspectStyles:i}=IW(t),{dimensionStyles:s}=yo(t);return be(()=>{var r;return f("div",{class:["v-responsive",{"v-responsive--inline":t.inline},t.class],style:[s.value,t.style]},[f("div",{class:"v-responsive__sizer",style:i.value},null),(r=n.additional)==null?void 0:r.call(n),n.default&&f("div",{class:["v-responsive__content",t.contentClass]},[n.default()])])}),{}}}),Ka=W({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:t=>t!==!0}},"transition"),fs=(t,e)=>{let{slots:n}=e;const{transition:i,disabled:s,...r}=t,{component:o=qi,...a}=typeof i=="object"?i:{};return Ji(o,ye(typeof i=="string"?{name:s?"":i}:a,r,{disabled:s}),n)};function SW(t,e){if(!v_)return;const n=e.modifiers||{},i=e.value,{handler:s,options:r}=typeof i=="object"?i:{handler:i,options:{}},o=new IntersectionObserver(function(){var d;let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;const c=(d=t._observe)==null?void 0:d[e.instance.$.uid];if(!c)return;const u=a.some(h=>h.isIntersecting);s&&(!n.quiet||c.init)&&(!n.once||u||c.init)&&s(u,a,l),u&&n.once?Lx(t,e):c.init=!0},r);t._observe=Object(t._observe),t._observe[e.instance.$.uid]={init:!1,observer:o},o.observe(t)}function Lx(t,e){var i;const n=(i=t._observe)==null?void 0:i[e.instance.$.uid];n&&(n.observer.unobserve(t),delete t._observe[e.instance.$.uid])}const TW={mounted:SW,unmounted:Lx},S_=TW,Fx=W({alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,...Mx(),...Be(),...Ka()},"VImg"),Gi=ce()({name:"VImg",directives:{intersect:S_},props:Fx(),emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Ce(""),r=ae(),o=Ce(t.eager?"loading":"idle"),a=Ce(),l=Ce(),c=w(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect||0)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),u=w(()=>c.value.aspect||a.value/l.value||0);ge(()=>t.src,()=>{d(o.value!=="idle")}),ge(u,(T,k)=>{!T&&k&&r.value&&v(r.value)}),yf(()=>d());function d(T){if(!(t.eager&&T)&&!(v_&&!T&&!t.eager)){if(o.value="loading",c.value.lazySrc){const k=new Image;k.src=c.value.lazySrc,v(k,null)}c.value.src&&Ct(()=>{var k,L;if(n("loadstart",((k=r.value)==null?void 0:k.currentSrc)||c.value.src),(L=r.value)!=null&&L.complete){if(r.value.naturalWidth||m(),o.value==="error")return;u.value||v(r.value,null),h()}else u.value||v(r.value),g()})}}function h(){var T;g(),o.value="loaded",n("load",((T=r.value)==null?void 0:T.currentSrc)||c.value.src)}function m(){var T;o.value="error",n("error",((T=r.value)==null?void 0:T.currentSrc)||c.value.src)}function g(){const T=r.value;T&&(s.value=T.currentSrc||T.src)}let p=-1;function v(T){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const L=()=>{clearTimeout(p);const{naturalHeight:V,naturalWidth:O}=T;V||O?(a.value=O,l.value=V):!T.complete&&o.value==="loading"&&k!=null?p=window.setTimeout(L,k):(T.currentSrc.endsWith(".svg")||T.currentSrc.startsWith("data:image/svg+xml"))&&(a.value=1,l.value=1)};L()}const E=w(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),b=()=>{var L;if(!c.value.src||o.value==="idle")return null;const T=f("img",{class:["v-img__img",E.value],src:c.value.src,srcset:c.value.srcset,alt:t.alt,sizes:t.sizes,ref:r,onLoad:h,onError:m},null),k=(L=i.sources)==null?void 0:L.call(i);return f(fs,{transition:t.transition,appear:!0},{default:()=>[en(k?f("picture",{class:"v-img__picture"},[k,T]):T,[[po,o.value==="loaded"]])]})},C=()=>f(fs,{transition:t.transition},{default:()=>[c.value.lazySrc&&o.value!=="loaded"&&f("img",{class:["v-img__img","v-img__img--preload",E.value],src:c.value.lazySrc,alt:t.alt},null)]}),S=()=>i.placeholder?f(fs,{transition:t.transition,appear:!0},{default:()=>[(o.value==="loading"||o.value==="error"&&!i.error)&&f("div",{class:"v-img__placeholder"},[i.placeholder()])]}):null,R=()=>i.error?f(fs,{transition:t.transition,appear:!0},{default:()=>[o.value==="error"&&f("div",{class:"v-img__error"},[i.error()])]}):null,x=()=>t.gradient?f("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,N=Ce(!1);{const T=ge(u,k=>{k&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{N.value=!0})}),T())})}return be(()=>{const[T]=DE.filterProps(t);return en(f(DE,ye({class:["v-img",{"v-img--booting":!N.value},t.class],style:t.style},T,{aspectRatio:u.value,"aria-label":t.alt,role:t.alt?"img":void 0}),{additional:()=>f(Te,null,[f(b,null,null),f(C,null,null),f(x,null,null),f(S,null,null),f(R,null,null)]),default:i.default}),[[Ti("intersect"),{handler:d,options:t.options},null,{once:!0}]])}),{currentSrc:s,image:r,state:o,naturalWidth:a,naturalHeight:l}}}),kW=W({start:Boolean,end:Boolean,icon:tt,image:String,...Be(),...ts(),...Fn(),...tu(),...St(),...Tt(),...Ns({variant:"flat"})},"VAvatar"),gs=ce()({name:"VAvatar",props:kW(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Mt(t),{colorClasses:s,colorStyles:r,variantClasses:o}=Wa(t),{densityClasses:a}=Ps(t),{roundedClasses:l}=Vn(t),{sizeClasses:c,sizeStyles:u}=nu(t);return be(()=>f(t.tag,{class:["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},i.value,s.value,a.value,l.value,c.value,o.value,t.class],style:[r.value,u.value,t.style]},{default:()=>{var d;return[t.image?f(Gi,{key:"image",src:t.image,alt:"",cover:!0},null):t.icon?f(Ge,{key:"icon",icon:t.icon},null):(d=n.default)==null?void 0:d.call(n),qa(!1,"v-avatar")]}})),{}}}),AW=W({appendAvatar:String,appendIcon:tt,prependAvatar:String,prependIcon:tt,subtitle:String,title:String,...Be(),...ts()},"VCardItem"),xW=ce()({name:"VCardItem",props:AW(),setup(t,e){let{slots:n}=e;return be(()=>{var c;const i=!!(t.prependAvatar||t.prependIcon),s=!!(i||n.prepend),r=!!(t.appendAvatar||t.appendIcon),o=!!(r||n.append),a=!!(t.title||n.title),l=!!(t.subtitle||n.subtitle);return f("div",{class:["v-card-item",t.class],style:t.style},[s&&f("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?f(At,{key:"prepend-defaults",disabled:!i,defaults:{VAvatar:{density:t.density,icon:t.prependIcon,image:t.prependAvatar}}},n.prepend):i&&f(gs,{key:"prepend-avatar",density:t.density,icon:t.prependIcon,image:t.prependAvatar},null)]),f("div",{class:"v-card-item__content"},[a&&f(kt,{key:"title"},{default:()=>{var u;return[((u=n.title)==null?void 0:u.call(n))??t.title]}}),l&&f(va,{key:"subtitle"},{default:()=>{var u;return[((u=n.subtitle)==null?void 0:u.call(n))??t.subtitle]}}),(c=n.default)==null?void 0:c.call(n)]),o&&f("div",{key:"append",class:"v-card-item__append"},[n.append?f(At,{key:"append-defaults",disabled:!r,defaults:{VAvatar:{density:t.density,icon:t.appendIcon,image:t.appendAvatar}}},n.append):r&&f(gs,{key:"append-avatar",density:t.density,icon:t.appendIcon,image:t.appendAvatar},null)])])}),{}}}),Kr=Ha("v-card-text"),RW=W({appendAvatar:String,appendIcon:tt,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:tt,ripple:{type:[Boolean,Object],default:!0},subtitle:String,text:String,title:String,...Zi(),...Be(),...ts(),...vo(),...ns(),...C_(),...iu(),...Cf(),...Fn(),...Tf(),...St(),...Tt(),...Ns({variant:"elevated"})},"VCard"),qe=ce()({name:"VCard",directives:{Ripple:ru},props:RW(),setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=Mt(t),{borderClasses:r}=es(t),{colorClasses:o,colorStyles:a,variantClasses:l}=Wa(t),{densityClasses:c}=Ps(t),{dimensionStyles:u}=yo(t),{elevationClasses:d}=is(t),{loaderClasses:h}=I_(t),{locationStyles:m}=su(t),{positionClasses:g}=If(t),{roundedClasses:p}=Vn(t),v=Sf(t,n),E=w(()=>t.link!==!1&&v.isLink.value),b=w(()=>!t.disabled&&t.link!==!1&&(t.link||v.isClickable.value));return be(()=>{const C=E.value?"a":t.tag,S=!!(i.title||t.title),R=!!(i.subtitle||t.subtitle),x=S||R,N=!!(i.append||t.appendAvatar||t.appendIcon),T=!!(i.prepend||t.prependAvatar||t.prependIcon),k=!!(i.image||t.image),L=x||T||N,V=!!(i.text||t.text);return en(f(C,{class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":b.value},s.value,r.value,o.value,c.value,d.value,h.value,g.value,p.value,l.value,t.class],style:[a.value,u.value,m.value,t.style],href:v.href.value,onClick:b.value&&v.navigate,tabindex:t.disabled?-1:void 0},{default:()=>{var O;return[k&&f("div",{key:"image",class:"v-card__image"},[i.image?f(At,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},i.image):f(Gi,{key:"image-img",cover:!0,src:t.image},null)]),f(Sx,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:i.loader}),L&&f(xW,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:i.item,prepend:i.prepend,title:i.title,subtitle:i.subtitle,append:i.append}),V&&f(Kr,{key:"text"},{default:()=>{var P;return[((P=i.text)==null?void 0:P.call(i))??t.text]}}),(O=i.default)==null?void 0:O.call(i),i.actions&&f(Mn,null,{default:i.actions}),qa(b.value,"v-card")]}}),[[Ti("ripple"),b.value&&t.ripple]])}),{}}});const PW=W({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function Zn(t,e,n){return ce()({name:t,props:PW({mode:n,origin:e}),setup(i,s){let{slots:r}=s;const o={onBeforeEnter(a){i.origin&&(a.style.transformOrigin=i.origin)},onLeave(a){if(i.leaveAbsolute){const{offsetTop:l,offsetLeft:c,offsetWidth:u,offsetHeight:d}=a;a._transitionInitialStyles={position:a.style.position,top:a.style.top,left:a.style.left,width:a.style.width,height:a.style.height},a.style.position="absolute",a.style.top=`${l}px`,a.style.left=`${c}px`,a.style.width=`${u}px`,a.style.height=`${d}px`}i.hideOnLeave&&a.style.setProperty("display","none","important")},onAfterLeave(a){if(i.leaveAbsolute&&(a!=null&&a._transitionInitialStyles)){const{position:l,top:c,left:u,width:d,height:h}=a._transitionInitialStyles;delete a._transitionInitialStyles,a.style.position=l||"",a.style.top=c||"",a.style.left=u||"",a.style.width=d||"",a.style.height=h||""}}};return()=>{const a=i.group?W6:qi;return Ji(a,{name:i.disabled?"":t,css:!i.disabled,...i.group?void 0:{mode:i.mode},...i.disabled?{}:o},r.default)}}})}function Vx(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return ce()({name:t,props:{mode:{type:String,default:n},disabled:Boolean},setup(i,s){let{slots:r}=s;return()=>Ji(qi,{name:i.disabled?"":t,css:!i.disabled,...i.disabled?{}:e},r.default)}})}function Bx(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",i=li(`offset-${n}`);return{onBeforeEnter(o){o._parent=o.parentNode,o._initialStyle={transition:o.style.transition,overflow:o.style.overflow,[n]:o.style[n]}},onEnter(o){const a=o._initialStyle;o.style.setProperty("transition","none","important"),o.style.overflow="hidden";const l=`${o[i]}px`;o.style[n]="0",o.offsetHeight,o.style.transition=a.transition,t&&o._parent&&o._parent.classList.add(t),requestAnimationFrame(()=>{o.style[n]=l})},onAfterEnter:r,onEnterCancelled:r,onLeave(o){o._initialStyle={transition:"",overflow:o.style.overflow,[n]:o.style[n]},o.style.overflow="hidden",o.style[n]=`${o[i]}px`,o.offsetHeight,requestAnimationFrame(()=>o.style[n]="0")},onAfterLeave:s,onLeaveCancelled:s};function s(o){t&&o._parent&&o._parent.classList.remove(t),r(o)}function r(o){const a=o._initialStyle[n];o.style.overflow=o._initialStyle.overflow,a!=null&&(o.style[n]=a),delete o._initialStyle}}const NW=W({target:Object},"v-dialog-transition"),T_=ce()({name:"VDialogTransition",props:NW(),setup(t,e){let{slots:n}=e;const i={onBeforeEnter(s){s.style.pointerEvents="none",s.style.visibility="hidden"},async onEnter(s,r){var h;await new Promise(m=>requestAnimationFrame(m)),await new Promise(m=>requestAnimationFrame(m)),s.style.visibility="";const{x:o,y:a,sx:l,sy:c,speed:u}=ME(t.target,s),d=Vo(s,[{transform:`translate(${o}px, ${a}px) scale(${l}, ${c})`,opacity:0},{}],{duration:225*u,easing:Dq});(h=OE(s))==null||h.forEach(m=>{Vo(m,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*u,easing:Zd})}),d.finished.then(()=>r())},onAfterEnter(s){s.style.removeProperty("pointer-events")},onBeforeLeave(s){s.style.pointerEvents="none"},async onLeave(s,r){var h;await new Promise(m=>requestAnimationFrame(m));const{x:o,y:a,sx:l,sy:c,speed:u}=ME(t.target,s);Vo(s,[{},{transform:`translate(${o}px, ${a}px) scale(${l}, ${c})`,opacity:0}],{duration:125*u,easing:Oq}).finished.then(()=>r()),(h=OE(s))==null||h.forEach(m=>{Vo(m,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*u,easing:Zd})})},onAfterLeave(s){s.style.removeProperty("pointer-events")}};return()=>t.target?f(qi,ye({name:"dialog-transition"},i,{css:!1}),n):f(qi,{name:"dialog-transition"},n)}});function OE(t){var n;const e=(n=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return e&&[...e]}function ME(t,e){const n=t.getBoundingClientRect(),i=f_(e),[s,r]=getComputedStyle(e).transformOrigin.split(" ").map(E=>parseFloat(E)),[o,a]=getComputedStyle(e).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=n.left+n.width/2;o==="left"||a==="left"?l-=n.width/2:(o==="right"||a==="right")&&(l+=n.width/2);let c=n.top+n.height/2;o==="top"||a==="top"?c-=n.height/2:(o==="bottom"||a==="bottom")&&(c+=n.height/2);const u=n.width/i.width,d=n.height/i.height,h=Math.max(1,u,d),m=u/h||0,g=d/h||0,p=i.width*i.height/(window.innerWidth*window.innerHeight),v=p>.12?Math.min(1.5,(p-.12)*10+1):1;return{x:l-(s+i.left),y:c-(r+i.top),sx:m,sy:g,speed:v}}Zn("fab-transition","center center","out-in");Zn("dialog-bottom-transition");Zn("dialog-top-transition");Zn("fade-transition");Zn("scale-transition");Zn("scroll-x-transition");Zn("scroll-x-reverse-transition");Zn("scroll-y-transition");Zn("scroll-y-reverse-transition");Zn("slide-x-transition");Zn("slide-x-reverse-transition");const Ux=Zn("slide-y-transition");Zn("slide-y-reverse-transition");const $x=Vx("expand-transition",Bx()),zx=Vx("expand-x-transition",Bx("",!0));function Lm(t,e){return{x:t.x+e.x,y:t.y+e.y}}function DW(t,e){return{x:t.x-e.x,y:t.y-e.y}}function LE(t,e){if(t.side==="top"||t.side==="bottom"){const{side:n,align:i}=t,s=i==="left"?0:i==="center"?e.width/2:i==="right"?e.width:i,r=n==="top"?0:n==="bottom"?e.height:n;return Lm({x:s,y:r},e)}else if(t.side==="left"||t.side==="right"){const{side:n,align:i}=t,s=n==="left"?0:n==="right"?e.width:n,r=i==="top"?0:i==="center"?e.height/2:i==="bottom"?e.height:i;return Lm({x:s,y:r},e)}return Lm({x:e.width/2,y:e.height/2},e)}const jx={static:LW,connected:VW},OW=W({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in jx},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function MW(t,e){const n=ae({}),i=ae();jt&&(ao(()=>!!(e.isActive.value&&t.locationStrategy),r=>{var o,a;ge(()=>t.locationStrategy,r),Qn(()=>{i.value=void 0}),typeof t.locationStrategy=="function"?i.value=(o=t.locationStrategy(e,t,n))==null?void 0:o.updateLocation:i.value=(a=jx[t.locationStrategy](e,t,n))==null?void 0:a.updateLocation}),window.addEventListener("resize",s,{passive:!0}),Qn(()=>{window.removeEventListener("resize",s),i.value=void 0}));function s(r){var o;(o=i.value)==null||o.call(i,r)}return{contentStyles:n,updateLocation:i}}function LW(){}function FW(t,e){const n=f_(t);return e?n.x+=parseFloat(t.style.right||0):n.x-=parseFloat(t.style.left||0),n.y-=parseFloat(t.style.top||0),n}function VW(t,e,n){Vq(t.activatorEl.value)&&Object.assign(n.value,{position:"fixed",top:0,[t.isRtl.value?"right":"left"]:0});const{preferredAnchor:s,preferredOrigin:r}=u_(()=>{const g=dp(e.location,t.isRtl.value),p=e.origin==="overlap"?g:e.origin==="auto"?Nm(g):dp(e.origin,t.isRtl.value);return g.side===p.side&&g.align===Dm(p).align?{preferredAnchor:dE(g),preferredOrigin:dE(p)}:{preferredAnchor:g,preferredOrigin:p}}),[o,a,l,c]=["minWidth","minHeight","maxWidth","maxHeight"].map(g=>w(()=>{const p=parseFloat(e[g]);return isNaN(p)?1/0:p})),u=w(()=>{if(Array.isArray(e.offset))return e.offset;if(typeof e.offset=="string"){const g=e.offset.split(" ").map(parseFloat);return g.length<2&&g.push(0),g}return typeof e.offset=="number"?[e.offset,0]:[0,0]});let d=!1;const h=new ResizeObserver(()=>{d&&m()});ge([t.activatorEl,t.contentEl],(g,p)=>{let[v,E]=g,[b,C]=p;b&&h.unobserve(b),v&&h.observe(v),C&&h.unobserve(C),E&&h.observe(E)},{immediate:!0}),Qn(()=>{h.disconnect()});function m(){if(d=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>d=!0)}),!t.activatorEl.value||!t.contentEl.value)return;const g=t.activatorEl.value.getBoundingClientRect(),p=FW(t.contentEl.value,t.isRtl.value),v=eh(t.contentEl.value),E=12;v.length||(v.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(p.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),p.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const b=v.reduce((V,O)=>{const P=O.getBoundingClientRect(),$=new Zo({x:O===document.documentElement?0:P.x,y:O===document.documentElement?0:P.y,width:O.clientWidth,height:O.clientHeight});return V?new Zo({x:Math.max(V.left,$.left),y:Math.max(V.top,$.top),width:Math.min(V.right,$.right)-Math.max(V.left,$.left),height:Math.min(V.bottom,$.bottom)-Math.max(V.top,$.top)}):$},void 0);b.x+=E,b.y+=E,b.width-=E*2,b.height-=E*2;let C={anchor:s.value,origin:r.value};function S(V){const O=new Zo(p),P=LE(V.anchor,g),$=LE(V.origin,O);let{x:re,y:oe}=DW(P,$);switch(V.anchor.side){case"top":oe-=u.value[0];break;case"bottom":oe+=u.value[0];break;case"left":re-=u.value[0];break;case"right":re+=u.value[0];break}switch(V.anchor.align){case"top":oe-=u.value[1];break;case"bottom":oe+=u.value[1];break;case"left":re-=u.value[1];break;case"right":re+=u.value[1];break}return O.x+=re,O.y+=oe,O.width=Math.min(O.width,l.value),O.height=Math.min(O.height,c.value),{overflows:fE(O,b),x:re,y:oe}}let R=0,x=0;const N={x:0,y:0},T={x:!1,y:!1};let k=-1;for(;!(k++>10);){const{x:V,y:O,overflows:P}=S(C);R+=V,x+=O,p.x+=V,p.y+=O;{const $=hE(C.anchor),re=P.x.before||P.x.after,oe=P.y.before||P.y.after;let se=!1;if(["x","y"].forEach(F=>{if(F==="x"&&re&&!T.x||F==="y"&&oe&&!T.y){const G={anchor:{...C.anchor},origin:{...C.origin}},ue=F==="x"?$==="y"?Dm:Nm:$==="y"?Nm:Dm;G.anchor=ue(G.anchor),G.origin=ue(G.origin);const{overflows:pe}=S(G);(pe[F].before<=P[F].before&&pe[F].after<=P[F].after||pe[F].before+pe[F].after<(P[F].before+P[F].after)/2)&&(C=G,se=T[F]=!0)}}),se)continue}P.x.before&&(R+=P.x.before,p.x+=P.x.before),P.x.after&&(R-=P.x.after,p.x-=P.x.after),P.y.before&&(x+=P.y.before,p.y+=P.y.before),P.y.after&&(x-=P.y.after,p.y-=P.y.after);{const $=fE(p,b);N.x=b.width-$.x.before-$.x.after,N.y=b.height-$.y.before-$.y.after,R+=$.x.before,p.x+=$.x.before,x+=$.y.before,p.y+=$.y.before}break}const L=hE(C.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${C.anchor.side} ${C.anchor.align}`,transformOrigin:`${C.origin.side} ${C.origin.align}`,top:Se(Fm(x)),left:t.isRtl.value?void 0:Se(Fm(R)),right:t.isRtl.value?Se(Fm(-R)):void 0,minWidth:Se(L==="y"?Math.min(o.value,g.width):o.value),maxWidth:Se(FE(Yd(N.x,o.value===1/0?0:o.value,l.value))),maxHeight:Se(FE(Yd(N.y,a.value===1/0?0:a.value,c.value)))}),{available:N,contentBox:p}}return ge(()=>[s.value,r.value,e.offset,e.minWidth,e.minHeight,e.maxWidth,e.maxHeight],()=>m()),Ct(()=>{const g=m();if(!g)return;const{available:p,contentBox:v}=g;v.height>p.y&&requestAnimationFrame(()=>{m(),requestAnimationFrame(()=>{m()})})}),{updateLocation:m}}function Fm(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function FE(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let vp=!0;const sh=[];function BW(t){!vp||sh.length?(sh.push(t),yp()):(vp=!1,t(),yp())}let VE=-1;function yp(){cancelAnimationFrame(VE),VE=requestAnimationFrame(()=>{const t=sh.shift();t&&t(),sh.length?yp():vp=!0})}const Ju={none:null,close:zW,block:jW,reposition:HW},UW=W({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in Ju}},"VOverlay-scroll-strategies");function $W(t,e){if(!jt)return;let n;Xi(async()=>{n==null||n.stop(),e.isActive.value&&t.scrollStrategy&&(n=hf(),await Ct(),n.active&&n.run(()=>{var i;typeof t.scrollStrategy=="function"?t.scrollStrategy(e,t,n):(i=Ju[t.scrollStrategy])==null||i.call(Ju,e,t,n)}))}),Qn(()=>{n==null||n.stop()})}function zW(t){function e(n){t.isActive.value=!1}Hx(t.activatorEl.value??t.contentEl.value,e)}function jW(t,e){var o;const n=(o=t.root.value)==null?void 0:o.offsetParent,i=[...new Set([...eh(t.activatorEl.value,e.contained?n:void 0),...eh(t.contentEl.value,e.contained?n:void 0)])].filter(a=>!a.classList.contains("v-overlay-scroll-blocked")),s=window.innerWidth-document.documentElement.offsetWidth,r=(a=>p_(a)&&a)(n||document.documentElement);r&&t.root.value.classList.add("v-overlay--scroll-blocked"),i.forEach((a,l)=>{a.style.setProperty("--v-body-scroll-x",Se(-a.scrollLeft)),a.style.setProperty("--v-body-scroll-y",Se(-a.scrollTop)),a.style.setProperty("--v-scrollbar-offset",Se(s)),a.classList.add("v-overlay-scroll-blocked")}),Qn(()=>{i.forEach((a,l)=>{const c=parseFloat(a.style.getPropertyValue("--v-body-scroll-x")),u=parseFloat(a.style.getPropertyValue("--v-body-scroll-y"));a.style.removeProperty("--v-body-scroll-x"),a.style.removeProperty("--v-body-scroll-y"),a.style.removeProperty("--v-scrollbar-offset"),a.classList.remove("v-overlay-scroll-blocked"),a.scrollLeft=-c,a.scrollTop=-u}),r&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function HW(t,e,n){let i=!1,s=-1,r=-1;function o(a){BW(()=>{var u,d;const l=performance.now();(d=(u=t.updateLocation).value)==null||d.call(u,a),i=(performance.now()-l)/(1e3/60)>2})}r=(typeof requestIdleCallback>"u"?a=>a():requestIdleCallback)(()=>{n.run(()=>{Hx(t.activatorEl.value??t.contentEl.value,a=>{i?(cancelAnimationFrame(s),s=requestAnimationFrame(()=>{s=requestAnimationFrame(()=>{o(a)})})):o(a)})})}),Qn(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(r),cancelAnimationFrame(s)})}function Hx(t,e){const n=[document,...eh(t)];n.forEach(i=>{i.addEventListener("scroll",e,{passive:!0})}),Qn(()=>{n.forEach(i=>{i.removeEventListener("scroll",e)})})}const _p=Symbol.for("vuetify:v-menu"),qW=W({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function WW(t,e){const n={},i=s=>()=>{if(!jt)return Promise.resolve(!0);const r=s==="openDelay";return n.closeDelay&&window.clearTimeout(n.closeDelay),delete n.closeDelay,n.openDelay&&window.clearTimeout(n.openDelay),delete n.openDelay,new Promise(o=>{const a=parseInt(t[s]??0,10);n[s]=window.setTimeout(()=>{e==null||e(r),o(r)},a)})};return{runCloseDelay:i("closeDelay"),runOpenDelay:i("openDelay")}}const KW=W({activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...qW()},"VOverlay-activator");function GW(t,e){let{isActive:n,isTop:i}=e;const s=ae();let r=!1,o=!1,a=!0;const l=w(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),c=w(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!l.value),{runOpenDelay:u,runCloseDelay:d}=WW(t,C=>{C===(t.openOnHover&&r||l.value&&o)&&!(t.openOnHover&&n.value&&!i.value)&&(n.value!==C&&(a=!0),n.value=C)}),h={onClick:C=>{C.stopPropagation(),s.value=C.currentTarget||C.target,n.value=!n.value},onMouseenter:C=>{var S;(S=C.sourceCapabilities)!=null&&S.firesTouchEvents||(r=!0,s.value=C.currentTarget||C.target,u())},onMouseleave:C=>{r=!1,d()},onFocus:C=>{fp&&!C.target.matches(":focus-visible")||(o=!0,C.stopPropagation(),s.value=C.currentTarget||C.target,u())},onBlur:C=>{o=!1,C.stopPropagation(),d()}},m=w(()=>{const C={};return c.value&&(C.onClick=h.onClick),t.openOnHover&&(C.onMouseenter=h.onMouseenter,C.onMouseleave=h.onMouseleave),l.value&&(C.onFocus=h.onFocus,C.onBlur=h.onBlur),C}),g=w(()=>{const C={};if(t.openOnHover&&(C.onMouseenter=()=>{r=!0,u()},C.onMouseleave=()=>{r=!1,d()}),l.value&&(C.onFocusin=()=>{o=!0,u()},C.onFocusout=()=>{o=!1,d()}),t.closeOnContentClick){const S=st(_p,null);C.onClick=()=>{n.value=!1,S==null||S.closeParents()}}return C}),p=w(()=>{const C={};return t.openOnHover&&(C.onMouseenter=()=>{a&&(r=!0,a=!1,u())},C.onMouseleave=()=>{r=!1,d()}),C});ge(i,C=>{C&&(t.openOnHover&&!r&&(!l.value||!o)||l.value&&!o&&(!t.openOnHover||!r))&&(n.value=!1)});const v=ae();Xi(()=>{v.value&&Ct(()=>{s.value=up(v.value)})});const E=Sn("useActivator");let b;return ge(()=>!!t.activator,C=>{C&&jt?(b=hf(),b.run(()=>{YW(t,E,{activatorEl:s,activatorEvents:m})})):b&&b.stop()},{flush:"post",immediate:!0}),Qn(()=>{b==null||b.stop()}),{activatorEl:s,activatorRef:v,activatorEvents:m,contentEvents:g,scrimEvents:p}}function YW(t,e,n){let{activatorEl:i,activatorEvents:s}=n;ge(()=>t.activator,(l,c)=>{if(c&&l!==c){const u=a(c);u&&o(u)}l&&Ct(()=>r())},{immediate:!0}),ge(()=>t.activatorProps,()=>{r()}),Qn(()=>{o()});function r(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&mq(l,ye(s.value,c))}function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&gq(l,ye(s.value,c))}function a(){var u,d;let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator,c;if(l)if(l==="parent"){let h=(d=(u=e==null?void 0:e.proxy)==null?void 0:u.$el)==null?void 0:d.parentNode;for(;h.hasAttribute("data-no-activator");)h=h.parentNode;c=h}else typeof l=="string"?c=document.querySelector(l):"$el"in l?c=l.$el:c=l;return i.value=(c==null?void 0:c.nodeType)===Node.ELEMENT_NODE?c:null,i.value}}const kf=["sm","md","lg","xl","xxl"],wp=Symbol.for("vuetify:display"),BE={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},QW=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:BE;return pi(BE,t)};function UE(t){return jt&&!t?window.innerWidth:typeof t=="object"&&t.clientWidth||0}function $E(t){return jt&&!t?window.innerHeight:typeof t=="object"&&t.clientHeight||0}function zE(t){const e=jt&&!t?window.navigator.userAgent:"ssr";function n(g){return!!e.match(g)}const i=n(/android/i),s=n(/iphone|ipad|ipod/i),r=n(/cordova/i),o=n(/electron/i),a=n(/chrome/i),l=n(/edge/i),c=n(/firefox/i),u=n(/opera/i),d=n(/win/i),h=n(/mac/i),m=n(/linux/i);return{android:i,ios:s,cordova:r,electron:o,chrome:a,edge:l,firefox:c,opera:u,win:d,mac:h,linux:m,touch:Lq,ssr:e==="ssr"}}function XW(t,e){const{thresholds:n,mobileBreakpoint:i}=QW(t),s=Ce($E(e)),r=Ce(zE(e)),o=Xt({}),a=Ce(UE(e));function l(){s.value=$E(),a.value=UE()}function c(){l(),r.value=zE()}return Xi(()=>{const u=a.value<n.sm,d=a.value<n.md&&!u,h=a.value<n.lg&&!(d||u),m=a.value<n.xl&&!(h||d||u),g=a.value<n.xxl&&!(m||h||d||u),p=a.value>=n.xxl,v=u?"xs":d?"sm":h?"md":m?"lg":g?"xl":"xxl",E=typeof i=="number"?i:n[i],b=a.value<E;o.xs=u,o.sm=d,o.md=h,o.lg=m,o.xl=g,o.xxl=p,o.smAndUp=!u,o.mdAndUp=!(u||d),o.lgAndUp=!(u||d||h),o.xlAndUp=!(u||d||h||m),o.smAndDown=!(h||m||g||p),o.mdAndDown=!(m||g||p),o.lgAndDown=!(g||p),o.xlAndDown=!p,o.name=v,o.height=s.value,o.width=a.value,o.mobile=b,o.mobileBreakpoint=i,o.platform=r.value,o.thresholds=n}),jt&&window.addEventListener("resize",l,{passive:!0}),{...Qy(o),update:c,ssr:!!e}}function qx(){const t=st(wp);if(!t)throw new Error("Could not find Vuetify display injection");return t}function JW(){if(!jt)return Ce(!1);const{ssr:t}=qx();if(t){const e=Ce(!1);return ci(()=>{e.value=!0}),e}else return Ce(!0)}const Wx=W({eager:Boolean},"lazy");function Kx(t,e){const n=Ce(!1),i=w(()=>n.value||t.eager||e.value);ge(e,()=>n.value=!0);function s(){t.eager||(n.value=!1)}return{isBooted:n,hasContent:i,onAfterLeave:s}}function ou(){const e=Sn("useScopeId").vnode.scopeId;return{scopeId:e?{[e]:""}:void 0}}const jE=Symbol.for("vuetify:stack"),al=Xt([]);function ZW(t,e,n){const i=Sn("useStack"),s=!n,r=st(jE,void 0),o=Xt({activeChildren:new Set});Wt(jE,o);const a=Ce(+e.value);ao(t,()=>{var d;const u=(d=al.at(-1))==null?void 0:d[1];a.value=u?u+10:+e.value,s&&al.push([i.uid,a.value]),r==null||r.activeChildren.add(i.uid),Qn(()=>{if(s){const h=Fe(al).findIndex(m=>m[0]===i.uid);al.splice(h,1)}r==null||r.activeChildren.delete(i.uid)})});const l=Ce(!0);s&&Xi(()=>{var d;const u=((d=al.at(-1))==null?void 0:d[0])===i.uid;setTimeout(()=>l.value=u)});const c=w(()=>!o.activeChildren.size);return{globalTop:Jc(l),localTop:c,stackStyles:w(()=>({zIndex:a.value}))}}function e9(t){return{teleportTarget:w(()=>{const n=t.value;if(n===!0||!jt)return;const i=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(i==null)return;let s=i.querySelector(":scope > .v-overlay-container");return s||(s=document.createElement("div"),s.className="v-overlay-container",i.appendChild(s)),s})}}function t9(){return!0}function Gx(t,e,n){if(!t||Yx(t,n)===!1)return!1;const i=hx(e);if(typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&i.host===t.target)return!1;const s=(typeof n.value=="object"&&n.value.include||(()=>[]))();return s.push(e),!s.some(r=>r==null?void 0:r.contains(t.target))}function Yx(t,e){return(typeof e.value=="object"&&e.value.closeConditional||t9)(t)}function n9(t,e,n){const i=typeof n.value=="function"?n.value:n.value.handler;e._clickOutside.lastMousedownWasOutside&&Gx(t,e,n)&&setTimeout(()=>{Yx(t,n)&&i&&i(t)},0)}function HE(t,e){const n=hx(t);e(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&e(n)}const i9={mounted(t,e){const n=s=>n9(s,t,e),i=s=>{t._clickOutside.lastMousedownWasOutside=Gx(s,t,e)};HE(t,s=>{s.addEventListener("click",n,!0),s.addEventListener("mousedown",i,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!1}),t._clickOutside[e.instance.$.uid]={onClick:n,onMousedown:i}},unmounted(t,e){t._clickOutside&&(HE(t,n=>{var r;if(!n||!((r=t._clickOutside)!=null&&r[e.instance.$.uid]))return;const{onClick:i,onMousedown:s}=t._clickOutside[e.instance.$.uid];n.removeEventListener("click",i,!0),n.removeEventListener("mousedown",s,!0)}),delete t._clickOutside[e.instance.$.uid])}};function s9(t){const{modelValue:e,color:n,...i}=t;return f(qi,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&f("div",ye({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},i),null)]})}const Af=W({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[String,Boolean],default:!0},zIndex:{type:[Number,String],default:2e3},...KW(),...Be(),...vo(),...Wx(),...OW(),...UW(),...Tt(),...Ka()},"VOverlay"),ya=ce()({name:"VOverlay",directives:{ClickOutside:i9},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Af()},emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,afterLeave:()=>!0},setup(t,e){let{slots:n,attrs:i,emit:s}=e;const r=rt(t,"modelValue"),o=w({get:()=>r.value,set:G=>{G&&t.disabled||(r.value=G)}}),{teleportTarget:a}=e9(w(()=>t.attach||t.contained)),{themeClasses:l}=Mt(t),{rtlClasses:c,isRtl:u}=ss(),{hasContent:d,onAfterLeave:h}=Kx(t,o),m=Ki(w(()=>typeof t.scrim=="string"?t.scrim:null)),{globalTop:g,localTop:p,stackStyles:v}=ZW(o,Ae(t,"zIndex"),t._disableGlobalStack),{activatorEl:E,activatorRef:b,activatorEvents:C,contentEvents:S,scrimEvents:R}=GW(t,{isActive:o,isTop:p}),{dimensionStyles:x}=yo(t),N=JW(),{scopeId:T}=ou();ge(()=>t.disabled,G=>{G&&(o.value=!1)});const k=ae(),L=ae(),{contentStyles:V,updateLocation:O}=MW(t,{isRtl:u,contentEl:L,activatorEl:E,isActive:o});$W(t,{root:k,contentEl:L,activatorEl:E,isActive:o,updateLocation:O});function P(G){s("click:outside",G),t.persistent?F():o.value=!1}function $(){return o.value&&g.value}jt&&ge(o,G=>{G?window.addEventListener("keydown",re):window.removeEventListener("keydown",re)},{immediate:!0});function re(G){var ue,pe;G.key==="Escape"&&g.value&&(t.persistent?F():(o.value=!1,(ue=L.value)!=null&&ue.contains(document.activeElement)&&((pe=E.value)==null||pe.focus())))}const oe=Tx();ao(()=>t.closeOnBack,()=>{pW(oe,G=>{g.value&&o.value?(G(!1),t.persistent?F():o.value=!1):G()})});const se=ae();ge(()=>o.value&&(t.absolute||t.contained)&&a.value==null,G=>{if(G){const ue=Mq(k.value);ue&&ue!==document.scrollingElement&&(se.value=ue.scrollTop)}});function F(){t.noClickAnimation||L.value&&Vo(L.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Zd})}return be(()=>{var G;return f(Te,null,[(G=n.activator)==null?void 0:G.call(n,{isActive:o.value,props:ye({ref:b},C.value,t.activatorProps)}),N.value&&f(u6,{disabled:!a.value,to:a.value},{default:()=>[d.value&&f("div",ye({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":o.value,"v-overlay--contained":t.contained},l.value,c.value,t.class],style:[v.value,{top:Se(se.value)},t.style],ref:k},T,i),[f(s9,ye({color:m,modelValue:o.value&&!!t.scrim},R.value),null),f(fs,{appear:!0,persisted:!0,transition:t.transition,target:E.value,onAfterLeave:()=>{h(),s("afterLeave")}},{default:()=>{var ue;return[en(f("div",ye({ref:L,class:["v-overlay__content",t.contentClass],style:[x.value,V.value]},S.value,t.contentProps),[(ue=n.default)==null?void 0:ue.call(n,{isActive:o})]),[[po,o.value],[Ti("click-outside"),{handler:P,closeConditional:$,include:()=>[E.value]}]])]}})])]})])}),{activatorEl:E,animateClick:F,contentEl:L,globalTop:g,localTop:p,updateLocation:O}}}),Vm=Symbol("Forwarded refs");function Bm(t,e){let n=t;for(;n;){const i=Reflect.getOwnPropertyDescriptor(n,e);if(i)return i;n=Object.getPrototypeOf(n)}}function Ds(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t[Vm]=n,new Proxy(t,{get(s,r){if(Reflect.has(s,r))return Reflect.get(s,r);if(!(typeof r=="symbol"||r.startsWith("__"))){for(const o of n)if(o.value&&Reflect.has(o.value,r)){const a=Reflect.get(o.value,r);return typeof a=="function"?a.bind(o.value):a}}},has(s,r){if(Reflect.has(s,r))return!0;if(typeof r=="symbol"||r.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,r))return!0;return!1},getOwnPropertyDescriptor(s,r){var a;const o=Reflect.getOwnPropertyDescriptor(s,r);if(o)return o;if(!(typeof r=="symbol"||r.startsWith("__"))){for(const l of n){if(!l.value)continue;const c=Bm(l.value,r)??("_"in l.value?Bm((a=l.value._)==null?void 0:a.setupState,r):void 0);if(c)return c}for(const l of n){const c=l.value&&l.value[Vm];if(!c)continue;const u=c.slice();for(;u.length;){const d=u.shift(),h=Bm(d.value,r);if(h)return h;const m=d.value&&d.value[Vm];m&&u.push(...m)}}}}})}const r9=W({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Af({origin:"center center",scrollStrategy:"block",transition:{component:T_},zIndex:2400})},"VDialog"),Qx=ce()({name:"VDialog",props:r9(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=rt(t,"modelValue"),{scopeId:s}=ou(),r=ae();function o(l){var d,h;const c=l.relatedTarget,u=l.target;if(c!==u&&((d=r.value)!=null&&d.contentEl)&&((h=r.value)!=null&&h.globalTop)&&![document,r.value.contentEl].includes(u)&&!r.value.contentEl.contains(u)){const m=ox(r.value.contentEl);if(!m.length)return;const g=m[0],p=m[m.length-1];c===g?p.focus():g.focus()}}jt&&ge(()=>i.value&&t.retainFocus,l=>{l?document.addEventListener("focusin",o):document.removeEventListener("focusin",o)},{immediate:!0}),ge(i,async l=>{var c,u;await Ct(),l?(c=r.value.contentEl)==null||c.focus({preventScroll:!0}):(u=r.value.activatorEl)==null||u.focus({preventScroll:!0})});const a=w(()=>ye({"aria-haspopup":"dialog","aria-expanded":String(i.value)},t.activatorProps));return be(()=>{const[l]=ya.filterProps(t);return f(ya,ye({ref:r,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},l,{modelValue:i.value,"onUpdate:modelValue":c=>i.value=c,"aria-modal":"true",activatorProps:a.value,role:"dialog"},s),{activator:n.activator,default:function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return f(At,{root:"VDialog"},{default:()=>{var h;return[(h=n.default)==null?void 0:h.call(n,...u)]}})}})}),Ds({},r)}}),Xx=Symbol.for("vuetify:form"),o9=W({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function a9(t){const e=rt(t,"modelValue"),n=w(()=>t.disabled),i=w(()=>t.readonly),s=Ce(!1),r=ae([]),o=ae([]);async function a(){const u=[];let d=!0;o.value=[],s.value=!0;for(const h of r.value){const m=await h.validate();if(m.length>0&&(d=!1,u.push({id:h.id,errorMessages:m})),!d&&t.fastFail)break}return o.value=u,s.value=!1,{valid:d,errors:o.value}}function l(){r.value.forEach(u=>u.reset())}function c(){r.value.forEach(u=>u.resetValidation())}return ge(r,()=>{let u=0,d=0;const h=[];for(const m of r.value)m.isValid===!1?(d++,h.push({id:m.id,errorMessages:m.errorMessages})):m.isValid===!0&&u++;o.value=h,e.value=d>0?!1:u===r.value.length?!0:null},{deep:!0}),Wt(Xx,{register:u=>{let{id:d,validate:h,reset:m,resetValidation:g}=u;r.value.some(p=>p.id===d),r.value.push({id:d,validate:h,reset:m,resetValidation:g,isValid:null,errorMessages:[]})},unregister:u=>{r.value=r.value.filter(d=>d.id!==u)},update:(u,d,h)=>{const m=r.value.find(g=>g.id===u);m&&(m.isValid=d,m.errorMessages=h)},isDisabled:n,isReadonly:i,isValidating:s,isValid:e,items:r,validateOn:Ae(t,"validateOn")}),{errors:o,isDisabled:n,isReadonly:i,isValidating:s,isValid:e,items:r,validate:a,reset:l,resetValidation:c}}function k_(){return st(Xx,null)}const l9=W({...Be(),...o9()},"VForm"),A_=ce()({name:"VForm",props:l9(),emits:{"update:modelValue":t=>!0,submit:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=a9(t),r=ae();function o(l){l.preventDefault(),s.reset()}function a(l){const c=l,u=s.validate();c.then=u.then.bind(u),c.catch=u.catch.bind(u),c.finally=u.finally.bind(u),i("submit",c),c.defaultPrevented||u.then(d=>{var m;let{valid:h}=d;h&&((m=r.value)==null||m.submit())}),c.preventDefault()}return be(()=>{var l;return f("form",{ref:r,class:["v-form",t.class],style:t.style,novalidate:!0,onReset:o,onSubmit:a},[(l=n.default)==null?void 0:l.call(n,s)])}),Ds(s,r)}});const c9=W({fluid:{type:Boolean,default:!1},...Be(),...St()},"VContainer"),ft=ce()({name:"VContainer",props:c9(),setup(t,e){let{slots:n}=e;const{rtlClasses:i}=ss();return be(()=>f(t.tag,{class:["v-container",{"v-container--fluid":t.fluid},i.value,t.class],style:t.style},n)),{}}}),Jx=(()=>kf.reduce((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t),{}))(),Zx=(()=>kf.reduce((t,e)=>{const n="offset"+ks(e);return t[n]={type:[String,Number],default:null},t},{}))(),eR=(()=>kf.reduce((t,e)=>{const n="order"+ks(e);return t[n]={type:[String,Number],default:null},t},{}))(),qE={col:Object.keys(Jx),offset:Object.keys(Zx),order:Object.keys(eR)};function u9(t,e,n){let i=t;if(!(n==null||n===!1)){if(e){const s=e.replace(t,"");i+=`-${s}`}return t==="col"&&(i="v-"+i),t==="col"&&(n===""||n===!0)||(i+=`-${n}`),i.toLowerCase()}}const d9=["auto","start","end","center","baseline","stretch"],h9=W({cols:{type:[Boolean,String,Number],default:!1},...Jx,offset:{type:[String,Number],default:null},...Zx,order:{type:[String,Number],default:null},...eR,alignSelf:{type:String,default:null,validator:t=>d9.includes(t)},...Be(),...St()},"VCol"),ut=ce()({name:"VCol",props:h9(),setup(t,e){let{slots:n}=e;const i=w(()=>{const s=[];let r;for(r in qE)qE[r].forEach(a=>{const l=t[a],c=u9(r,a,l);c&&s.push(c)});const o=s.some(a=>a.startsWith("v-col-"));return s.push({"v-col":!o||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),s});return()=>{var s;return Ji(t.tag,{class:[i.value,t.class],style:t.style},(s=n.default)==null?void 0:s.call(n))}}}),x_=["start","end","center"],tR=["space-between","space-around","space-evenly"];function R_(t,e){return kf.reduce((n,i)=>{const s=t+ks(i);return n[s]=e(),n},{})}const f9=[...x_,"baseline","stretch"],nR=t=>f9.includes(t),iR=R_("align",()=>({type:String,default:null,validator:nR})),m9=[...x_,...tR],sR=t=>m9.includes(t),rR=R_("justify",()=>({type:String,default:null,validator:sR})),g9=[...x_,...tR,"stretch"],oR=t=>g9.includes(t),aR=R_("alignContent",()=>({type:String,default:null,validator:oR})),WE={align:Object.keys(iR),justify:Object.keys(rR),alignContent:Object.keys(aR)},p9={align:"align",justify:"justify",alignContent:"align-content"};function v9(t,e,n){let i=p9[t];if(n!=null){if(e){const s=e.replace(t,"");i+=`-${s}`}return i+=`-${n}`,i.toLowerCase()}}const y9=W({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:nR},...iR,justify:{type:String,default:null,validator:sR},...rR,alignContent:{type:String,default:null,validator:oR},...aR,...Be(),...St()},"VRow"),Gn=ce()({name:"VRow",props:y9(),setup(t,e){let{slots:n}=e;const i=w(()=>{const s=[];let r;for(r in WE)WE[r].forEach(o=>{const a=t[o],l=v9(r,o,a);l&&s.push(l)});return s.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),s});return()=>{var s;return Ji(t.tag,{class:["v-row",i.value,t.class],style:t.style},(s=n.default)==null?void 0:s.call(n))}}}),xf=Ha("flex-grow-1","div","VSpacer");const _9=W({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Be(),...Ka({transition:{component:Ux}})},"VCounter"),P_=ce()({name:"VCounter",functional:!0,props:_9(),setup(t,e){let{slots:n}=e;const i=w(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return be(()=>f(fs,{transition:t.transition},{default:()=>[en(f("div",{class:["v-counter",t.class],style:t.style},[n.default?n.default({counter:i.value,max:t.max,value:t.value}):i.value]),[[po,t.active]])]})),{}}});const w9=W({text:String,clickable:Boolean,...Be(),...Tt()},"VLabel"),N_=ce()({name:"VLabel",props:w9(),setup(t,e){let{slots:n}=e;return be(()=>{var i;return f("label",{class:["v-label",{"v-label--clickable":t.clickable},t.class],style:t.style},[t.text,(i=n.default)==null?void 0:i.call(n)])}),{}}}),b9=W({floating:Boolean,...Be()},"VFieldLabel"),Ou=ce()({name:"VFieldLabel",props:b9(),setup(t,e){let{slots:n}=e;return be(()=>f(N_,{class:["v-field-label",{"v-field-label--floating":t.floating},t.class],style:t.style,"aria-hidden":t.floating||void 0},n)),{}}});function lR(t){const{t:e}=_o();function n(i){let{name:s}=i;const r={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[s],o=t[`onClick:${s}`],a=o&&r?e(`$vuetify.input.${r}`,t.label??""):void 0;return f(Ge,{icon:t[`${s}Icon`],"aria-label":a,onClick:o},null)}return{InputIcon:n}}const cR=W({focused:Boolean,"onUpdate:focused":zi()},"focus");function au(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rs();const n=rt(t,"focused"),i=w(()=>({[`${e}--focused`]:n.value}));function s(){n.value=!0}function r(){n.value=!1}return{focusClasses:i,isFocused:n,focus:s,blur:r}}const E9=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Rf=W({appendInnerIcon:tt,bgColor:String,clearable:Boolean,clearIcon:{type:tt,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:tt,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>E9.includes(t)},"onClick:clear":zi(),"onClick:appendInner":zi(),"onClick:prependInner":zi(),...Be(),...C_(),...Fn(),...Tt()},"VField"),Pf=ce()({name:"VField",inheritAttrs:!1,props:{id:String,...cR(),...Rf()},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{themeClasses:r}=Mt(t),{loaderClasses:o}=I_(t),{focusClasses:a,isFocused:l,focus:c,blur:u}=au(t),{InputIcon:d}=lR(t),{roundedClasses:h}=Vn(t),{rtlClasses:m}=ss(),g=w(()=>t.dirty||t.active),p=w(()=>!t.singleLine&&!!(t.label||s.label)),v=Jn(),E=w(()=>t.id||`input-${v}`),b=w(()=>`${E.value}-messages`),C=ae(),S=ae(),R=ae(),x=w(()=>["plain","underlined"].includes(t.variant)),{backgroundColorClasses:N,backgroundColorStyles:T}=Ki(Ae(t,"bgColor")),{textColorClasses:k,textColorStyles:L}=Wi(w(()=>t.error||t.disabled?void 0:g.value&&l.value?t.color:t.baseColor));ge(g,P=>{if(p.value){const $=C.value.$el,re=S.value.$el;requestAnimationFrame(()=>{const oe=f_($),se=re.getBoundingClientRect(),F=se.x-oe.x,G=se.y-oe.y-(oe.height/2-se.height/2),ue=se.width/.75,pe=Math.abs(ue-oe.width)>1?{maxWidth:Se(ue)}:void 0,De=getComputedStyle($),je=getComputedStyle(re),at=parseFloat(De.transitionDuration)*1e3||150,dt=parseFloat(je.getPropertyValue("--v-field-label-scale")),B=je.getPropertyValue("color");$.style.visibility="visible",re.style.visibility="hidden",Vo($,{transform:`translate(${F}px, ${G}px) scale(${dt})`,color:B,...pe},{duration:at,easing:Zd,direction:P?"normal":"reverse"}).finished.then(()=>{$.style.removeProperty("visibility"),re.style.removeProperty("visibility")})})}},{flush:"post"});const V=w(()=>({isActive:g,isFocused:l,controlRef:R,blur:u,focus:c}));function O(P){P.target!==document.activeElement&&P.preventDefault()}return be(()=>{var F,G,ue;const P=t.variant==="outlined",$=s["prepend-inner"]||t.prependInnerIcon,re=!!(t.clearable||s.clear),oe=!!(s["append-inner"]||t.appendInnerIcon||re),se=s.label?s.label({...V.value,label:t.label,props:{for:E.value}}):t.label;return f("div",ye({class:["v-field",{"v-field--active":g.value,"v-field--appended":oe,"v-field--center-affix":t.centerAffix??!x.value,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--flat":t.flat,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":$,"v-field--reverse":t.reverse,"v-field--single-line":t.singleLine,"v-field--no-label":!se,[`v-field--variant-${t.variant}`]:!0},r.value,N.value,a.value,o.value,h.value,m.value,t.class],style:[T.value,L.value,t.style],onClick:O},n),[f("div",{class:"v-field__overlay"},null),f(Sx,{name:"v-field",active:!!t.loading,color:t.error?"error":t.color},{default:s.loader}),$&&f("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&f(d,{key:"prepend-icon",name:"prependInner"},null),(F=s["prepend-inner"])==null?void 0:F.call(s,V.value)]),f("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(t.variant)&&p.value&&f(Ou,{key:"floating-label",ref:S,class:[k.value],floating:!0,for:E.value},{default:()=>[se]}),f(Ou,{ref:C,for:E.value},{default:()=>[se]}),(G=s.default)==null?void 0:G.call(s,{...V.value,props:{id:E.value,class:"v-field__input","aria-describedby":b.value},focus:c,blur:u})]),re&&f(zx,{key:"clear"},{default:()=>[en(f("div",{class:"v-field__clearable",onMousedown:pe=>{pe.preventDefault(),pe.stopPropagation()}},[s.clear?s.clear():f(d,{name:"clear"},null)]),[[po,t.dirty]])]}),oe&&f("div",{key:"append",class:"v-field__append-inner"},[(ue=s["append-inner"])==null?void 0:ue.call(s,V.value),t.appendInnerIcon&&f(d,{key:"append-icon",name:"appendInner"},null)]),f("div",{class:["v-field__outline",k.value]},[P&&f(Te,null,[f("div",{class:"v-field__outline__start"},null),p.value&&f("div",{class:"v-field__outline__notch"},[f(Ou,{ref:S,floating:!0,for:E.value},{default:()=>[se]})]),f("div",{class:"v-field__outline__end"},null)]),x.value&&p.value&&f(Ou,{ref:S,floating:!0,for:E.value},{default:()=>[se]})])])}),{controlRef:R}}});function D_(t){const e=Object.keys(Pf.props).filter(n=>!d_(n)&&n!=="class"&&n!=="style");return eu(t,e)}const C9=W({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Be(),...Ka({transition:{component:Ux,leaveAbsolute:!0,group:!0}})},"VMessages"),I9=ce()({name:"VMessages",props:C9(),setup(t,e){let{slots:n}=e;const i=w(()=>bi(t.messages)),{textColorClasses:s,textColorStyles:r}=Wi(w(()=>t.color));return be(()=>f(fs,{transition:t.transition,tag:"div",class:["v-messages",s.value,t.class],style:[r.value,t.style],role:"alert","aria-live":"polite"},{default:()=>[t.active&&i.value.map((o,a)=>f("div",{class:"v-messages__message",key:`${a}-${i.value}`},[n.message?n.message({message:o}):o]))]})),{}}}),S9=W({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...cR()},"validation");function T9(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rs(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Jn();const i=rt(t,"modelValue"),s=w(()=>t.validationValue===void 0?i.value:t.validationValue),r=k_(),o=ae([]),a=Ce(!0),l=w(()=>!!(bi(i.value===""?null:i.value).length||bi(s.value===""?null:s.value).length)),c=w(()=>!!(t.disabled??(r==null?void 0:r.isDisabled.value))),u=w(()=>!!(t.readonly??(r==null?void 0:r.isReadonly.value))),d=w(()=>t.errorMessages.length?bi(t.errorMessages).slice(0,Math.max(0,+t.maxErrors)):o.value),h=w(()=>{let S=(t.validateOn??(r==null?void 0:r.validateOn.value))||"input";S==="lazy"&&(S="input lazy");const R=new Set((S==null?void 0:S.split(" "))??[]);return{blur:R.has("blur")||R.has("input"),input:R.has("input"),submit:R.has("submit"),lazy:R.has("lazy")}}),m=w(()=>t.error||t.errorMessages.length?!1:t.rules.length?a.value?o.value.length||h.value.lazy?null:!0:!o.value.length:!0),g=Ce(!1),p=w(()=>({[`${e}--error`]:m.value===!1,[`${e}--dirty`]:l.value,[`${e}--disabled`]:c.value,[`${e}--readonly`]:u.value})),v=w(()=>t.name??cn(n));yf(()=>{r==null||r.register({id:v.value,validate:C,reset:E,resetValidation:b})}),Xn(()=>{r==null||r.unregister(v.value)}),ci(async()=>{h.value.lazy||await C(!0),r==null||r.update(v.value,m.value,d.value)}),ao(()=>h.value.input,()=>{ge(s,()=>{if(s.value!=null)C();else if(t.focused){const S=ge(()=>t.focused,R=>{R||C(),S()})}})}),ao(()=>h.value.blur,()=>{ge(()=>t.focused,S=>{S||C()})}),ge(m,()=>{r==null||r.update(v.value,m.value,d.value)});function E(){i.value=null,Ct(b)}function b(){a.value=!0,h.value.lazy?o.value=[]:C(!0)}async function C(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const R=[];g.value=!0;for(const x of t.rules){if(R.length>=+(t.maxErrors??1))break;const T=await(typeof x=="function"?x:()=>x)(s.value);if(T!==!0){if(typeof T!="string"){console.warn(`${T} is not a valid value. Rule functions must return boolean true or a string.`);continue}R.push(T)}}return o.value=R,g.value=!1,a.value=S,o.value}return{errorMessages:d,isDirty:l,isDisabled:c,isReadonly:u,isPristine:a,isValid:m,isValidating:g,reset:E,resetValidation:b,validate:C,validationClasses:p}}const Ga=W({id:String,appendIcon:tt,centerAffix:{type:Boolean,default:!0},prependIcon:tt,hideDetails:[Boolean,String],hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":zi(),"onClick:append":zi(),...Be(),...ts(),...S9()},"VInput"),Yi=ce()({name:"VInput",props:{...Ga()},emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i,emit:s}=e;const{densityClasses:r}=Ps(t),{rtlClasses:o}=ss(),{InputIcon:a}=lR(t),l=Jn(),c=w(()=>t.id||`input-${l}`),u=w(()=>`${c.value}-messages`),{errorMessages:d,isDirty:h,isDisabled:m,isReadonly:g,isPristine:p,isValid:v,isValidating:E,reset:b,resetValidation:C,validate:S,validationClasses:R}=T9(t,"v-input",c),x=w(()=>({id:c,messagesId:u,isDirty:h,isDisabled:m,isReadonly:g,isPristine:p,isValid:v,isValidating:E,reset:b,resetValidation:C,validate:S})),N=w(()=>{var T;return(T=t.errorMessages)!=null&&T.length||!p.value&&d.value.length?d.value:t.hint&&(t.persistentHint||t.focused)?t.hint:t.messages});return be(()=>{var O,P,$,re;const T=!!(i.prepend||t.prependIcon),k=!!(i.append||t.appendIcon),L=N.value.length>0,V=!t.hideDetails||t.hideDetails==="auto"&&(L||!!i.details);return f("div",{class:["v-input",`v-input--${t.direction}`,{"v-input--center-affix":t.centerAffix},r.value,o.value,R.value,t.class],style:t.style},[T&&f("div",{key:"prepend",class:"v-input__prepend"},[(O=i.prepend)==null?void 0:O.call(i,x.value),t.prependIcon&&f(a,{key:"prepend-icon",name:"prepend"},null)]),i.default&&f("div",{class:"v-input__control"},[(P=i.default)==null?void 0:P.call(i,x.value)]),k&&f("div",{key:"append",class:"v-input__append"},[t.appendIcon&&f(a,{key:"append-icon",name:"append"},null),($=i.append)==null?void 0:$.call(i,x.value)]),V&&f("div",{class:"v-input__details"},[f(I9,{id:u.value,active:L,messages:N.value},{message:i.message}),(re=i.details)==null?void 0:re.call(i,x.value)])])}),{reset:b,resetValidation:C,validate:S}}}),k9=["color","file","time","date","datetime-local","week","month"],O_=W({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,type:{type:String,default:"text"},modelModifiers:Object,...Ga(),...Rf()},"VTextField"),qt=ce()({name:"VTextField",directives:{Intersect:S_},inheritAttrs:!1,props:O_(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const r=rt(t,"modelValue"),{isFocused:o,focus:a,blur:l}=au(t),c=w(()=>typeof t.counterValue=="function"?t.counterValue(r.value):(r.value??"").toString().length),u=w(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),d=w(()=>["plain","underlined"].includes(t.variant));function h(x,N){var T,k;!t.autofocus||!x||(k=(T=N[0].target)==null?void 0:T.focus)==null||k.call(T)}const m=ae(),g=ae(),p=ae(),v=w(()=>k9.includes(t.type)||t.persistentPlaceholder||o.value||t.active);function E(){var x;p.value!==document.activeElement&&((x=p.value)==null||x.focus()),o.value||a()}function b(x){i("mousedown:control",x),x.target!==p.value&&(E(),x.preventDefault())}function C(x){E(),i("click:control",x)}function S(x){x.stopPropagation(),E(),Ct(()=>{r.value=null,h_(t["onClick:clear"],x)})}function R(x){var T;const N=x.target;if(r.value=N.value,(T=t.modelModifiers)!=null&&T.trim&&["text","search","password","tel","url"].includes(t.type)){const k=[N.selectionStart,N.selectionEnd];Ct(()=>{N.selectionStart=k[0],N.selectionEnd=k[1]})}}return be(()=>{const x=!!(s.counter||t.counter||t.counterValue),N=!!(x||s.details),[T,k]=za(n),[{modelValue:L,...V}]=Yi.filterProps(t),[O]=D_(t);return f(Yi,ye({ref:m,modelValue:r.value,"onUpdate:modelValue":P=>r.value=P,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-text-field--plain-underlined":["plain","underlined"].includes(t.variant)},t.class],style:t.style},T,V,{centerAffix:!d.value,focused:o.value}),{...s,default:P=>{let{id:$,isDisabled:re,isDirty:oe,isReadonly:se,isValid:F}=P;return f(Pf,ye({ref:g,onMousedown:b,onClick:C,"onClick:clear":S,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:"textbox"},O,{id:$.value,active:v.value||oe.value,dirty:oe.value||t.dirty,disabled:re.value,focused:o.value,error:F.value===!1}),{...s,default:G=>{let{props:{class:ue,...pe}}=G;const De=en(f("input",ye({ref:p,value:r.value,onInput:R,autofocus:t.autofocus,readonly:se.value,disabled:re.value,name:t.name,placeholder:t.placeholder,size:1,type:t.type,onFocus:E,onBlur:l},pe,k),null),[[Ti("intersect"),{handler:h},null,{once:!0}]]);return f(Te,null,[t.prefix&&f("span",{class:"v-text-field__prefix"},[t.prefix]),s.default?f("div",{class:ue,"data-no-activator":""},[s.default(),De]):Ss(De,{class:ue}),t.suffix&&f("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:N?P=>{var $;return f(Te,null,[($=s.details)==null?void 0:$.call(s,P),x&&f(Te,null,[f("span",null,null),f(P_,{active:t.persistentCounter||o.value,value:c.value,max:u.value},s.counter)])])}:void 0})}),Ds({},m,g,p)}});const A9=W({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseFloat(t))},maxRows:{type:[Number,String],validator:t=>!isNaN(parseFloat(t))},suffix:String,modelModifiers:Object,...Ga(),...Rf()},"VTextarea"),uR=ce()({name:"VTextarea",directives:{Intersect:S_},inheritAttrs:!1,props:A9(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const r=rt(t,"modelValue"),{isFocused:o,focus:a,blur:l}=au(t),c=w(()=>typeof t.counterValue=="function"?t.counterValue(r.value):(r.value||"").toString().length),u=w(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter});function d(V,O){var P,$;!t.autofocus||!V||($=(P=O[0].target)==null?void 0:P.focus)==null||$.call(P)}const h=ae(),m=ae(),g=Ce(""),p=ae(),v=w(()=>t.persistentPlaceholder||o.value||t.active);function E(){var V;p.value!==document.activeElement&&((V=p.value)==null||V.focus()),o.value||a()}function b(V){E(),i("click:control",V)}function C(V){i("mousedown:control",V)}function S(V){V.stopPropagation(),E(),Ct(()=>{r.value="",h_(t["onClick:clear"],V)})}function R(V){var P;const O=V.target;if(r.value=O.value,(P=t.modelModifiers)!=null&&P.trim){const $=[O.selectionStart,O.selectionEnd];Ct(()=>{O.selectionStart=$[0],O.selectionEnd=$[1]})}}const x=ae(),N=ae(+t.rows),T=w(()=>["plain","underlined"].includes(t.variant));Xi(()=>{t.autoGrow||(N.value=+t.rows)});function k(){t.autoGrow&&Ct(()=>{if(!x.value||!m.value)return;const V=getComputedStyle(x.value),O=getComputedStyle(m.value.$el),P=parseFloat(V.getPropertyValue("--v-field-padding-top"))+parseFloat(V.getPropertyValue("--v-input-padding-top"))+parseFloat(V.getPropertyValue("--v-field-padding-bottom")),$=x.value.scrollHeight,re=parseFloat(V.lineHeight),oe=Math.max(parseFloat(t.rows)*re+P,parseFloat(O.getPropertyValue("--v-input-control-height"))),se=parseFloat(t.maxRows)*re+P||1/0,F=Yd($??0,oe,se);N.value=Math.floor((F-P)/re),g.value=Se(F)})}ci(k),ge(r,k),ge(()=>t.rows,k),ge(()=>t.maxRows,k),ge(()=>t.density,k);let L;return ge(x,V=>{V?(L=new ResizeObserver(k),L.observe(x.value)):L==null||L.disconnect()}),Xn(()=>{L==null||L.disconnect()}),be(()=>{const V=!!(s.counter||t.counter||t.counterValue),O=!!(V||s.details),[P,$]=za(n),[{modelValue:re,...oe}]=Yi.filterProps(t),[se]=D_(t);return f(Yi,ye({ref:h,modelValue:r.value,"onUpdate:modelValue":F=>r.value=F,class:["v-textarea v-text-field",{"v-textarea--prefixed":t.prefix,"v-textarea--suffixed":t.suffix,"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-textarea--auto-grow":t.autoGrow,"v-textarea--no-resize":t.noResize||t.autoGrow,"v-text-field--plain-underlined":T.value},t.class],style:t.style},P,oe,{centerAffix:N.value===1&&!T.value,focused:o.value}),{...s,default:F=>{let{isDisabled:G,isDirty:ue,isReadonly:pe,isValid:De}=F;return f(Pf,ye({ref:m,style:{"--v-textarea-control-height":g.value},onClick:b,onMousedown:C,"onClick:clear":S,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:"textbox"},se,{active:v.value||ue.value,centerAffix:N.value===1&&!T.value,dirty:ue.value||t.dirty,disabled:G.value,focused:o.value,error:De.value===!1}),{...s,default:je=>{let{props:{class:at,...dt}}=je;return f(Te,null,[t.prefix&&f("span",{class:"v-text-field__prefix"},[t.prefix]),en(f("textarea",ye({ref:p,class:at,value:r.value,onInput:R,autofocus:t.autofocus,readonly:pe.value,disabled:G.value,placeholder:t.placeholder,rows:t.rows,name:t.name,onFocus:E,onBlur:l},dt,$),null),[[Ti("intersect"),{handler:d},null,{once:!0}]]),t.autoGrow&&en(f("textarea",{class:[at,"v-textarea__sizer"],"onUpdate:modelValue":B=>r.value=B,ref:x,readonly:!0,"aria-hidden":"true"},null),[[J6,r.value]]),t.suffix&&f("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:O?F=>{var G;return f(Te,null,[(G=s.details)==null?void 0:G.call(s,F),V&&f(Te,null,[f("span",null,null),f(P_,{active:t.persistentCounter||o.value,value:c.value,max:u.value},s.counter)])])}:void 0})}),Ds({},h,m,p)}}),x9={data(){return{dialog:!1,title:"",description:""}},methods:{showDialog(){this.dialog=!0},createQuiz(){const e=pr().currentUser;let n;this.createFirstSlide().then(i=>{n=i.id,console.log("first slide id"+i.id),Tg(tc(Nt,"quizzes"),{title:this.title,description:this.description,createdBy:e.uid,createdAt:KV(),slides:Kh(i.id)}).then(s=>{console.log("quiz doc id , ",s.id);const r=ln(Nt,"slides",n);ni(r,{quizId:s.id}).then(()=>{this.dialog=!1,this.$router.push("/eduquiz/create-quiz/"+s.id)})})})},async createFirstSlide(){return await Tg(tc(Nt,"slides"),{question:"Ttulo randmico",optA:"O homem",optB:"A tartaruga",optC:"O inseto",optD:"A lebre",countdownTime:20,scoreSystem:"default"})}}},R9=ke("p",{class:"mx-4 text-secondary font-weight-bold my-4"},"Ttulo",-1),P9=ke("p",{class:"mx-4 text-secondary font-weight-bold my-4"},"Descrio",-1);function N9(t,e,n,i,s,r){return ne(),he(Qx,{modelValue:s.dialog,"onUpdate:modelValue":e[3]||(e[3]=o=>s.dialog=o),persistent:"",style:{"max-width":"1024px"}},{default:y(()=>[f(qe,{flat:"",color:"#DBDCF1",class:"mx-auto rounded-lg"},{default:y(()=>[f(kt,{class:"text-secondary font-weight-bold my-4"},{default:y(()=>[q(" Digite as informaes bsicas do seu quiz ")]),_:1}),f(A_,{onSubmit:Fr(r.createQuiz,["prevent"])},{default:y(()=>[R9,f(qt,{class:"mx-4",variant:"outlined",modelValue:s.title,"onUpdate:modelValue":e[0]||(e[0]=o=>s.title=o),type:"text",label:"Informe o ttulo"},null,8,["modelValue"]),P9,f(uR,{class:"mx-4",variant:"outlined","repend-inner-icon":"mdi-comment",label:"Informe a descrio",modelValue:s.description,"onUpdate:modelValue":e[1]||(e[1]=o=>s.description=o)},null,8,["modelValue"]),f(Mn,null,{default:y(()=>[f(xf),f(me,{onClick:e[2]||(e[2]=o=>s.dialog=!1),variant:"outlined",color:"secondary"},{default:y(()=>[q(" fechar ")]),_:1}),f(me,{style:{"background-color":"#d37146",color:"white"},variant:"tonal",rounded:"xs",type:"submit"},{default:y(()=>[q(" Criar ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"])}const D9=Ot(x9,[["render",N9]]);const O9={props:{countdownTime:{type:Number,required:!0}}},M9={class:"countdown-timer"},L9={key:1,class:"countdown-complete"};function F9(t,e,n,i,s,r){return ne(),bn("div",M9,[n.countdownTime>0?(ne(),he(Ef,{key:0,size:80,width:10,value:n.countdownTime,color:"primary",indeterminate:""},{default:y(()=>[q(wt(n.countdownTime),1)]),_:1},8,["value"])):(ne(),bn("div",L9,"Fim!"))])}const M_=Ot(O9,[["render",F9],["__scopeId","data-v-9651b1b3"]]),dR="/eduquiz/imgs/ed_kit_6.png";const V9={components:{TheCountdownVue:M_},props:{slide:{type:Object,required:!0}},methods:{emitSlideChangeByUser(){this.$emit("slide-data-updated-by-user",this.slide)}},watch:{slide:{deep:!0,handler(){this.emitSlideChangeByUser()}}}},B9={class:"d-none d-md-block container"},U9={class:"pa-6 text-wrap"},$9={class:"pa-6 text-center text-wrap"},z9={class:"pa-6 text-center text-wrap text-white"},j9={class:"pa-6 text-center text-wrap"};function H9(t,e,n,i,s,r){const o=_i("TheCountdownVue");return ne(),he(ft,{class:"py-0"},{default:y(()=>[f(qe,{flat:"",color:"#F2F2FA",height:"800px",class:"w-100 rounded-drawer d-flex flex-column justify-space-between"},{default:y(()=>[f(kt,{class:"bg-primary text-center text-wrap"},{default:y(()=>[q(wt(n.slide.question),1)]),_:1}),n.slide.image?Ke("",!0):(ne(),he(qe,{key:0,color:"#DBDCF1",height:"300",class:"d-none d-md-block w-50 mx-auto elevation-3 text-center"},{default:y(()=>[f(ft,null,{default:y(()=>[f(Gi,{height:"340",src:dR})]),_:1})]),_:1})),ke("div",B9,[f(o,{countdownTime:n.slide.countdownTime,class:"example"},null,8,["countdownTime"])]),f(o,{countdownTime:n.slide.countdownTime,class:"mx-auto d-md-none"},null,8,["countdownTime"]),f(Mn,{class:"d-flex flex-column justify-end"},{default:y(()=>[f(xf),f(Gn,{class:"w-100"},{default:y(()=>[f(ut,{cols:"12",md:"6"},{default:y(()=>[f(me,{block:"",height:"150",variant:"outlined",rounded:"xl",size:"large",class:"bg-deep-purple-lighten-2 d-flex justify-start no-uppercase"},{default:y(()=>[f(Ge,{class:"ml-6",size:"50",color:"white"},{default:y(()=>[q("mdi-cards-club")]),_:1}),ke("div",U9,wt(n.slide.optA),1)]),_:1})]),_:1}),f(ut,{cols:"12",md:"6"},{default:y(()=>[f(me,{block:"",height:"150",variant:"outlined",rounded:"xl",size:"large",class:"bg-teal-lighten-2 d-flex justify-start no-uppercase"},{default:y(()=>[f(Ge,{class:"ml-6",size:"50",color:"white"},{default:y(()=>[q("mdi-cards-spade")]),_:1}),ke("div",$9,wt(n.slide.optB),1)]),_:1})]),_:1})]),_:1}),f(Gn,{class:"w-100"},{default:y(()=>[f(ut,{cols:"12",md:"6"},{default:y(()=>[f(me,{block:"",height:"150",variant:"outlined",rounded:"xl",size:"large",class:"bg-deep-orange-lighten-2 d-flex justify-start no-uppercase",style:{border:"0px solid #000"}},{default:y(()=>[f(Ge,{class:"ml-6",size:"50",color:"white"},{default:y(()=>[q("mdi-cards-heart")]),_:1}),ke("div",z9,wt(n.slide.optC),1)]),_:1})]),_:1}),f(ut,{cols:"12",md:"6"},{default:y(()=>[f(me,{block:"",height:"150",variant:"outlined",rounded:"xl",size:"large",class:"bg-pink-accent-1 d-flex justify-start no-uppercase"},{default:y(()=>[f(Ge,{class:"mr-auto ml-6",size:"50",color:"white"},{default:y(()=>[q("mdi-cards-diamond")]),_:1}),ke("div",j9,wt(n.slide.optD),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const q9=Ot(V9,[["render",H9],["__scopeId","data-v-7eeacfe1"]]);const W9=t=>{const{touchstartX:e,touchendX:n,touchstartY:i,touchendY:s}=t,r=.5,o=16;t.offsetX=n-e,t.offsetY=s-i,Math.abs(t.offsetY)<r*Math.abs(t.offsetX)&&(t.left&&n<e-o&&t.left(t),t.right&&n>e+o&&t.right(t)),Math.abs(t.offsetX)<r*Math.abs(t.offsetY)&&(t.up&&s<i-o&&t.up(t),t.down&&s>i+o&&t.down(t))};function K9(t,e){var i;const n=t.changedTouches[0];e.touchstartX=n.clientX,e.touchstartY=n.clientY,(i=e.start)==null||i.call(e,{originalEvent:t,...e})}function G9(t,e){var i;const n=t.changedTouches[0];e.touchendX=n.clientX,e.touchendY=n.clientY,(i=e.end)==null||i.call(e,{originalEvent:t,...e}),W9(e)}function Y9(t,e){var i;const n=t.changedTouches[0];e.touchmoveX=n.clientX,e.touchmoveY=n.clientY,(i=e.move)==null||i.call(e,{originalEvent:t,...e})}function Q9(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:n=>K9(n,e),touchend:n=>G9(n,e),touchmove:n=>Y9(n,e)}}function X9(t,e){var a;const n=e.value,i=n!=null&&n.parent?t.parentElement:t,s=(n==null?void 0:n.options)??{passive:!0},r=(a=e.instance)==null?void 0:a.$.uid;if(!i||!r)return;const o=Q9(e.value);i._touchHandlers=i._touchHandlers??Object.create(null),i._touchHandlers[r]=o,ix(o).forEach(l=>{i.addEventListener(l,o[l],s)})}function J9(t,e){var r,o;const n=(r=e.value)!=null&&r.parent?t.parentElement:t,i=(o=e.instance)==null?void 0:o.$.uid;if(!(n!=null&&n._touchHandlers)||!i)return;const s=n._touchHandlers[i];ix(s).forEach(a=>{n.removeEventListener(a,s[a])}),delete n._touchHandlers[i]}const hR={mounted:X9,unmounted:J9},Z9=hR,fR=Symbol.for("vuetify:v-window"),mR=Symbol.for("vuetify:v-window-group"),gR=W({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||t==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{default:"force"},...Be(),...St(),...Tt()},"VWindow"),e5=ce()({name:"VWindow",directives:{Touch:hR},props:gR(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=Mt(t),{isRtl:s}=ss(),{t:r}=_o(),o=b_(t,mR),a=ae(),l=w(()=>s.value?!t.reverse:t.reverse),c=Ce(!1),u=w(()=>{const S=t.direction==="vertical"?"y":"x",x=(l.value?!c.value:c.value)?"-reverse":"";return`v-window-${S}${x}-transition`}),d=Ce(0),h=ae(void 0),m=w(()=>o.items.value.findIndex(S=>o.selected.value.includes(S.id)));ge(m,(S,R)=>{const x=o.items.value.length,N=x-1;x<=2?c.value=S<R:S===N&&R===0?c.value=!0:S===0&&R===N?c.value=!1:c.value=S<R}),Wt(fR,{transition:u,isReversed:c,transitionCount:d,transitionHeight:h,rootRef:a});const g=w(()=>t.continuous||m.value!==0),p=w(()=>t.continuous||m.value!==o.items.value.length-1);function v(){g.value&&o.prev()}function E(){p.value&&o.next()}const b=w(()=>{const S=[],R={icon:s.value?t.nextIcon:t.prevIcon,class:`v-window__${l.value?"right":"left"}`,onClick:o.prev,ariaLabel:r("$vuetify.carousel.prev")};S.push(g.value?n.prev?n.prev({props:R}):f(me,R,null):f("div",null,null));const x={icon:s.value?t.prevIcon:t.nextIcon,class:`v-window__${l.value?"left":"right"}`,onClick:o.next,ariaLabel:r("$vuetify.carousel.next")};return S.push(p.value?n.next?n.next({props:x}):f(me,x,null):f("div",null,null)),S}),C=w(()=>t.touch===!1?t.touch:{...{left:()=>{l.value?v():E()},right:()=>{l.value?E():v()},start:R=>{let{originalEvent:x}=R;x.stopPropagation()}},...t.touch===!0?{}:t.touch});return be(()=>en(f(t.tag,{ref:a,class:["v-window",{"v-window--show-arrows-on-hover":t.showArrows==="hover"},i.value,t.class],style:t.style},{default:()=>{var S,R;return[f("div",{class:"v-window__container",style:{height:h.value}},[(S=n.default)==null?void 0:S.call(n,{group:o}),t.showArrows!==!1&&f("div",{class:"v-window__controls"},[b.value])]),(R=n.additional)==null?void 0:R.call(n,{group:o})]}}),[[Ti("touch"),C.value]])),{group:o}}}),t5=W({color:String,cycle:Boolean,delimiterIcon:{type:tt,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:t=>Number(t)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...gR({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),n5=ce()({name:"VCarousel",props:t5(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=rt(t,"modelValue"),{t:s}=_o(),r=ae();let o=-1;ge(i,l),ge(()=>t.interval,l),ge(()=>t.cycle,c=>{c?l():window.clearTimeout(o)}),ci(a);function a(){!t.cycle||!r.value||(o=window.setTimeout(r.value.group.next,+t.interval>0?+t.interval:6e3))}function l(){window.clearTimeout(o),window.requestAnimationFrame(a)}return be(()=>f(e5,{ref:r,modelValue:i.value,"onUpdate:modelValue":c=>i.value=c,class:["v-carousel",{"v-carousel--hide-delimiter-background":t.hideDelimiterBackground,"v-carousel--vertical-delimiters":t.verticalDelimiters},t.class],style:[{height:Se(t.height)},t.style],continuous:!0,mandatory:"force",showArrows:t.showArrows},{default:n.default,additional:c=>{let{group:u}=c;return f(Te,null,[!t.hideDelimiters&&f("div",{class:"v-carousel__controls",style:{left:t.verticalDelimiters==="left"&&t.verticalDelimiters?0:"auto",right:t.verticalDelimiters==="right"?0:"auto"}},[u.items.value.length>0&&f(At,{defaults:{VBtn:{color:t.color,icon:t.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[u.items.value.map((d,h)=>{const m={id:`carousel-item-${d.id}`,"aria-label":s("$vuetify.carousel.ariaLabel.delimiter",h+1,u.items.value.length),class:[u.isSelected(d.id)&&"v-btn--active"],onClick:()=>u.select(d.id,!0)};return n.item?n.item({props:m,item:d}):f(me,ye(d,m),null)})]})]),t.progress&&f(Ix,{class:"v-carousel__progress",color:typeof t.progress=="string"?t.progress:void 0,modelValue:(u.getItemIndex(i.value)+1)/u.items.value.length*100},null)])},prev:n.prev,next:n.next})),{}}});function Nf(){const t=Ce(!1);return ci(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:w(()=>t.value?void 0:{transition:"none !important"}),isBooted:Jc(t)}}const pR=W({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Be(),...__(),...Wx()},"VWindowItem"),KE=ce()({name:"VWindowItem",directives:{Touch:Z9},props:pR(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=st(fR),s=w_(t,mR),{isBooted:r}=Nf();if(!i||!s)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const o=Ce(!1),a=w(()=>r.value&&(i.isReversed.value?t.reverseTransition!==!1:t.transition!==!1));function l(){!o.value||!i||(o.value=!1,i.transitionCount.value>0&&(i.transitionCount.value-=1,i.transitionCount.value===0&&(i.transitionHeight.value=void 0)))}function c(){var g;o.value||!i||(o.value=!0,i.transitionCount.value===0&&(i.transitionHeight.value=Se((g=i.rootRef.value)==null?void 0:g.clientHeight)),i.transitionCount.value+=1)}function u(){l()}function d(g){o.value&&Ct(()=>{!a.value||!o.value||!i||(i.transitionHeight.value=Se(g.clientHeight))})}const h=w(()=>{const g=i.isReversed.value?t.reverseTransition:t.transition;return a.value?{name:typeof g!="string"?i.transition.value:g,onBeforeEnter:c,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:c,onAfterLeave:l,onLeaveCancelled:u,onEnter:d}:!1}),{hasContent:m}=Kx(t,s.isSelected);return be(()=>f(fs,{transition:h.value,disabled:!r.value},{default:()=>{var g;return[en(f("div",{class:["v-window-item",s.selectedClass.value,t.class],style:t.style},[m.value&&((g=n.default)==null?void 0:g.call(n))]),[[po,s.isSelected.value]])]}})),{}}}),i5=W({...Fx(),...pR()},"VCarouselItem"),s5=ce()({name:"VCarouselItem",inheritAttrs:!1,props:i5(),setup(t,e){let{slots:n,attrs:i}=e;be(()=>{const[s]=Gi.filterProps(t),[r]=KE.filterProps(t);return f(KE,ye({class:"v-carousel-item"},r),{default:()=>[f(Gi,ye(i,s),n)]})})}}),r5={components:{DefaultSlide:q9},data(){return{dialog:!1}},methods:{showDialog(){this.dialog=!0}}};function o5(t,e,n,i,s,r){const o=_i("DefaultSlide");return ne(),he(Qx,{modelValue:s.dialog,"onUpdate:modelValue":e[0]||(e[0]=a=>s.dialog=a),scrollable:"","max-height":"800"},{default:y(()=>[f(n5,{class:"h-100"},{default:y(()=>[(ne(!0),bn(Te,null,ga(t.$store.state.slides,a=>(ne(),he(s5,{key:a.slideId},{default:y(()=>[f(o,{slide:a},null,8,["slide"])]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"])}const a5=Ot(r5,[["render",o5]]);const bp=Symbol.for("vuetify:list");function vR(){const t=st(bp,{hasPrepend:Ce(!1),updateHasPrepend:()=>null}),e={hasPrepend:Ce(!1),updateHasPrepend:n=>{n&&(e.hasPrepend.value=n)}};return Wt(bp,e),t}function yR(){return st(bp,null)}const l5={open:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(n){const r=new Set;r.add(e);let o=s.get(e);for(;o!=null;)r.add(o),o=s.get(o);return r}else return i.delete(e),i},select:()=>null},_R={open:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(n){let r=s.get(e);for(i.add(e);r!=null&&r!==e;)i.add(r),r=s.get(r);return i}else i.delete(e);return i},select:()=>null},c5={open:_R.open,select:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(!n)return i;const r=[];let o=s.get(e);for(;o!=null;)r.push(o),o=s.get(o);return new Set(r)}},L_=t=>{const e={select:n=>{let{id:i,value:s,selected:r}=n;if(i=Fe(i),t&&!s){const o=Array.from(r.entries()).reduce((a,l)=>{let[c,u]=l;return u==="on"?[...a,c]:a},[]);if(o.length===1&&o[0]===i)return r}return r.set(i,s?"on":"off"),r},in:(n,i,s)=>{let r=new Map;for(const o of n||[])r=e.select({id:o,value:!0,selected:new Map(r),children:i,parents:s});return r},out:n=>{const i=[];for(const[s,r]of n.entries())r==="on"&&i.push(s);return i}};return e},wR=t=>{const e=L_(t);return{select:i=>{let{selected:s,id:r,...o}=i;r=Fe(r);const a=s.has(r)?new Map([[r,s.get(r)]]):new Map;return e.select({...o,id:r,selected:a})},in:(i,s,r)=>{let o=new Map;return i!=null&&i.length&&(o=e.in(i.slice(0,1),s,r)),o},out:(i,s,r)=>e.out(i,s,r)}},u5=t=>{const e=L_(t);return{select:i=>{let{id:s,selected:r,children:o,...a}=i;return s=Fe(s),o.has(s)?r:e.select({id:s,selected:r,children:o,...a})},in:e.in,out:e.out}},d5=t=>{const e=wR(t);return{select:i=>{let{id:s,selected:r,children:o,...a}=i;return s=Fe(s),o.has(s)?r:e.select({id:s,selected:r,children:o,...a})},in:e.in,out:e.out}},h5=t=>{const e={select:n=>{let{id:i,value:s,selected:r,children:o,parents:a}=n;i=Fe(i);const l=new Map(r),c=[i];for(;c.length;){const d=c.shift();r.set(d,s?"on":"off"),o.has(d)&&c.push(...o.get(d))}let u=a.get(i);for(;u;){const d=o.get(u),h=d.every(g=>r.get(g)==="on"),m=d.every(g=>!r.has(g)||r.get(g)==="off");r.set(u,h?"on":m?"off":"indeterminate"),u=a.get(u)}return t&&!s&&Array.from(r.entries()).reduce((h,m)=>{let[g,p]=m;return p==="on"?[...h,g]:h},[]).length===0?l:r},in:(n,i,s)=>{let r=new Map;for(const o of n||[])r=e.select({id:o,value:!0,selected:new Map(r),children:i,parents:s});return r},out:(n,i)=>{const s=[];for(const[r,o]of n.entries())o==="on"&&!i.has(r)&&s.push(r);return s}};return e},Ec=Symbol.for("vuetify:nested"),bR={id:Ce(),root:{register:()=>null,unregister:()=>null,parents:ae(new Map),children:ae(new Map),open:()=>null,openOnSelect:()=>null,select:()=>null,opened:ae(new Set),selected:ae(new Map),selectedValues:ae([])}},f5=W({selectStrategy:[String,Function],openStrategy:[String,Object],opened:Array,selected:Array,mandatory:Boolean},"nested"),m5=t=>{let e=!1;const n=ae(new Map),i=ae(new Map),s=rt(t,"opened",t.opened,d=>new Set(d),d=>[...d.values()]),r=w(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;switch(t.selectStrategy){case"single-leaf":return d5(t.mandatory);case"leaf":return u5(t.mandatory);case"independent":return L_(t.mandatory);case"single-independent":return wR(t.mandatory);case"classic":default:return h5(t.mandatory)}}),o=w(()=>{if(typeof t.openStrategy=="object")return t.openStrategy;switch(t.openStrategy){case"list":return c5;case"single":return l5;case"multiple":default:return _R}}),a=rt(t,"selected",t.selected,d=>r.value.in(d,n.value,i.value),d=>r.value.out(d,n.value,i.value));Xn(()=>{e=!0});function l(d){const h=[];let m=d;for(;m!=null;)h.unshift(m),m=i.value.get(m);return h}const c=Sn("nested"),u={id:Ce(),root:{opened:s,selected:a,selectedValues:w(()=>{const d=[];for(const[h,m]of a.value.entries())m==="on"&&d.push(h);return d}),register:(d,h,m)=>{h&&d!==h&&i.value.set(d,h),m&&n.value.set(d,[]),h!=null&&n.value.set(h,[...n.value.get(h)||[],d])},unregister:d=>{if(e)return;n.value.delete(d);const h=i.value.get(d);if(h){const m=n.value.get(h)??[];n.value.set(h,m.filter(g=>g!==d))}i.value.delete(d),s.value.delete(d)},open:(d,h,m)=>{c.emit("click:open",{id:d,value:h,path:l(d),event:m});const g=o.value.open({id:d,value:h,opened:new Set(s.value),children:n.value,parents:i.value,event:m});g&&(s.value=g)},openOnSelect:(d,h,m)=>{const g=o.value.select({id:d,value:h,selected:new Map(a.value),opened:new Set(s.value),children:n.value,parents:i.value,event:m});g&&(s.value=g)},select:(d,h,m)=>{c.emit("click:select",{id:d,value:h,path:l(d),event:m});const g=r.value.select({id:d,value:h,selected:new Map(a.value),children:n.value,parents:i.value,event:m});g&&(a.value=g),u.root.openOnSelect(d,h,m)},children:n,parents:i}};return Wt(Ec,u),u.root},ER=(t,e)=>{const n=st(Ec,bR),i=Symbol(Jn()),s=w(()=>t.value??i),r={...n,id:s,open:(o,a)=>n.root.open(s.value,o,a),openOnSelect:(o,a)=>n.root.openOnSelect(s.value,o,a),isOpen:w(()=>n.root.opened.value.has(s.value)),parent:w(()=>n.root.parents.value.get(s.value)),select:(o,a)=>n.root.select(s.value,o,a),isSelected:w(()=>n.root.selected.value.get(Fe(s.value))==="on"),isIndeterminate:w(()=>n.root.selected.value.get(s.value)==="indeterminate"),isLeaf:w(()=>!n.root.children.value.get(s.value)),isGroupActivator:n.isGroupActivator};return!n.isGroupActivator&&n.root.register(s.value,n.id.value,e),Xn(()=>{!n.isGroupActivator&&n.root.unregister(s.value)}),e&&Wt(Ec,r),r},g5=()=>{const t=st(Ec,bR);Wt(Ec,{...t,isGroupActivator:!0})},p5=ja({name:"VListGroupActivator",setup(t,e){let{slots:n}=e;return g5(),()=>{var i;return(i=n.default)==null?void 0:i.call(n)}}}),v5=W({activeColor:String,baseColor:String,color:String,collapseIcon:{type:tt,default:"$collapse"},expandIcon:{type:tt,default:"$expand"},prependIcon:tt,appendIcon:tt,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Be(),...St()},"VListGroup"),GE=ce()({name:"VListGroup",props:v5(),setup(t,e){let{slots:n}=e;const{isOpen:i,open:s,id:r}=ER(Ae(t,"value"),!0),o=w(()=>`v-list-group--id-${String(r.value)}`),a=yR(),{isBooted:l}=Nf();function c(m){s(!i.value,m)}const u=w(()=>({onClick:c,class:"v-list-group__header",id:o.value})),d=w(()=>i.value?t.collapseIcon:t.expandIcon),h=w(()=>({VListItem:{active:i.value,activeColor:t.activeColor,baseColor:t.baseColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&d.value,appendIcon:t.appendIcon||!t.subgroup&&d.value,title:t.title,value:t.value}}));return be(()=>f(t.tag,{class:["v-list-group",{"v-list-group--prepend":a==null?void 0:a.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup,"v-list-group--open":i.value},t.class],style:t.style},{default:()=>[n.activator&&f(At,{defaults:h.value},{default:()=>[f(p5,null,{default:()=>[n.activator({props:u.value,isOpen:i.value})]})]}),f(fs,{transition:{component:$x},disabled:!l.value},{default:()=>{var m;return[en(f("div",{class:"v-list-group__items",role:"group","aria-labelledby":o.value},[(m=n.default)==null?void 0:m.call(n)]),[[po,i.value]])]}})]})),{}}});const y5=Ha("v-list-item-subtitle"),Zu=Ha("v-list-item-title"),_5=W({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:tt,baseColor:String,disabled:Boolean,lines:String,link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:tt,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number,Boolean],title:[String,Number,Boolean],value:null,onClick:zi(),onClickOnce:zi(),...Zi(),...Be(),...ts(),...vo(),...ns(),...Fn(),...Tf(),...St(),...Tt(),...Ns({variant:"text"})},"VListItem"),zn=ce()({name:"VListItem",directives:{Ripple:ru},props:_5(),emits:{click:t=>!0},setup(t,e){let{attrs:n,slots:i,emit:s}=e;const r=Sf(t,n),o=w(()=>t.value??r.href.value),{select:a,isSelected:l,isIndeterminate:c,isGroupActivator:u,root:d,parent:h,openOnSelect:m}=ER(o,!1),g=yR(),p=w(()=>{var F;return t.active!==!1&&(t.active||((F=r.isActive)==null?void 0:F.value)||l.value)}),v=w(()=>t.link!==!1&&r.isLink.value),E=w(()=>!t.disabled&&t.link!==!1&&(t.link||r.isClickable.value||t.value!=null&&!!g)),b=w(()=>t.rounded||t.nav),C=w(()=>t.color??t.activeColor),S=w(()=>({color:p.value?C.value??t.baseColor:t.baseColor,variant:t.variant}));ge(()=>{var F;return(F=r.isActive)==null?void 0:F.value},F=>{F&&h.value!=null&&d.open(h.value,!0),F&&m(F)},{immediate:!0});const{themeClasses:R}=Mt(t),{borderClasses:x}=es(t),{colorClasses:N,colorStyles:T,variantClasses:k}=Wa(S),{densityClasses:L}=Ps(t),{dimensionStyles:V}=yo(t),{elevationClasses:O}=is(t),{roundedClasses:P}=Vn(b),$=w(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),re=w(()=>({isActive:p.value,select:a,isSelected:l.value,isIndeterminate:c.value}));function oe(F){var G;s("click",F),!(u||!E.value)&&((G=r.navigate)==null||G.call(r,F),t.value!=null&&a(!l.value,F))}function se(F){(F.key==="Enter"||F.key===" ")&&(F.preventDefault(),oe(F))}return be(()=>{const F=v.value?"a":t.tag,G=i.title||t.title,ue=i.subtitle||t.subtitle,pe=!!(t.appendAvatar||t.appendIcon),De=!!(pe||i.append),je=!!(t.prependAvatar||t.prependIcon),at=!!(je||i.prepend);return g==null||g.updateHasPrepend(at),t.activeColor&&pq("active-color",["color","base-color"]),en(f(F,{class:["v-list-item",{"v-list-item--active":p.value,"v-list-item--disabled":t.disabled,"v-list-item--link":E.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!at&&(g==null?void 0:g.hasPrepend.value),[`${t.activeClass}`]:t.activeClass&&p.value},R.value,x.value,N.value,L.value,O.value,$.value,P.value,k.value,t.class],style:[T.value,V.value,t.style],href:r.href.value,tabindex:E.value?g?-2:0:void 0,onClick:oe,onKeydown:E.value&&!v.value&&se},{default:()=>{var dt;return[qa(E.value||p.value,"v-list-item"),at&&f("div",{key:"prepend",class:"v-list-item__prepend"},[i.prepend?f(At,{key:"prepend-defaults",disabled:!je,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var B;return[(B=i.prepend)==null?void 0:B.call(i,re.value)]}}):f(Te,null,[t.prependAvatar&&f(gs,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&f(Ge,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)])]),f("div",{class:"v-list-item__content","data-no-activator":""},[G&&f(Zu,{key:"title"},{default:()=>{var B;return[((B=i.title)==null?void 0:B.call(i,{title:t.title}))??t.title]}}),ue&&f(y5,{key:"subtitle"},{default:()=>{var B;return[((B=i.subtitle)==null?void 0:B.call(i,{subtitle:t.subtitle}))??t.subtitle]}}),(dt=i.default)==null?void 0:dt.call(i,re.value)]),De&&f("div",{key:"append",class:"v-list-item__append"},[i.append?f(At,{key:"append-defaults",disabled:!pe,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var B;return[(B=i.append)==null?void 0:B.call(i,re.value)]}}):f(Te,null,[t.appendIcon&&f(Ge,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&f(gs,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)])])]}}),[[Ti("ripple"),E.value&&t.ripple]])}),{}}}),w5=W({color:String,inset:Boolean,sticky:Boolean,title:String,...Be(),...St()},"VListSubheader"),b5=ce()({name:"VListSubheader",props:w5(),setup(t,e){let{slots:n}=e;const{textColorClasses:i,textColorStyles:s}=Wi(Ae(t,"color"));return be(()=>{const r=!!(n.default||t.title);return f(t.tag,{class:["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},i.value,t.class],style:[{textColorStyles:s},t.style]},{default:()=>{var o;return[r&&f("div",{class:"v-list-subheader__text"},[((o=n.default)==null?void 0:o.call(n))??t.title])]}})}),{}}});const E5=W({color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...Be(),...Tt()},"VDivider"),_a=ce()({name:"VDivider",props:E5(),setup(t,e){let{attrs:n}=e;const{themeClasses:i}=Mt(t),{textColorClasses:s,textColorStyles:r}=Wi(Ae(t,"color")),o=w(()=>{const a={};return t.length&&(a[t.vertical?"maxHeight":"maxWidth"]=Se(t.length)),t.thickness&&(a[t.vertical?"borderRightWidth":"borderTopWidth"]=Se(t.thickness)),a});return be(()=>f("hr",{class:[{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},i.value,s.value,t.class],style:[o.value,r.value,t.style],"aria-orientation":!n.role||n.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null)),{}}}),C5=W({items:Array},"VListChildren"),CR=ce()({name:"VListChildren",props:C5(),setup(t,e){let{slots:n}=e;return vR(),()=>{var i,s;return((i=n.default)==null?void 0:i.call(n))??((s=t.items)==null?void 0:s.map(r=>{var m,g;let{children:o,props:a,type:l,raw:c}=r;if(l==="divider")return((m=n.divider)==null?void 0:m.call(n,{props:a}))??f(_a,a,null);if(l==="subheader")return((g=n.subheader)==null?void 0:g.call(n,{props:a}))??f(b5,a,null);const u={subtitle:n.subtitle?p=>{var v;return(v=n.subtitle)==null?void 0:v.call(n,{...p,item:c})}:void 0,prepend:n.prepend?p=>{var v;return(v=n.prepend)==null?void 0:v.call(n,{...p,item:c})}:void 0,append:n.append?p=>{var v;return(v=n.append)==null?void 0:v.call(n,{...p,item:c})}:void 0,title:n.title?p=>{var v;return(v=n.title)==null?void 0:v.call(n,{...p,item:c})}:void 0},[d,h]=GE.filterProps(a);return o?f(GE,ye({value:a==null?void 0:a.value},d),{activator:p=>{let{props:v}=p;return n.header?n.header({props:{...a,...v}}):f(zn,ye(a,v),u)},default:()=>f(CR,{items:o},n)}):n.item?n.item({props:a}):f(zn,a,u)}))}}}),IR=W({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean},"list-items");function SR(t,e){const n=Mi(e,t.itemTitle,e),i=t.returnObject?e:Mi(e,t.itemValue,n),s=Mi(e,t.itemChildren),r=t.itemProps===!0?typeof e=="object"&&e!=null&&!Array.isArray(e)?"children"in e?eu(e,["children"])[1]:e:void 0:Mi(e,t.itemProps),o={title:n,value:i,...r};return{title:String(o.title??""),value:o.value,props:o,children:Array.isArray(s)?TR(t,s):void 0,raw:e}}function TR(t,e){const n=[];for(const i of e)n.push(SR(t,i));return n}function kR(t){const e=w(()=>TR(t,t.items));return I5(e,n=>SR(t,n))}function I5(t,e){function n(s){return s.map(r=>t.value.find(a=>Ua(r,a.value))??e(r))}function i(s){return s.map(r=>{let{value:o}=r;return o})}return{items:t,transformIn:n,transformOut:i}}function S5(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"}function T5(t,e){const n=Mi(e,t.itemType,"item"),i=S5(e)?e:Mi(e,t.itemTitle),s=Mi(e,t.itemValue,void 0),r=Mi(e,t.itemChildren),o=t.itemProps===!0?eu(e,["children"])[1]:Mi(e,t.itemProps),a={title:i,value:s,...o};return{type:n,title:a.title,value:a.value,props:a,children:n==="item"&&r?AR(t,r):void 0,raw:e}}function AR(t,e){const n=[];for(const i of e)n.push(T5(t,i));return n}function k5(t){return{items:w(()=>AR(t,t.items))}}const A5=W({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,lines:{type:[Boolean,String],default:"one"},nav:Boolean,...f5({selectStrategy:"single-leaf",openStrategy:"list"}),...Zi(),...Be(),...ts(),...vo(),...ns(),itemType:{type:String,default:"type"},...IR(),...Fn(),...St(),...Tt(),...Ns({variant:"text"})},"VList"),ps=ce()({name:"VList",props:A5(),emits:{"update:selected":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:select":t=>!0},setup(t,e){let{slots:n}=e;const{items:i}=k5(t),{themeClasses:s}=Mt(t),{backgroundColorClasses:r,backgroundColorStyles:o}=Ki(Ae(t,"bgColor")),{borderClasses:a}=es(t),{densityClasses:l}=Ps(t),{dimensionStyles:c}=yo(t),{elevationClasses:u}=is(t),{roundedClasses:d}=Vn(t),{open:h,select:m}=m5(t),g=w(()=>t.lines?`v-list--${t.lines}-line`:void 0),p=Ae(t,"activeColor"),v=Ae(t,"baseColor"),E=Ae(t,"color");vR(),xs({VListGroup:{activeColor:p,baseColor:v,color:E},VListItem:{activeClass:Ae(t,"activeClass"),activeColor:p,baseColor:v,color:E,density:Ae(t,"density"),disabled:Ae(t,"disabled"),lines:Ae(t,"lines"),nav:Ae(t,"nav"),variant:Ae(t,"variant")}});const b=Ce(!1),C=ae();function S(k){b.value=!0}function R(k){b.value=!1}function x(k){var L;!b.value&&!(k.relatedTarget&&((L=C.value)!=null&&L.contains(k.relatedTarget)))&&T()}function N(k){if(C.value){if(k.key==="ArrowDown")T("next");else if(k.key==="ArrowUp")T("prev");else if(k.key==="Home")T("first");else if(k.key==="End")T("last");else return;k.preventDefault()}}function T(k){if(C.value)return Xd(C.value,k)}return be(()=>f(t.tag,{ref:C,class:["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav},s.value,r.value,a.value,l.value,u.value,g.value,d.value,t.class],style:[o.value,c.value,t.style],tabindex:t.disabled||b.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:S,onFocusout:R,onFocus:x,onKeydown:N},{default:()=>[f(CR,{items:i.value},n)]})),{open:h,select:m,focus:T}}});const x5=W({id:String,...$a(Af({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:T_}}),["absolute"])},"VMenu"),Df=ce()({name:"VMenu",props:x5(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=rt(t,"modelValue"),{scopeId:s}=ou(),r=Jn(),o=w(()=>t.id||`v-menu-${r}`),a=ae(),l=st(_p,null),c=Ce(0);Wt(_p,{register(){++c.value},unregister(){--c.value},closeParents(){setTimeout(()=>{c.value||(i.value=!1,l==null||l.closeParents())},40)}}),ge(i,g=>{g?l==null||l.register():l==null||l.unregister()});function u(){l==null||l.closeParents()}function d(g){var p,v;t.disabled||g.key==="Tab"&&(i.value=!1,(v=(p=a.value)==null?void 0:p.activatorEl)==null||v.focus())}function h(g){var v;if(t.disabled)return;const p=(v=a.value)==null?void 0:v.contentEl;p&&i.value?g.key==="ArrowDown"?(g.preventDefault(),Xd(p,"next")):g.key==="ArrowUp"&&(g.preventDefault(),Xd(p,"prev")):["ArrowDown","ArrowUp"].includes(g.key)&&(i.value=!0,g.preventDefault(),setTimeout(()=>setTimeout(()=>h(g))))}const m=w(()=>ye({"aria-haspopup":"menu","aria-expanded":String(i.value),"aria-owns":o.value,onKeydown:h},t.activatorProps));return be(()=>{const[g]=ya.filterProps(t);return f(ya,ye({ref:a,class:["v-menu",t.class],style:t.style},g,{modelValue:i.value,"onUpdate:modelValue":p=>i.value=p,absolute:!0,activatorProps:m.value,"onClick:outside":u,onKeydown:d},s),{activator:n.activator,default:function(){for(var p=arguments.length,v=new Array(p),E=0;E<p;E++)v[E]=arguments[E];return f(At,{root:"VMenu"},{default:()=>{var b;return[(b=n.default)==null?void 0:b.call(n,...v)]}})}})}),Ds({id:o,openChildren:c},a)}});const R5=W({multiLine:Boolean,timeout:{type:[Number,String],default:5e3},vertical:Boolean,...iu({location:"bottom"}),...Cf(),...Fn(),...Ns(),...Tt(),...$a(Af({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),xR=ce()({name:"VSnackbar",props:R5(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=rt(t,"modelValue"),{locationStyles:s}=su(t),{positionClasses:r}=If(t),{scopeId:o}=ou(),{themeClasses:a}=Mt(t),{colorClasses:l,colorStyles:c,variantClasses:u}=Wa(t),{roundedClasses:d}=Vn(t),h=ae();ge(i,g),ge(()=>t.timeout,g),ci(()=>{i.value&&g()});let m=-1;function g(){window.clearTimeout(m);const v=Number(t.timeout);!i.value||v===-1||(m=window.setTimeout(()=>{i.value=!1},v))}function p(){window.clearTimeout(m)}return be(()=>{const[v]=ya.filterProps(t);return f(ya,ye({ref:h,class:["v-snackbar",{"v-snackbar--active":i.value,"v-snackbar--multi-line":t.multiLine&&!t.vertical,"v-snackbar--vertical":t.vertical},r.value,t.class],style:t.style},v,{modelValue:i.value,"onUpdate:modelValue":E=>i.value=E,contentProps:ye({class:["v-snackbar__wrapper",a.value,l.value,d.value,u.value],style:[s.value,c.value],onPointerenter:p,onPointerleave:g},v.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},o),{default:()=>[qa(!1,"v-snackbar"),n.default&&f("div",{class:"v-snackbar__content",role:"status","aria-live":"polite"},[n.default()]),n.actions&&f(At,{defaults:{VBtn:{variant:"text",ripple:!1}}},{default:()=>[f("div",{class:"v-snackbar__actions"},[n.actions()])]})],activator:n.activator})}),Ds({},h)}});const P5=W({text:String,...Be(),...St()},"VToolbarTitle"),F_=ce()({name:"VToolbarTitle",props:P5(),setup(t,e){let{slots:n}=e;return be(()=>{const i=!!(n.default||n.text||t.text);return f(t.tag,{class:["v-toolbar-title",t.class],style:t.style},{default:()=>{var s;return[i&&f("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():t.text,(s=n.default)==null?void 0:s.call(n)])]}})}),{}}}),N5=[null,"prominent","default","comfortable","compact"],D5=W({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>N5.includes(t)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Zi(),...Be(),...ns(),...Fn(),...St({tag:"header"}),...Tt()},"VToolbar"),O5=ce()({name:"VToolbar",props:D5(),setup(t,e){var m;let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=Ki(Ae(t,"color")),{borderClasses:r}=es(t),{elevationClasses:o}=is(t),{roundedClasses:a}=Vn(t),{themeClasses:l}=Mt(t),{rtlClasses:c}=ss(),u=Ce(!!(t.extended||(m=n.extension)!=null&&m.call(n))),d=w(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),h=w(()=>u.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return xs({VBtn:{variant:"text"}}),be(()=>{var E;const g=!!(t.title||n.title),p=!!(n.image||t.image),v=(E=n.extension)==null?void 0:E.call(n);return u.value=!!(t.extended||v),f(t.tag,{class:["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},i.value,r.value,o.value,a.value,l.value,c.value,t.class],style:[s.value,t.style]},{default:()=>[p&&f("div",{key:"image",class:"v-toolbar__image"},[n.image?f(At,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},n.image):f(Gi,{key:"image-img",cover:!0,src:t.image},null)]),f(At,{defaults:{VTabs:{height:Se(d.value)}}},{default:()=>{var b,C,S;return[f("div",{class:"v-toolbar__content",style:{height:Se(d.value)}},[n.prepend&&f("div",{class:"v-toolbar__prepend"},[(b=n.prepend)==null?void 0:b.call(n)]),g&&f(F_,{key:"title",text:t.title},{text:n.title}),(C=n.default)==null?void 0:C.call(n),n.append&&f("div",{class:"v-toolbar__append"},[(S=n.append)==null?void 0:S.call(n)])])]}}),f(At,{defaults:{VTabs:{height:Se(h.value)}}},{default:()=>[f($x,null,{default:()=>[u.value&&f("div",{class:"v-toolbar__extension",style:{height:Se(h.value)}},[v])]})]})]})}),{contentHeight:d,extensionHeight:h}}}),M5={components:{CreateDialog:D9,ViewQuizDialog:a5},provide(){return{quizCreationDialogOpen:this.quizCreationDialogOpen}},props:["isLoggedIn"],data(){return{snackbar:!1,snackbarText:"",quizCreationDialogOpen:!1}},methods:{handleSignOut(){const t=pr();ND(t).then(()=>{this.$router.push("/eduquiz")})},createQuiz(){this.$refs.createDialog.showDialog()},openPresentation(){this.$refs.viewDialog.showDialog()},async saveSlides(){debugger;const t=this.$store.state.slides,e=[];await this.saveImages(t);for(const i of t){if(!this.validateSlide(i))return;let s=ln(Nt,"slides",i.slideId);await zT(s,i,{merge:!0}),e.push(i.slideId)}const n=ln(Nt,"quizzes",t[0].quizId);await ni(n,{slides:Kh(...e)},{merge:!0}),this.$store.state.unsaved=!1},async saveImages(){const t=hk();for(const e of this.$store.state.slides){const n=C4(t,"images/"+e.slideId);await E4(n,e.image).then(i=>{debugger;console.log("Uploaded a blob or file!"),console.log(i)})}},validateSlide(t){if(t.scoreSystem===void 0||t.scoreSystem==="")this.snackbarText="Por favor, verifique os slides. O sistema de pontuao est ausente.";else if(t.rightOpt===void 0||t.rightOpt==="")this.snackbarText="Por favor, verifique os slides. A resposta correta est ausente.";else if(t.question===void 0||t.question==="")this.snackbarText="Por favor, verifique os slides. A pergunta est ausente.";else if(t.slideId===void 0||t.slideId==="")this.snackbarText="Por favor, verifique os slides. O ID do slide est ausente.";else if(t.quizId===void 0||t.quizId==="")this.snackbarText="Por favor, verifique os slides. O ID do quiz est ausente.";else return!0;return this.snackbar=!0,!1}}},L5={class:"d-none d-md-flex ml-n5"},F5=ke("div",{class:"mx-16"},null,-1),V5={class:"d-md-none"},B5={key:0},U5={key:1};function $5(t,e,n,i,s,r){const o=_i("create-dialog"),a=_i("view-quiz-dialog");return ne(),bn(Te,null,[f(o,{ref:"createDialog"},null,512),f(a,{ref:"viewDialog"},null,512),f(O5,{flat:"",color:"white",class:"text-primary"},{default:y(()=>[f(F_,null,{default:y(()=>[f(Df,{class:"d-md-none","open-on-click":""},{activator:y(({props:l})=>[f(me,ye({color:"primary",class:"font-weight-black text-h4",width:"135px"},l,{to:"/eduquiz/"}),{default:y(()=>[q(" Eduquiz ")]),_:2},1040)]),default:y(()=>[f(ps,null,{default:y(()=>[n.isLoggedIn&&!t.$store.state.creationMode?(ne(),he(me,{key:0,block:"",class:"no-uppercase font-weight-bold",variant:"text",onClick:r.createQuiz},{default:y(()=>[q(" criar quiz ")]),_:1},8,["onClick"])):Ke("",!0),n.isLoggedIn?(ne(),he(me,{key:1,class:"no-uppercase font-weight-bold",variant:"text",to:"/eduquiz/my-quizzes"},{default:y(()=>[q(" meus quizzes ")]),_:1})):Ke("",!0),f(me,{block:"",class:"no-uppercase font-weight-bold",variant:"text",href:"https://github.com/MinhaTu/eduquiz",target:"_blank"},{default:y(()=>[q(" contato ")]),_:1}),f(me,{block:"",class:"no-uppercase font-weight-bold",variant:"text","append-icon":"mdi-menu-down",to:"/eduquiz/public-rooms"},{default:y(()=>[q(" salas ")]),_:1})]),_:1})]),_:1})]),_:1}),ke("div",L5,[f(me,{class:"no-uppercase font-weight-bold",variant:"text",href:"https://github.com/MinhaTu/eduquiz",target:"_blank"},{default:y(()=>[q(" contato ")]),_:1}),f(me,{class:"no-uppercase font-weight-bold",variant:"text","append-icon":"mdi-menu-down",to:"/eduquiz/public-rooms"},{default:y(()=>[q(" salas ")]),_:1}),F5,n.isLoggedIn?Ke("",!0):(ne(),he(me,{key:0,class:"no-uppercase font-weight-bold",to:"/eduquiz/login"},{default:y(()=>[q(" entrar ")]),_:1})),n.isLoggedIn?Ke("",!0):(ne(),he(me,{key:1,rounded:"",class:"no-uppercase mx-1",style:{"background-color":"#d37146",color:"white"},to:"/eduquiz/register"},{default:y(()=>[q(" criar conta ")]),_:1})),n.isLoggedIn?(ne(),he(me,{key:2,class:"no-uppercase font-weight-bold",variant:"text",to:"/eduquiz/my-quizzes"},{default:y(()=>[q(" meus quizzes ")]),_:1})):Ke("",!0),t.$store.state.unsaved&&t.$store.state.creationMode?(ne(),he(Ge,{key:3,class:"unsaved-icon",color:"red"},{default:y(()=>[q(" mdi-alert-octagram-outline ")]),_:1})):Ke("",!0),n.isLoggedIn&&t.$store.state.creationMode?(ne(),he(me,{key:4,rounded:"",class:"mx-1 no-uppercase",style:{"background-color":"#d37146",color:"white"},onClick:r.saveSlides},{default:y(()=>[q(" salvar ")]),_:1},8,["onClick"])):Ke("",!0),n.isLoggedIn&&t.$store.state.creationMode?(ne(),he(me,{key:5,rounded:"",variant:"outlined",class:"ml-1 mr-16 no-uppercase",onClick:r.openPresentation},{default:y(()=>[q(" visualizar ")]),_:1},8,["onClick"])):Ke("",!0),n.isLoggedIn&&!t.$store.state.creationMode?(ne(),he(me,{key:6,class:"no-uppercase font-weight-bold",variant:"text",onClick:r.createQuiz},{default:y(()=>[q(" criar quiz ")]),_:1},8,["onClick"])):Ke("",!0),n.isLoggedIn?(ne(),he(me,{key:7,rounded:"",class:"no-uppercase",style:{"background-color":"#d37146",color:"white"}},{default:y(()=>[q(" perfil ")]),_:1})):Ke("",!0),n.isLoggedIn?(ne(),he(me,{key:8,class:"no-uppercase font-weight-bold",onClick:r.handleSignOut},{default:y(()=>[q(" sair ")]),_:1},8,["onClick"])):Ke("",!0)]),ke("div",V5,[t.$store.state.creationMode?(ne(),bn("div",U5,[t.$store.state.unsaved&&t.$store.state.creationMode?(ne(),he(Ge,{key:0,class:"unsaved-icon",color:"red"},{default:y(()=>[q(" mdi-alert-octagram-outline ")]),_:1})):Ke("",!0),n.isLoggedIn&&t.$store.state.creationMode?(ne(),he(me,{key:1,rounded:"",class:"mx-1 no-uppercase",style:{"background-color":"#d37146",color:"white"},onClick:r.saveSlides},{default:y(()=>[q(" salvar ")]),_:1},8,["onClick"])):Ke("",!0),n.isLoggedIn&&t.$store.state.creationMode?(ne(),he(me,{key:2,rounded:"",variant:"outlined",class:"ml-1 no-uppercase",onClick:r.openPresentation},{default:y(()=>[q(" visualizar ")]),_:1},8,["onClick"])):Ke("",!0)])):(ne(),bn("div",B5,[n.isLoggedIn?(ne(),he(me,{key:0,rounded:"",class:"no-uppercase",style:{"background-color":"#d37146",color:"white"}},{default:y(()=>[q(" perfil ")]),_:1})):Ke("",!0),n.isLoggedIn?(ne(),he(me,{key:1,class:"no-uppercase font-weight-bold",onClick:r.handleSignOut},{default:y(()=>[q(" sair ")]),_:1},8,["onClick"])):Ke("",!0),n.isLoggedIn?Ke("",!0):(ne(),he(me,{key:2,class:"no-uppercase font-weight-bold",to:"/eduquiz/login"},{default:y(()=>[q(" entrar ")]),_:1})),n.isLoggedIn?Ke("",!0):(ne(),he(me,{key:3,rounded:"",class:"no-uppercase mx-1",style:{"background-color":"#d37146",color:"white"},to:"/eduquiz/register"},{default:y(()=>[q(" criar conta ")]),_:1}))]))])]),_:1}),f(xR,{modelValue:s.snackbar,"onUpdate:modelValue":e[1]||(e[1]=l=>s.snackbar=l),"multi-line":""},{actions:y(()=>[f(me,{color:"red",variant:"text",onClick:e[0]||(e[0]=l=>s.snackbar=!1)},{default:y(()=>[q(" Fechar ")]),_:1})]),default:y(()=>[q(wt(s.snackbarText)+" ",1)]),_:1},8,["modelValue"])],64)}const RR=Ot(M5,[["render",$5]]);const rh=Symbol.for("vuetify:layout"),PR=Symbol.for("vuetify:layout-item"),YE=1e3,NR=W({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),DR=W({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function z5(){const t=st(rh);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function OR(t){const e=st(rh);if(!e)throw new Error("[Vuetify] Could not find injected layout");const n=t.id??`layout-item-${Jn()}`,i=Sn("useLayoutItem");Wt(PR,{id:n});const s=Ce(!1);RA(()=>s.value=!0),xA(()=>s.value=!1);const{layoutItemStyles:r,layoutItemScrimStyles:o}=e.register(i,{...t,active:w(()=>s.value?!1:t.active.value),id:n});return Xn(()=>e.unregister(n)),{layoutItemStyles:r,layoutRect:e.layoutRect,layoutItemScrimStyles:o}}const j5=(t,e,n,i)=>{let s={top:0,left:0,right:0,bottom:0};const r=[{id:"",layer:{...s}}];for(const o of t){const a=e.get(o),l=n.get(o),c=i.get(o);if(!a||!l||!c)continue;const u={...s,[a.value]:parseInt(s[a.value],10)+(c.value?parseInt(l.value,10):0)};r.push({id:o,layer:u}),s=u}return r};function MR(t){const e=st(rh,null),n=w(()=>e?e.rootZIndex.value-100:YE),i=ae([]),s=Xt(new Map),r=Xt(new Map),o=Xt(new Map),a=Xt(new Map),l=Xt(new Map),{resizeRef:c,contentRect:u}=E_(),d=w(()=>{const x=new Map,N=t.overlaps??[];for(const T of N.filter(k=>k.includes(":"))){const[k,L]=T.split(":");if(!i.value.includes(k)||!i.value.includes(L))continue;const V=s.get(k),O=s.get(L),P=r.get(k),$=r.get(L);!V||!O||!P||!$||(x.set(L,{position:V.value,amount:parseInt(P.value,10)}),x.set(k,{position:O.value,amount:-parseInt($.value,10)}))}return x}),h=w(()=>{const x=[...new Set([...o.values()].map(T=>T.value))].sort((T,k)=>T-k),N=[];for(const T of x){const k=i.value.filter(L=>{var V;return((V=o.get(L))==null?void 0:V.value)===T});N.push(...k)}return j5(N,s,r,a)}),m=w(()=>!Array.from(l.values()).some(x=>x.value)),g=w(()=>h.value[h.value.length-1].layer),p=w(()=>({"--v-layout-left":Se(g.value.left),"--v-layout-right":Se(g.value.right),"--v-layout-top":Se(g.value.top),"--v-layout-bottom":Se(g.value.bottom),...m.value?void 0:{transition:"none"}})),v=w(()=>h.value.slice(1).map((x,N)=>{let{id:T}=x;const{layer:k}=h.value[N],L=r.get(T),V=s.get(T);return{id:T,...k,size:Number(L.value),position:V.value}})),E=x=>v.value.find(N=>N.id===x),b=Sn("createLayout"),C=Ce(!1);ci(()=>{C.value=!0}),Wt(rh,{register:(x,N)=>{let{id:T,order:k,position:L,layoutSize:V,elementSize:O,active:P,disableTransitions:$,absolute:re}=N;o.set(T,k),s.set(T,L),r.set(T,V),a.set(T,P),$&&l.set(T,$);const se=Dl(PR,b==null?void 0:b.vnode).indexOf(x);se>-1?i.value.splice(se,0,T):i.value.push(T);const F=w(()=>v.value.findIndex(De=>De.id===T)),G=w(()=>n.value+h.value.length*2-F.value*2),ue=w(()=>{const De=L.value==="left"||L.value==="right",je=L.value==="right",at=L.value==="bottom",dt={[L.value]:0,zIndex:G.value,transform:`translate${De?"X":"Y"}(${(P.value?0:-110)*(je||at?-1:1)}%)`,position:re.value||n.value!==YE?"absolute":"fixed",...m.value?void 0:{transition:"none"}};if(!C.value)return dt;const B=v.value[F.value];if(!B)throw new Error(`[Vuetify] Could not find layout item "${T}"`);const D=d.value.get(T);return D&&(B[D.position]+=D.amount),{...dt,height:De?`calc(100% - ${B.top}px - ${B.bottom}px)`:O.value?`${O.value}px`:void 0,left:je?void 0:`${B.left}px`,right:je?`${B.right}px`:void 0,top:L.value!=="bottom"?`${B.top}px`:void 0,bottom:L.value!=="top"?`${B.bottom}px`:void 0,width:De?O.value?`${O.value}px`:void 0:`calc(100% - ${B.left}px - ${B.right}px)`}}),pe=w(()=>({zIndex:G.value-1}));return{layoutItemStyles:ue,layoutItemScrimStyles:pe,zIndex:G}},unregister:x=>{o.delete(x),s.delete(x),r.delete(x),a.delete(x),l.delete(x),i.value=i.value.filter(N=>N!==x)},mainRect:g,mainStyles:p,getLayoutItem:E,items:v,layoutRect:u,rootZIndex:n});const S=w(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),R=w(()=>({zIndex:n.value,position:e?"relative":void 0,overflow:e?"hidden":void 0}));return{layoutClasses:S,layoutStyles:R,getLayoutItem:E,items:v,layoutRect:u,layoutRef:c}}const H5=W({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...Zi(),...Be(),...ns(),...DR(),...Fn(),...St({tag:"footer"}),...Tt()},"VFooter"),q5=ce()({name:"VFooter",props:H5(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Mt(t),{backgroundColorClasses:s,backgroundColorStyles:r}=Ki(Ae(t,"color")),{borderClasses:o}=es(t),{elevationClasses:a}=is(t),{roundedClasses:l}=Vn(t),c=Ce(32),{resizeRef:u}=E_(m=>{m.length&&(c.value=m[0].target.clientHeight)}),d=w(()=>t.height==="auto"?c.value:parseInt(t.height,10)),{layoutItemStyles:h}=OR({id:t.name,order:w(()=>parseInt(t.order,10)),position:w(()=>"bottom"),layoutSize:d,elementSize:w(()=>t.height==="auto"?void 0:d.value),active:w(()=>t.app),absolute:Ae(t,"absolute")});return be(()=>f(t.tag,{ref:u,class:["v-footer",i.value,s.value,o.value,a.value,l.value,t.class],style:[r.value,t.app?h.value:void 0,t.style]},n)),{}}}),W5={data:()=>({items:[{title:"incio",value:1},{title:"sobre",value:2},{title:"criar conta",value:3}]})},K5={class:"mx-auto w-75",style:{"max-width":"1100px"}},G5=ke("div",{class:"my-4"},[ke("p",{class:"font-weight-bold"},"receba nossa newsletter")],-1),Y5=ke("div",null,[ke("p",{class:"mt-16 text-center font-weight-black"}," Feito com  por Alexandre Morais ")],-1);function Q5(t,e,n,i,s,r){return ne(),he(q5,{class:"d-block pa-16",color:"primary"},{default:y(()=>[ke("div",K5,[f(Gn,null,{default:y(()=>[f(ut,{cols:"12",md:"3"},{default:y(()=>[f(F_,{class:"font-weight-black text-h4"},{default:y(()=>[q("Eduquiz")]),_:1})]),_:1}),f(ut,{cols:"12",md:"3"},{default:y(()=>[f(ps,{"bg-color":"primary",items:t.items},null,8,["items"])]),_:1}),f(ut,{cols:"12",md:"3"},{default:y(()=>[f(ps,{"bg-color":"primary",items:t.items},null,8,["items"])]),_:1}),f(ut,{cols:"12",md:"3"},{default:y(()=>[G5,ke("div",null,[f(qt,{class:"d-inline",label:"E-mail","append-inner-icon":"mdi-send",variant:"outlined"})])]),_:1})]),_:1}),Y5])]),_:1})}const X5=Ot(W5,[["render",Q5]]);const J5=W({...Be(),...NR({fullHeight:!0}),...Tt()},"VApp"),Z5=ce()({name:"VApp",props:J5(),setup(t,e){let{slots:n}=e;const i=Mt(t),{layoutClasses:s,layoutStyles:r,getLayoutItem:o,items:a,layoutRef:l}=MR(t),{rtlClasses:c}=ss();return be(()=>{var u;return f("div",{ref:l,class:["v-application",i.themeClasses.value,s.value,c.value,t.class],style:[r.value,t.style]},[f("div",{class:"v-application__wrap"},[(u=n.default)==null?void 0:u.call(n)])])}),{getLayoutItem:o,items:a,theme:i}}}),e3={components:{MainHeader:RR,MainFooter:X5},data(){return{isLoggedIn:!0}},created(){let t=pr();aI(t,e=>{e?(this.$store.state.userId=e.uid,this.isLoggedIn=!0):(this.$store.state.userId=null,this.isLoggedIn=!1)})}},t3={class:"mx-auto w-100 w-md-75",style:{"max-width":"1100px"}};function n3(t,e,n,i,s,r){const o=_i("MainHeader"),a=_i("router-view"),l=_i("MainFooter");return ne(),he(Z5,null,{default:y(()=>[ke("div",t3,[f(o,{isLoggedIn:s.isLoggedIn},null,8,["isLoggedIn"])]),f(a),f(l)]),_:1})}const i3=Ot(e3,[["render",n3]]);/*!
  * vue-router v4.2.2
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Oo=typeof window<"u";function s3(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const it=Object.assign;function Um(t,e){const n={};for(const i in e){const s=e[i];n[i]=ki(s)?s.map(t):t(s)}return n}const Ol=()=>{},ki=Array.isArray,r3=/\/$/,o3=t=>t.replace(r3,"");function $m(t,e,n="/"){let i,s={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),s=t(r)),a>-1&&(i=i||e.slice(0,a),o=e.slice(a,e.length)),i=u3(i??e,n),{fullPath:i+(r&&"?")+r+o,path:i,query:s,hash:o}}function a3(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function QE(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function l3(t,e,n){const i=e.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&wa(e.matched[i],n.matched[s])&&LR(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function wa(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function LR(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!c3(t[n],e[n]))return!1;return!0}function c3(t,e){return ki(t)?XE(t,e):ki(e)?XE(e,t):t===e}function XE(t,e){return ki(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function u3(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let r=n.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(o-(o===i.length?1:0)).join("/")}var Cc;(function(t){t.pop="pop",t.push="push"})(Cc||(Cc={}));var Ml;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ml||(Ml={}));function d3(t){if(!t)if(Oo){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),o3(t)}const h3=/^[^#]+#/;function f3(t,e){return t.replace(h3,"#")+e}function m3(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const Of=()=>({left:window.pageXOffset,top:window.pageYOffset});function g3(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=m3(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function JE(t,e){return(history.state?history.state.position-e:-1)+t}const Ep=new Map;function p3(t,e){Ep.set(t,e)}function v3(t){const e=Ep.get(t);return Ep.delete(t),e}let y3=()=>location.protocol+"//"+location.host;function FR(t,e){const{pathname:n,search:i,hash:s}=e,r=t.indexOf("#");if(r>-1){let a=s.includes(t.slice(r))?t.slice(r).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),QE(l,"")}return QE(n,t)+i+s}function _3(t,e,n,i){let s=[],r=[],o=null;const a=({state:h})=>{const m=FR(t,location),g=n.value,p=e.value;let v=0;if(h){if(n.value=m,e.value=h,o&&o===g){o=null;return}v=p?h.position-p.position:0}else i(m);s.forEach(E=>{E(n.value,g,{delta:v,type:Cc.pop,direction:v?v>0?Ml.forward:Ml.back:Ml.unknown})})};function l(){o=n.value}function c(h){s.push(h);const m=()=>{const g=s.indexOf(h);g>-1&&s.splice(g,1)};return r.push(m),m}function u(){const{history:h}=window;h.state&&h.replaceState(it({},h.state,{scroll:Of()}),"")}function d(){for(const h of r)h();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function ZE(t,e,n,i=!1,s=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:s?Of():null}}function w3(t){const{history:e,location:n}=window,i={value:FR(t,n)},s={value:e.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const d=t.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:y3()+t+l;try{e[u?"replaceState":"pushState"](c,"",h),s.value=c}catch(m){console.error(m),n[u?"replace":"assign"](h)}}function o(l,c){const u=it({},e.state,ZE(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});r(l,u,!0),i.value=l}function a(l,c){const u=it({},s.value,e.state,{forward:l,scroll:Of()});r(u.current,u,!0);const d=it({},ZE(i.value,l,null),{position:u.position+1},c);r(l,d,!1),i.value=l}return{location:i,state:s,push:a,replace:o}}function b3(t){t=d3(t);const e=w3(t),n=_3(t,e.state,e.location,e.replace);function i(r,o=!0){o||n.pauseListeners(),history.go(r)}const s=it({location:"",base:t,go:i,createHref:f3.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function E3(t){return typeof t=="string"||t&&typeof t=="object"}function VR(t){return typeof t=="string"||typeof t=="symbol"}const Fs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},BR=Symbol("");var eC;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(eC||(eC={}));function ba(t,e){return it(new Error,{type:t,[BR]:!0},e)}function rs(t,e){return t instanceof Error&&BR in t&&(e==null||!!(t.type&e))}const tC="[^/]+?",C3={sensitive:!1,strict:!1,start:!0,end:!0},I3=/[.+*?^${}()[\]/\\]/g;function S3(t,e){const n=it({},C3,e),i=[];let s=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let d=0;d<c.length;d++){const h=c[d];let m=40+(n.sensitive?.25:0);if(h.type===0)d||(s+="/"),s+=h.value.replace(I3,"\\$&"),m+=40;else if(h.type===1){const{value:g,repeatable:p,optional:v,regexp:E}=h;r.push({name:g,repeatable:p,optional:v});const b=E||tC;if(b!==tC){m+=10;try{new RegExp(`(${b})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${g}" (${b}): `+S.message)}}let C=p?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;d||(C=v&&c.length<2?`(?:/${C})`:"/"+C),v&&(C+="?"),s+=C,m+=20,v&&(m+=-8),p&&(m+=-20),b===".*"&&(m+=-50)}u.push(m)}i.push(u)}if(n.strict&&n.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let h=1;h<u.length;h++){const m=u[h]||"",g=r[h-1];d[g.name]=m&&g.repeatable?m.split("/"):m}return d}function l(c){let u="",d=!1;for(const h of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const m of h)if(m.type===0)u+=m.value;else if(m.type===1){const{value:g,repeatable:p,optional:v}=m,E=g in c?c[g]:"";if(ki(E)&&!p)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const b=ki(E)?E.join("/"):E;if(!b)if(v)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${g}"`);u+=b}}return u||"/"}return{re:o,score:i,keys:r,parse:a,stringify:l}}function T3(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function k3(t,e){let n=0;const i=t.score,s=e.score;for(;n<i.length&&n<s.length;){const r=T3(i[n],s[n]);if(r)return r;n++}if(Math.abs(s.length-i.length)===1){if(nC(i))return 1;if(nC(s))return-1}return s.length-i.length}function nC(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const A3={type:0,value:""},x3=/[a-zA-Z0-9_]/;function R3(t){if(!t)return[[]];if(t==="/")return[[A3]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(m){throw new Error(`ERR (${n})/"${c}": ${m}`)}let n=0,i=n;const s=[];let r;function o(){r&&s.push(r),r=[]}let a=0,l,c="",u="";function d(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),n=1):h();break;case 4:h(),n=i;break;case 1:l==="("?n=2:x3.test(l)?h():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),s}function P3(t,e,n){const i=S3(R3(t.path),n),s=it(i,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function N3(t,e){const n=[],i=new Map;e=rC({strict:!1,end:!0,sensitive:!1},e);function s(u){return i.get(u)}function r(u,d,h){const m=!h,g=D3(u);g.aliasOf=h&&h.record;const p=rC(e,u),v=[g];if("alias"in u){const C=typeof u.alias=="string"?[u.alias]:u.alias;for(const S of C)v.push(it({},g,{components:h?h.record.components:g.components,path:S,aliasOf:h?h.record:g}))}let E,b;for(const C of v){const{path:S}=C;if(d&&S[0]!=="/"){const R=d.record.path,x=R[R.length-1]==="/"?"":"/";C.path=d.record.path+(S&&x+S)}if(E=P3(C,d,p),h?h.alias.push(E):(b=b||E,b!==E&&b.alias.push(E),m&&u.name&&!sC(E)&&o(u.name)),g.children){const R=g.children;for(let x=0;x<R.length;x++)r(R[x],E,h&&h.children[x])}h=h||E,(E.record.components&&Object.keys(E.record.components).length||E.record.name||E.record.redirect)&&l(E)}return b?()=>{o(b)}:Ol}function o(u){if(VR(u)){const d=i.get(u);d&&(i.delete(u),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(u);d>-1&&(n.splice(d,1),u.record.name&&i.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let d=0;for(;d<n.length&&k3(u,n[d])>=0&&(u.record.path!==n[d].record.path||!UR(u,n[d]));)d++;n.splice(d,0,u),u.record.name&&!sC(u)&&i.set(u.record.name,u)}function c(u,d){let h,m={},g,p;if("name"in u&&u.name){if(h=i.get(u.name),!h)throw ba(1,{location:u});p=h.record.name,m=it(iC(d.params,h.keys.filter(b=>!b.optional).map(b=>b.name)),u.params&&iC(u.params,h.keys.map(b=>b.name))),g=h.stringify(m)}else if("path"in u)g=u.path,h=n.find(b=>b.re.test(g)),h&&(m=h.parse(g),p=h.record.name);else{if(h=d.name?i.get(d.name):n.find(b=>b.re.test(d.path)),!h)throw ba(1,{location:u,currentLocation:d});p=h.record.name,m=it({},d.params,u.params),g=h.stringify(m)}const v=[];let E=h;for(;E;)v.unshift(E.record),E=E.parent;return{name:p,path:g,params:m,matched:v,meta:M3(v)}}return t.forEach(u=>r(u)),{addRoute:r,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function iC(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function D3(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:O3(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function O3(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="boolean"?n:n[i];return e}function sC(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function M3(t){return t.reduce((e,n)=>it(e,n.meta),{})}function rC(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function UR(t,e){return e.children.some(n=>n===t||UR(t,n))}const $R=/#/g,L3=/&/g,F3=/\//g,V3=/=/g,B3=/\?/g,zR=/\+/g,U3=/%5B/g,$3=/%5D/g,jR=/%5E/g,z3=/%60/g,HR=/%7B/g,j3=/%7C/g,qR=/%7D/g,H3=/%20/g;function V_(t){return encodeURI(""+t).replace(j3,"|").replace(U3,"[").replace($3,"]")}function q3(t){return V_(t).replace(HR,"{").replace(qR,"}").replace(jR,"^")}function Cp(t){return V_(t).replace(zR,"%2B").replace(H3,"+").replace($R,"%23").replace(L3,"%26").replace(z3,"`").replace(HR,"{").replace(qR,"}").replace(jR,"^")}function W3(t){return Cp(t).replace(V3,"%3D")}function K3(t){return V_(t).replace($R,"%23").replace(B3,"%3F")}function G3(t){return t==null?"":K3(t).replace(F3,"%2F")}function oh(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function Y3(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(zR," "),o=r.indexOf("="),a=oh(o<0?r:r.slice(0,o)),l=o<0?null:oh(r.slice(o+1));if(a in e){let c=e[a];ki(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function oC(t){let e="";for(let n in t){const i=t[n];if(n=W3(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(ki(i)?i.map(r=>r&&Cp(r)):[i&&Cp(i)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function Q3(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=ki(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const X3=Symbol(""),aC=Symbol(""),B_=Symbol(""),WR=Symbol(""),Ip=Symbol("");function ll(){let t=[];function e(i){return t.push(i),()=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function Us(t,e,n,i,s){const r=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const l=d=>{d===!1?a(ba(4,{from:n,to:e})):d instanceof Error?a(d):E3(d)?a(ba(2,{from:e,to:d})):(r&&i.enterCallbacks[s]===r&&typeof d=="function"&&r.push(d),o())},c=t.call(i&&i.instances[s],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch(d=>a(d))})}function zm(t,e,n,i){const s=[];for(const r of t)for(const o in r.components){let a=r.components[o];if(!(e!=="beforeRouteEnter"&&!r.instances[o]))if(J3(a)){const c=(a.__vccOpts||a)[e];c&&s.push(Us(c,n,i,r,o))}else{let l=a();s.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${r.path}"`));const u=s3(c)?c.default:c;r.components[o]=u;const h=(u.__vccOpts||u)[e];return h&&Us(h,n,i,r,o)()}))}}return s}function J3(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function lC(t){const e=st(B_),n=st(WR),i=w(()=>e.resolve(cn(t.to))),s=w(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const h=d.findIndex(wa.bind(null,u));if(h>-1)return h;const m=cC(l[c-2]);return c>1&&cC(u)===m&&d[d.length-1].path!==m?d.findIndex(wa.bind(null,l[c-2])):h}),r=w(()=>s.value>-1&&nK(n.params,i.value.params)),o=w(()=>s.value>-1&&s.value===n.matched.length-1&&LR(n.params,i.value.params));function a(l={}){return tK(l)?e[cn(t.replace)?"replace":"push"](cn(t.to)).catch(Ol):Promise.resolve()}return{route:i,href:w(()=>i.value.href),isActive:r,isExactActive:o,navigate:a}}const Z3=t_({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:lC,setup(t,{slots:e}){const n=Xt(lC(t)),{options:i}=st(B_),s=w(()=>({[uC(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[uC(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&e.default(n);return t.custom?r:Ji("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}}),eK=Z3;function tK(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function nK(t,e){for(const n in e){const i=e[n],s=t[n];if(typeof i=="string"){if(i!==s)return!1}else if(!ki(s)||s.length!==i.length||i.some((r,o)=>r!==s[o]))return!1}return!0}function cC(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const uC=(t,e,n)=>t??e??n,iK=t_({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=st(Ip),s=w(()=>t.route||i.value),r=st(aC,0),o=w(()=>{let c=cn(r);const{matched:u}=s.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=w(()=>s.value.matched[o.value]);Wt(aC,w(()=>o.value+1)),Wt(X3,a),Wt(Ip,s);const l=ae();return ge(()=>[l.value,a.value,t.name],([c,u,d],[h,m,g])=>{u&&(u.instances[d]=c,m&&m!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=m.leaveGuards),u.updateGuards.size||(u.updateGuards=m.updateGuards))),c&&u&&(!m||!wa(u,m)||!h)&&(u.enterCallbacks[d]||[]).forEach(p=>p(c))},{flush:"post"}),()=>{const c=s.value,u=t.name,d=a.value,h=d&&d.components[u];if(!h)return dC(n.default,{Component:h,route:c});const m=d.props[u],g=m?m===!0?c.params:typeof m=="function"?m(c):m:null,v=Ji(h,it({},g,e,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return dC(n.default,{Component:v,route:c})||v}}});function dC(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const sK=iK;function rK(t){const e=N3(t.routes,t),n=t.parseQuery||Y3,i=t.stringifyQuery||oC,s=t.history,r=ll(),o=ll(),a=ll(),l=Ce(Fs);let c=Fs;Oo&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Um.bind(null,D=>""+D),d=Um.bind(null,G3),h=Um.bind(null,oh);function m(D,J){let X,Z;return VR(D)?(X=e.getRecordMatcher(D),Z=J):Z=D,e.addRoute(Z,X)}function g(D){const J=e.getRecordMatcher(D);J&&e.removeRoute(J)}function p(){return e.getRoutes().map(D=>D.record)}function v(D){return!!e.getRecordMatcher(D)}function E(D,J){if(J=it({},J||l.value),typeof D=="string"){const A=$m(n,D,J.path),M=e.resolve({path:A.path},J),U=s.createHref(A.fullPath);return it(A,M,{params:h(M.params),hash:oh(A.hash),redirectedFrom:void 0,href:U})}let X;if("path"in D)X=it({},D,{path:$m(n,D.path,J.path).path});else{const A=it({},D.params);for(const M in A)A[M]==null&&delete A[M];X=it({},D,{params:d(A)}),J.params=d(J.params)}const Z=e.resolve(X,J),Pe=D.hash||"";Z.params=u(h(Z.params));const _=a3(i,it({},D,{hash:q3(Pe),path:Z.path})),I=s.createHref(_);return it({fullPath:_,hash:Pe,query:i===oC?Q3(D.query):D.query||{}},Z,{redirectedFrom:void 0,href:I})}function b(D){return typeof D=="string"?$m(n,D,l.value.path):it({},D)}function C(D,J){if(c!==D)return ba(8,{from:J,to:D})}function S(D){return N(D)}function R(D){return S(it(b(D),{replace:!0}))}function x(D){const J=D.matched[D.matched.length-1];if(J&&J.redirect){const{redirect:X}=J;let Z=typeof X=="function"?X(D):X;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=b(Z):{path:Z},Z.params={}),it({query:D.query,hash:D.hash,params:"path"in Z?{}:D.params},Z)}}function N(D,J){const X=c=E(D),Z=l.value,Pe=D.state,_=D.force,I=D.replace===!0,A=x(X);if(A)return N(it(b(A),{state:typeof A=="object"?it({},Pe,A.state):Pe,force:_,replace:I}),J||X);const M=X;M.redirectedFrom=J;let U;return!_&&l3(i,Z,X)&&(U=ba(16,{to:M,from:Z}),pe(Z,Z,!0,!1)),(U?Promise.resolve(U):L(M,Z)).catch(j=>rs(j)?rs(j,2)?j:ue(j):F(j,M,Z)).then(j=>{if(j){if(rs(j,2))return N(it({replace:I},b(j.to),{state:typeof j.to=="object"?it({},Pe,j.to.state):Pe,force:_}),J||M)}else j=O(M,Z,!0,I,Pe);return V(M,Z,j),j})}function T(D,J){const X=C(D,J);return X?Promise.reject(X):Promise.resolve()}function k(D){const J=at.values().next().value;return J&&typeof J.runWithContext=="function"?J.runWithContext(D):D()}function L(D,J){let X;const[Z,Pe,_]=oK(D,J);X=zm(Z.reverse(),"beforeRouteLeave",D,J);for(const A of Z)A.leaveGuards.forEach(M=>{X.push(Us(M,D,J))});const I=T.bind(null,D,J);return X.push(I),B(X).then(()=>{X=[];for(const A of r.list())X.push(Us(A,D,J));return X.push(I),B(X)}).then(()=>{X=zm(Pe,"beforeRouteUpdate",D,J);for(const A of Pe)A.updateGuards.forEach(M=>{X.push(Us(M,D,J))});return X.push(I),B(X)}).then(()=>{X=[];for(const A of D.matched)if(A.beforeEnter&&!J.matched.includes(A))if(ki(A.beforeEnter))for(const M of A.beforeEnter)X.push(Us(M,D,J));else X.push(Us(A.beforeEnter,D,J));return X.push(I),B(X)}).then(()=>(D.matched.forEach(A=>A.enterCallbacks={}),X=zm(_,"beforeRouteEnter",D,J),X.push(I),B(X))).then(()=>{X=[];for(const A of o.list())X.push(Us(A,D,J));return X.push(I),B(X)}).catch(A=>rs(A,8)?A:Promise.reject(A))}function V(D,J,X){for(const Z of a.list())k(()=>Z(D,J,X))}function O(D,J,X,Z,Pe){const _=C(D,J);if(_)return _;const I=J===Fs,A=Oo?history.state:{};X&&(Z||I?s.replace(D.fullPath,it({scroll:I&&A&&A.scroll},Pe)):s.push(D.fullPath,Pe)),l.value=D,pe(D,J,X,I),ue()}let P;function $(){P||(P=s.listen((D,J,X)=>{if(!dt.listening)return;const Z=E(D),Pe=x(Z);if(Pe){N(it(Pe,{replace:!0}),Z).catch(Ol);return}c=Z;const _=l.value;Oo&&p3(JE(_.fullPath,X.delta),Of()),L(Z,_).catch(I=>rs(I,12)?I:rs(I,2)?(N(I.to,Z).then(A=>{rs(A,20)&&!X.delta&&X.type===Cc.pop&&s.go(-1,!1)}).catch(Ol),Promise.reject()):(X.delta&&s.go(-X.delta,!1),F(I,Z,_))).then(I=>{I=I||O(Z,_,!1),I&&(X.delta&&!rs(I,8)?s.go(-X.delta,!1):X.type===Cc.pop&&rs(I,20)&&s.go(-1,!1)),V(Z,_,I)}).catch(Ol)}))}let re=ll(),oe=ll(),se;function F(D,J,X){ue(D);const Z=oe.list();return Z.length?Z.forEach(Pe=>Pe(D,J,X)):console.error(D),Promise.reject(D)}function G(){return se&&l.value!==Fs?Promise.resolve():new Promise((D,J)=>{re.add([D,J])})}function ue(D){return se||(se=!D,$(),re.list().forEach(([J,X])=>D?X(D):J()),re.reset()),D}function pe(D,J,X,Z){const{scrollBehavior:Pe}=t;if(!Oo||!Pe)return Promise.resolve();const _=!X&&v3(JE(D.fullPath,0))||(Z||!X)&&history.state&&history.state.scroll||null;return Ct().then(()=>Pe(D,J,_)).then(I=>I&&g3(I)).catch(I=>F(I,D,J))}const De=D=>s.go(D);let je;const at=new Set,dt={currentRoute:l,listening:!0,addRoute:m,removeRoute:g,hasRoute:v,getRoutes:p,resolve:E,options:t,push:S,replace:R,go:De,back:()=>De(-1),forward:()=>De(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:oe.add,isReady:G,install(D){const J=this;D.component("RouterLink",eK),D.component("RouterView",sK),D.config.globalProperties.$router=J,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>cn(l)}),Oo&&!je&&l.value===Fs&&(je=!0,S(s.location).catch(Pe=>{}));const X={};for(const Pe in Fs)X[Pe]=w(()=>l.value[Pe]);D.provide(B_,J),D.provide(WR,Xt(X)),D.provide(Ip,l);const Z=D.unmount;at.add(D),D.unmount=function(){at.delete(D),at.size<1&&(c=Fs,P&&P(),P=null,l.value=Fs,je=!1,se=!1),Z()}}};function B(D){return D.reduce((J,X)=>J.then(()=>k(X)),Promise.resolve())}return dt}function oK(t,e){const n=[],i=[],s=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>wa(c,a))?i.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>wa(c,l))||s.push(l))}return[n,i,s]}const KR=Symbol.for("vuetify:selection-control-group"),U_=W({color:String,disabled:Boolean,defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:tt,trueIcon:tt,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:Ua},...Be(),...ts(),...Tt()},"SelectionControlGroup"),aK=W({...U_({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),lK=ce()({name:"VSelectionControlGroup",props:aK(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=rt(t,"modelValue"),s=Jn(),r=w(()=>t.id||`v-selection-control-group-${s}`),o=w(()=>t.name||r.value),a=new Set;return Wt(KR,{modelValue:i,forceUpdate:()=>{a.forEach(l=>l())},onForceUpdate:l=>{a.add(l),Qn(()=>{a.delete(l)})}}),xs({[t.defaultsTarget]:{color:Ae(t,"color"),disabled:Ae(t,"disabled"),density:Ae(t,"density"),error:Ae(t,"error"),inline:Ae(t,"inline"),modelValue:i,multiple:w(()=>!!t.multiple||t.multiple==null&&Array.isArray(i.value)),name:o,falseIcon:Ae(t,"falseIcon"),trueIcon:Ae(t,"trueIcon"),readonly:Ae(t,"readonly"),ripple:Ae(t,"ripple"),type:Ae(t,"type"),valueComparator:Ae(t,"valueComparator")}}),be(()=>{var l;return f("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":t.inline},t.class],style:t.style,role:t.type==="radio"?"radiogroup":void 0},[(l=n.default)==null?void 0:l.call(n)])}),{}}}),$_=W({label:String,trueValue:null,falseValue:null,value:null,...Be(),...U_()},"VSelectionControl");function cK(t){const e=st(KR,void 0),{densityClasses:n}=Ps(t),i=rt(t,"modelValue"),s=w(()=>t.trueValue!==void 0?t.trueValue:t.value!==void 0?t.value:!0),r=w(()=>t.falseValue!==void 0?t.falseValue:!1),o=w(()=>!!t.multiple||t.multiple==null&&Array.isArray(i.value)),a=w({get(){const d=e?e.modelValue.value:i.value;return o.value?d.some(h=>t.valueComparator(h,s.value)):t.valueComparator(d,s.value)},set(d){if(t.readonly)return;const h=d?s.value:r.value;let m=h;o.value&&(m=d?[...bi(i.value),h]:bi(i.value).filter(g=>!t.valueComparator(g,s.value))),e?e.modelValue.value=m:i.value=m}}),{textColorClasses:l,textColorStyles:c}=Wi(w(()=>a.value&&!t.error&&!t.disabled?t.color:void 0)),u=w(()=>a.value?t.trueIcon:t.falseIcon);return{group:e,densityClasses:n,trueValue:s,falseValue:r,model:a,textColorClasses:l,textColorStyles:c,icon:u}}const z_=ce()({name:"VSelectionControl",directives:{Ripple:ru},inheritAttrs:!1,props:$_(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{group:s,densityClasses:r,icon:o,model:a,textColorClasses:l,textColorStyles:c,trueValue:u}=cK(t),d=Jn(),h=w(()=>t.id||`input-${d}`),m=Ce(!1),g=Ce(!1),p=ae();s==null||s.onForceUpdate(()=>{p.value&&(p.value.checked=a.value)});function v(C){m.value=!0,(!fp||fp&&C.target.matches(":focus-visible"))&&(g.value=!0)}function E(){m.value=!1,g.value=!1}function b(C){t.readonly&&s&&Ct(()=>s.forceUpdate()),a.value=C.target.checked}return be(()=>{var x,N;const C=i.label?i.label({label:t.label,props:{for:h.value}}):t.label,[S,R]=za(n);return f("div",ye({class:["v-selection-control",{"v-selection-control--dirty":a.value,"v-selection-control--disabled":t.disabled,"v-selection-control--error":t.error,"v-selection-control--focused":m.value,"v-selection-control--focus-visible":g.value,"v-selection-control--inline":t.inline},r.value,t.class]},S,{style:t.style}),[f("div",{class:["v-selection-control__wrapper",l.value],style:c.value},[(x=i.default)==null?void 0:x.call(i),en(f("div",{class:["v-selection-control__input"]},[o.value&&f(Ge,{key:"icon",icon:o.value},null),f("input",ye({ref:p,checked:a.value,disabled:t.disabled,id:h.value,onBlur:E,onFocus:v,onInput:b,"aria-disabled":t.readonly,type:t.type,value:u.value,name:t.name,"aria-checked":t.type==="checkbox"?a.value:void 0},R),null),(N=i.input)==null?void 0:N.call(i,{model:a,textColorClasses:l,textColorStyles:c,props:{onFocus:v,onBlur:E,id:h.value}})]),[[Ti("ripple"),t.ripple&&[!t.disabled&&!t.readonly,null,["center","circle"]]]])]),C&&f(N_,{for:h.value,clickable:!0},{default:()=>[C]})])}),{isFocused:m,input:p}}}),GR=W({indeterminate:Boolean,indeterminateIcon:{type:tt,default:"$checkboxIndeterminate"},...$_({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),ah=ce()({name:"VCheckboxBtn",props:GR(),emits:{"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,e){let{slots:n}=e;const i=rt(t,"indeterminate"),s=rt(t,"modelValue");function r(l){i.value&&(i.value=!1)}const o=w(()=>i.value?t.indeterminateIcon:t.falseIcon),a=w(()=>i.value?t.indeterminateIcon:t.trueIcon);return be(()=>f(z_,ye(t,{modelValue:s.value,"onUpdate:modelValue":[l=>s.value=l,r],class:["v-checkbox-btn",t.class],style:t.style,type:"checkbox",falseIcon:o.value,trueIcon:a.value,"aria-checked":i.value?"mixed":void 0}),n)),{}}}),uK=W({...Ga(),...$a(GR(),["inline"])},"VCheckbox"),YR=ce()({name:"VCheckbox",inheritAttrs:!1,props:uK(),emits:{"update:modelValue":t=>!0,"update:focused":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const s=rt(t,"modelValue"),{isFocused:r,focus:o,blur:a}=au(t),l=Jn(),c=w(()=>t.id||`checkbox-${l}`);return be(()=>{const[u,d]=za(n),[h,m]=Yi.filterProps(t),[g,p]=ah.filterProps(t);return f(Yi,ye({class:["v-checkbox",t.class]},u,h,{modelValue:s.value,"onUpdate:modelValue":v=>s.value=v,id:c.value,focused:r.value,style:t.style}),{...i,default:v=>{let{id:E,messagesId:b,isDisabled:C,isReadonly:S}=v;return f(ah,ye(g,{id:E.value,"aria-describedby":b.value,disabled:C.value,readonly:S.value},d,{modelValue:s.value,"onUpdate:modelValue":R=>s.value=R,onFocus:o,onBlur:a}),i)}})}),{}}});const dK=W({...Be(),...NR()},"VLayout"),lh=ce()({name:"VLayout",props:dK(),setup(t,e){let{slots:n}=e;const{layoutClasses:i,layoutStyles:s,getLayoutItem:r,items:o,layoutRef:a}=MR(t);return be(()=>{var l;return f("div",{ref:a,class:[i.value,t.class],style:[s.value,t.style]},[(l=n.default)==null?void 0:l.call(n)])}),{getLayoutItem:r,items:o}}});const hK=W({scrollable:Boolean,...Be(),...St({tag:"main"})},"VMain"),fr=ce()({name:"VMain",props:hK(),setup(t,e){let{slots:n}=e;const{mainStyles:i}=z5(),{ssrBootStyles:s}=Nf();return be(()=>f(t.tag,{class:["v-main",{"v-main--scrollable":t.scrollable},t.class],style:[i.value,s.value,t.style]},{default:()=>{var r,o;return[t.scrollable?f("div",{class:"v-main__scroller"},[(r=n.default)==null?void 0:r.call(n)]):(o=n.default)==null?void 0:o.call(n)]}})),{}}}),fK={data(){return{roomHasHost:!1,beHost:!1,nickname:null,roomId:"ZnOVxgSeC2T1vSd9k2cQ"}},methods:{amIOnline(){var t=this.nickname,i=Js(nr,"/status/"+t),e={state:"offline",last_changed:Ud()},n={state:"online",last_changed:Ud()},i=Js(nr,"/status/"+t);Bd(Js(nr,".info/connected"),s=>{s.val()!=!1&&ek(i).set(e).then(()=>{tk(i,n)})})},verifyRoomHost(){const t=ln(Nt,"rooms",this.roomId);jT(t,e=>{e.exists()?(this.roomHasHost=!!e.data().hostId,console.log(this.roomHasHost),console.log("Document data:",e.data()),this.$store.state.roomPlayers=e.data().roomPlayers?e.data().roomPlayers:null,this.$store.state.room=e.data(),console.log("roomPlayers:",this.$store.state.roomPlayers)):console.log("Document not found")})},updateRoomHost(){this.$store.state.isHost=!0;const t=ln(Nt,"rooms",this.roomId);ni(t,{hostId:this.nickname})},addRoomPlayer(){const t=ln(Nt,"rooms",this.roomId);ni(t,{roomPlayers:Kh(this.nickname)})},redirect(){this.beHost&&this.updateRoomHost(),this.addRoomPlayer(),this.amIOnline(),this.$router.push("/room")}},beforeMount(){this.verifyRoomHost()}};function mK(t,e,n,i,s,r){return ne(),he(fr,null,{default:y(()=>[f(lh,{class:"bg-black d-flex justify-center align-center"},{default:y(()=>[f(qe,{width:"300",class:"pa-3"},{default:y(()=>[f(ps,null,{default:y(()=>[f(zn,null,{default:y(()=>[q("Escolha seu nickname para jogar")]),_:1}),f(ft,null,{default:y(()=>[f(qt,{variant:"outlined",type:"text",label:"Nome",modelValue:s.nickname,"onUpdate:modelValue":e[0]||(e[0]=o=>s.nickname=o)},null,8,["modelValue"]),f(me,{onClick:r.redirect},{default:y(()=>[q("entrar")]),_:1},8,["onClick"]),s.roomHasHost?Ke("",!0):(ne(),he(YR,{key:0,label:"Ser host?",modelValue:s.beHost,"onUpdate:modelValue":e[1]||(e[1]=o=>s.beHost=o)},null,8,["modelValue"]))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const gK=Ot(fK,[["render",mK]]),pK={data(){return{loaded:!0,roomId:"ZnOVxgSeC2T1vSd9k2cQ"}},computed:{roomPlayers(){return this.$store.state.roomPlayers},gameState(){return this.$store.state.room.gameState}},methods:{async startGame(){debugger;const t=ln(Nt,"rooms",this.roomId);await ni(t,{gameState:"start"})}},watch:{gameState(t){t==="start"&&setTimeout(()=>{this.$router.push("/game")},1e3)}}},vK=ke("p",{class:"text-h2"},"Waiting for Players",-1);function yK(t,e,n,i,s,r){return s.loaded?(ne(),he(lh,{key:1,class:"bg-black d-block"},{default:y(()=>[f(ft,{block:"",class:"mt-16 text-center"},{default:y(()=>[vK]),_:1}),t.$store.state.isHost?(ne(),he(me,{key:0,class:"d-block mx-auto",width:"300",color:"white",onClick:r.startGame},{default:y(()=>[q("START GAME")]),_:1},8,["onClick"])):Ke("",!0),f(ft,{class:"d-flex justify-space-evenly flex-wrap"},{default:y(()=>[(ne(!0),bn(Te,null,ga(r.roomPlayers,o=>(ne(),he(qe,{class:"ma-10 pa-5"},{default:y(()=>[f(Kr,null,{default:y(()=>[q(wt(o),1)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})):(ne(),he(lh,{key:0,class:"bg-black d-flex justify-center align-center"},{default:y(()=>[f(Ef,{"model-value":"20",size:74,width:7,indeterminate:""})]),_:1}))}const _K=Ot(pK,[["render",yK]]);const wK={components:{TheCountdownVue:M_},props:{slide:{type:Object,required:!0},room:{type:Object,required:!0},nickname:{type:String,required:!0},isHost:{type:Boolean},roomId:{type:String,required:!0}},data(){return{counter:0,isAnswerCreated:!1,isAnswerSubmited:!1,buttonsDisabled:!0,buttonLabel:"resultados",hostButtonDisabled:!0}},computed:{slide(){return this.room.currentSlide}},watch:{slide(){this.setTimer(),this.buttonsDisabled=!1}},methods:{async fireNextState(){const t=bj(Sj,"CUSTOM_FIRE_NEXT_STATE");if(t.start(),this.buttonLabel==="resultados"){const e=ln(Nt,"rooms",this.roomId);await ni(e,{gameState:"result"}),this.room.currentSlidePos+1>=this.room.numberOfSlides?this.buttonLabel="recomear":this.buttonLabel="continuar"}else if(this.buttonLabel==="continuar"){const e=ln(Nt,"rooms",this.roomId);await ni(e,{gameState:"next"}),this.buttonLabel="resultados"}else if(this.buttonLabel==="recomear"){const e=ln(Nt,"rooms",this.roomId);await ni(e,{gameState:"created",currentSlidePos:0}),this.buttonLabel="resultados"}t.stop()},async sendAnswer(t){debugger;const e=ln(Nt,"answers",this.room.currentSlideId);this.isAnswerCreated?await ni(e,{[this.nickname]:{answer:t}},{merge:!0}):await zT(e,{[this.nickname]:{answer:t}},{merge:!0}),this.buttonsDisabled=!0},setTimer(){let t=0;const e=Js(nr,".info/serverTimeOffset");Bd(e,s=>{t=s.val()});const n=Js(nr,"timers/"+this.room.currentSlideId),i=t$(n,e$("startAt"));Bd(i,s=>{let r=[];const o=s.val();for(const u in o)r.push({id:u,seconds:o[u].seconds,startAt:o[u].startAt});const a=o.seconds,l=o.startAt,c=setInterval(()=>{this.counter=a*1e3-(Date.now()-l-t),this.counter<0&&(clearInterval(c),this.counter=0)},100)})}}},bK={class:"ml-16 flex-grow-1"},EK={key:0,class:"ml-auto"},CK={key:0,class:"text-center"},IK={class:"d-none d-md-block container"},SK={class:"pa-6 text-wrap"},TK={class:"pa-6 text-center text-wrap"},kK={class:"pa-6 text-center text-wrap text-white"},AK={class:"pa-6 text-center text-wrap"};function xK(t,e,n,i,s,r){const o=_i("TheCountdownVue");return ne(),he(ft,{class:"py-0"},{default:y(()=>[f(qe,{flat:"",color:"#F2F2FA",height:"800px",class:"w-100 rounded-drawer d-flex flex-column justify-space-between"},{default:y(()=>[f(kt,{class:"bg-primary text-center text-wrap d-flex align-center"},{default:y(()=>[ke("span",bK,wt(r.slide.question),1),n.isHost?(ne(),bn("div",EK,[f(me,{color:"secondary",height:"50",rounded:"xs",disabled:s.counter>0,class:"no-uppercase",onClick:r.fireNextState},{default:y(()=>[q(wt(s.buttonLabel),1)]),_:1},8,["disabled","onClick"]),s.buttonLabel!=="resultados"?(ne(),bn("p",CK,wt(n.room.results),1)):Ke("",!0)])):Ke("",!0)]),_:1}),r.slide.image?Ke("",!0):(ne(),he(qe,{key:0,color:"#DBDCF1",height:"300",class:"d-none d-md-block w-50 mx-auto elevation-3 text-center"},{default:y(()=>[f(ft,null,{default:y(()=>[f(Gi,{height:"340",src:dR})]),_:1})]),_:1})),ke("div",IK,[f(o,{countdownTime:(s.counter/1e3).toFixed(0),class:"example"},null,8,["countdownTime"])]),f(o,{countdownTime:(s.counter/1e3).toFixed(0),class:"mx-auto d-md-none"},null,8,["countdownTime"]),f(Mn,{class:"d-flex flex-column justify-end"},{default:y(()=>[f(xf),f(Gn,{class:"w-100"},{default:y(()=>[f(ut,{cols:"12",md:"6"},{default:y(()=>[f(me,{block:"",height:"150",variant:"outlined",rounded:"xl",size:"large",disabled:s.buttonsDisabled||n.isHost,onClick:e[0]||(e[0]=a=>r.sendAnswer("optA")),class:"bg-deep-purple-lighten-2 d-flex justify-start no-uppercase"},{default:y(()=>[f(Ge,{class:"ml-6",size:"50",color:"white"},{default:y(()=>[q("mdi-cards-club")]),_:1}),ke("div",SK,wt(r.slide.optA),1)]),_:1},8,["disabled"])]),_:1}),f(ut,{cols:"12",md:"6"},{default:y(()=>[f(me,{block:"",height:"150",variant:"outlined",rounded:"xl",size:"large",disabled:s.buttonsDisabled||n.isHost,onClick:e[1]||(e[1]=a=>r.sendAnswer("optB")),class:"bg-teal-lighten-2 d-flex justify-start no-uppercase"},{default:y(()=>[f(Ge,{class:"ml-6",size:"50",color:"white"},{default:y(()=>[q("mdi-cards-spade")]),_:1}),ke("div",TK,wt(r.slide.optB),1)]),_:1},8,["disabled"])]),_:1})]),_:1}),f(Gn,{class:"w-100"},{default:y(()=>[f(ut,{cols:"12",md:"6"},{default:y(()=>[f(me,{block:"",height:"150",variant:"outlined",rounded:"xl",size:"large",disabled:s.buttonsDisabled||n.isHost,onClick:e[2]||(e[2]=a=>r.sendAnswer("optC")),class:"bg-deep-orange-lighten-2 d-flex justify-start no-uppercase",style:{border:"0px solid #000"}},{default:y(()=>[f(Ge,{class:"ml-6",size:"50",color:"white"},{default:y(()=>[q("mdi-cards-heart")]),_:1}),ke("div",kK,wt(r.slide.optC),1)]),_:1},8,["disabled"])]),_:1}),f(ut,{cols:"12",md:"6"},{default:y(()=>[f(me,{block:"",height:"150",variant:"outlined",rounded:"xl",size:"large",disabled:s.buttonsDisabled||n.isHost,onClick:e[3]||(e[3]=a=>r.sendAnswer("optD")),class:"bg-pink-accent-1 d-flex justify-start no-uppercase"},{default:y(()=>[f(Ge,{class:"mr-auto ml-6",size:"50",color:"white"},{default:y(()=>[q("mdi-cards-diamond")]),_:1}),ke("div",AK,wt(r.slide.optD),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const RK=Ot(wK,[["render",xK],["__scopeId","data-v-a4fab9b7"]]);const PK={components:{DefaultSlide:RK},data(){return{roomHasHost:!1,beHost:!1,nickname:null,playerLoggedIn:!1,isHost:!1,roomId:this.$route.params.roomId,roomPlayers:[],room:null}},computed:{gameState(){return this.room.gameState}},methods:{async startGame(){const t=ln(Nt,"rooms",this.roomId);await ni(t,{gameState:"start"})},amIOnline(){var t=this.nickname,i=Js(nr,"/status/"+t),e={state:"offline",roomId:this.roomId,last_changed:Ud()},n={state:"online",roomId:this.roomId,last_changed:Ud()},i=Js(nr,"/status/"+t);Bd(Js(nr,".info/connected"),s=>{s.val()!=!1&&ek(i).set(e).then(()=>{tk(i,n)})})},verifyRoomHost(){const t=ln(Nt,"rooms",this.roomId);jT(t,e=>{if(e.exists()){if(this.roomHasHost=!!e.data().hostId,this.roomHasHost){const i=pr().currentUser;i&&e.data().hostId===i.uid&&(this.isHost=!0)}console.log(this.roomHasHost),console.log("Document data:",e.data()),this.roomPlayers=e.data().roomPlayers?e.data().roomPlayers:null,this.room=e.data(),console.log("roomPlayers:",this.roomPlayers)}else console.log("Document not found")})},async updateRoomHost(){const t=ln(Nt,"rooms",this.roomId);await ni(t,{hostId:this.nickname}),this.isHost=!0},addRoomPlayer(){const t=ln(Nt,"rooms",this.roomId);ni(t,{roomPlayers:Kh(this.nickname)})},redirect(){this.verifyRoomHost(),this.beHost&&this.updateRoomHost(),this.addRoomPlayer(),this.amIOnline(),this.playerLoggedIn=!0}},beforeMount(){this.verifyRoomHost()}},NK=ke("span",{class:"wave-animation"},"Waiting for Players",-1),DK={key:1};function OK(t,e,n,i,s,r){const o=_i("DefaultSlide");return r.gameState==="created"?(ne(),he(ft,{key:0,class:"py-0"},{default:y(()=>[s.playerLoggedIn||s.isHost?(ne(),he(qe,{key:0,flat:"",color:"#F2F2FA",height:"800px",class:"w-100 rounded-drawer"},{default:y(()=>[f(kt,{class:"bg-secondary text-center text-wrap text-subtitle-2"},{default:y(()=>[ke("span",null,"Link da sala: "+wt(t.$route.fullPath),1)]),_:1}),f(kt,{class:"bg-primary text-center text-wrap"},{default:y(()=>[NK]),_:1}),s.isHost?(ne(),he(Mn,{key:0,class:"my-5"},{default:y(()=>[f(me,{variant:"tonal",height:"50",style:{"background-color":"#d37146",color:"white"},rounded:"xs",class:"mx-auto",onClick:r.startGame},{default:y(()=>[q(" Comear game ")]),_:1},8,["onClick"])]),_:1})):Ke("",!0),f(ft,{class:"d-flex justify-space-evenly flex-wrap"},{default:y(()=>[(ne(!0),bn(Te,null,ga(s.roomPlayers,a=>(ne(),he(qe,{class:"ma-10 pa-5"},{default:y(()=>[f(Kr,null,{default:y(()=>[q(wt(a),1)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})):(ne(),he(qe,{key:1,flat:"",color:"#F2F2FA",height:"800px",class:"rounded-drawer d-flex flex-column justify-center align-center text-wrap"},{default:y(()=>[f(qe,{flat:"",color:"white"},{default:y(()=>[f(kt,{class:"bg-primary text-center text-md-left"},{default:y(()=>[q(" Digite seu nome para entrar na sala ")]),_:1}),f(Kr,{class:"w-50 w-md-100 mx-auto"},{default:y(()=>[f(qt,{variant:"underlined",label:"nickname",modelValue:s.nickname,"onUpdate:modelValue":e[0]||(e[0]=a=>s.nickname=a)},null,8,["modelValue"]),s.roomHasHost?Ke("",!0):(ne(),he(YR,{key:0,label:"Ser host?",modelValue:s.beHost,"onUpdate:modelValue":e[1]||(e[1]=a=>s.beHost=a)},null,8,["modelValue"]))]),_:1}),f(kt,{class:"mt-n8 text-secondary"},{default:y(()=>[q(" Link da sala: eduquiz/rooms/2fP4aZfwVaVHnEsH638M")]),_:1}),f(Mn,null,{default:y(()=>[f(me,{variant:"tonal",height:"50",style:{"background-color":"#d37146",color:"white"},rounded:"xs",class:"mx-auto",onClick:r.redirect},{default:y(()=>[q(" Entrar ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}))]),_:1})):(ne(),bn("div",DK,[f(o,{slide:s.room.currentSlide,room:s.room,nickname:s.nickname,isHost:s.isHost,roomId:s.roomId},null,8,["slide","room","nickname","isHost","roomId"])]))}const MK=Ot(PK,[["render",OK]]),LK={};function FK(t,e){return" GAME "}const VK=Ot(LK,[["render",FK]]),BK="/eduquiz/imgs/ed_kit_3.png",UK="/eduquiz/imgs/ed_kit_9.png",jm="/eduquiz/imgs/profile_pic_1.jpg",$K="/eduquiz/imgs/ed_kit_4.png",zK="/eduquiz/imgs/ed_kit_7.png",jK={components:{MainHeader:RR}},HK=ke("p",{class:"line-height"},"Aprender nunca foi to divertido.",-1),qK=ke("p",{class:"ml-3 text-secondary font-weight-bold"},"RESPONSIVO",-1),WK=ke("p",{class:"line-height"}," Responda s perguntas diretamente do seu dispositivo mvel. ",-1),KK=ke("p",{class:"ml-3 text-secondary font-weight-bold text-center"}," FCIL DE COMEAR ",-1),GK=ke("p",{class:"line-height text-center"},"Aprenda como jogar",-1),YK=ke("p",{class:"ml-3 my-16 text-secondary font-weight-bold text-center"}," PREPARADO? ",-1),QK=ke("p",{class:"line-height text-center"}," Comece a explorar seus conhecimentos agora mesmo ",-1),XK=ke("div",{class:"d-none d-md-flex parent"},[ke("img",{class:"image2",width:"450",src:$K}),ke("img",{class:"image3",width:"450",src:zK})],-1);function JK(t,e,n,i,s,r){return ne(),he(fr,{class:"my-10 mx-auto w-100 w-md-75",style:{"max-width":"1100px"}},{default:y(()=>[f(qe,{flat:"",class:"text-primary"},{default:y(()=>[f(Gn,{"no-gutters":""},{default:y(()=>[f(ut,{cols:"12",md:"5",class:"d-flex flex-column"},{default:y(()=>[f(kt,{class:"px-0 pl-3 my-7 font-weight-bold text-wrap no-hyphen",style:{"font-size":"min(4vw, 70px)"}},{default:y(()=>[HK]),_:1}),f(va,{class:"myFont px-0 pl-3 text-wrap font-weight-black text-h6"},{default:y(()=>[q(" Teste seus conhecimentos e acumule pontos com as respostas corretas. ")]),_:1}),f(Mn,{class:"px-0 pl-3 mt-auto"},{default:y(()=>[f(Gn,{class:"w-100","no-gutters":""},{default:y(()=>[f(ut,{cols:"6",class:"pr-1"},{default:y(()=>[f(me,{variant:"tonal",height:"50",style:{"background-color":"#d37146",color:"white"},class:"w-100",rounded:"xs",to:"/eduquiz/register"},{default:y(()=>[q(" comear agora ")]),_:1})]),_:1}),f(ut,{cols:"6"},{default:y(()=>[f(me,{variant:"outlined",color:"secondary",class:"w-100",height:"50",rounded:"xs",href:"https://github.com/MinhaTu/eduquiz",target:"_blank"},{default:y(()=>[q("saiba mais")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),f(ut,{cols:"12",md:"7"},{default:y(()=>[f(ft,{class:"pa-0"},{default:y(()=>[f(Gi,{cover:"",class:"mt-auto",src:BK})]),_:1})]),_:1})]),_:1})]),_:1}),f(ft,{class:"my-16"}),f(qe,{flat:"",class:"text-primary mt-16"},{default:y(()=>[f(Gn,null,{default:y(()=>[f(ut,{cols:"12",md:"6"},{default:y(()=>[f(ft,{class:"pa-0"},{default:y(()=>[f(Gi,{cover:"",src:UK})]),_:1})]),_:1}),f(ut,{cols:"12",md:"5",class:"d-flex flex-column"},{default:y(()=>[qK,f(kt,{class:"px-0 pl-3 font-weight-bold text-wrap no-hyphen",style:{"font-size":"min(3vw, 40px)"}},{default:y(()=>[WK]),_:1}),f(va,{class:"myFont mt-auto px-0 pl-3 text-wrap font-weight-black text-h6"},{default:y(()=>[q(" Site responsivo para usar no celular. ")]),_:1}),f(Mn,{class:"px-0 pl-3 mt-auto"},{default:y(()=>[f(Gn,{class:"w-100","no-gutters":""},{default:y(()=>[f(ut,{cols:"8",class:"pr-1"},{default:y(()=>[f(me,{variant:"tonal",height:"50",style:{"background-color":"#d37146",color:"white"},class:"w-100",rounded:"xs",to:"/eduquiz/register"},{default:y(()=>[q(" comear agora ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),f(ft,{class:"my-16"}),f(qe,{flat:""},{default:y(()=>[KK,f(kt,{class:"px-0 pl-3 font-weight-bold text-primary text-wrap no-hyphen",style:{"font-size":"min(3vw, 40px)"}},{default:y(()=>[GK]),_:1}),f(ft,{class:"d-flex flex-column flex-md-row"},{default:y(()=>[f(ft,{class:"mt-16"},{default:y(()=>[f(qe,{class:"overflow-visible ma-auto rounded-lg",flat:"",color:"#DBDCF1"},{default:y(()=>[f(ft,{align:"center"},{default:y(()=>[f(gs,{class:"mt-n16",size:"100",image:jm}),f(kt,{class:"text-secondary font-weight-bold"},{default:y(()=>[q(" ARTHUR ")]),_:1}),f(Kr,{class:"text-primary"},{default:y(()=>[q('"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.')]),_:1})]),_:1})]),_:1})]),_:1}),f(ft,{class:"mt-16"},{default:y(()=>[f(qe,{class:"overflow-visible ma-auto rounded-lg",flat:"",color:"#DBDCF1"},{default:y(()=>[f(ft,{align:"center"},{default:y(()=>[f(gs,{class:"mt-n16",size:"100",image:jm}),f(kt,{class:"text-secondary font-weight-bold"},{default:y(()=>[q(" ARTHUR ")]),_:1}),f(Kr,{class:"text-primary"},{default:y(()=>[q('"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.')]),_:1})]),_:1})]),_:1})]),_:1}),f(ft,{class:"mt-16"},{default:y(()=>[f(qe,{class:"overflow-visible ma-auto rounded-lg",flat:"",color:"#DBDCF1"},{default:y(()=>[f(ft,{align:"center"},{default:y(()=>[f(gs,{class:"mt-n16",size:"100",image:jm}),f(kt,{class:"text-secondary font-weight-bold"},{default:y(()=>[q(" ARTHUR ")]),_:1}),f(Kr,{class:"text-primary"},{default:y(()=>[q('"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.')]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),f(ft,{class:"my-3"}),f(_a,{length:"1800",thickness:"2"}),f(qe,{flat:"",color:"#DBDCF1",class:"mx-8 mt-16 rounded-lg"},{default:y(()=>[YK,f(kt,{class:"px-16 font-weight-bold text-primary text-wrap no-hyphen",style:{"font-size":"min(3vw, 50px)"}},{default:y(()=>[QK]),_:1}),f(Mn,{class:"my-16 justify-center"},{default:y(()=>[f(me,{variant:"tonal",height:"50",style:{"background-color":"#d37146",color:"white"},rounded:"xs",to:"/eduquiz/register"},{default:y(()=>[q(" Iniciar Quiz ")]),_:1})]),_:1})]),_:1}),XK]),_:1})}const ZK=Ot(jK,[["render",JK]]),eG={data(){return{userEmail:"",userPassword:"",errorMsg:"",visible:!1}},methods:{login(){const t=pr();xD(t,this.userEmail,this.userPassword).then(e=>{debugger;const n=e.user;console.log("Registration sucessful",n),this.$router.push("/eduquiz/")}).catch(e=>{switch(e.code){case"auth/invalid-email":this.errorMsg="E-mail invlido";break;case"auth/user-not-found":this.errorMsg="Nenhuma conta encontrada com esse e-mail";break;case"auth/wrong-password":this.errorMsg="Senha incorreta";break;default:this.errorMsg="E-mail ou senha invlidos"}})}}},tG=ke("p",{class:"text-h5 ml-3 my-16 text-secondary font-weight-bold text-center"}," Entre na sua conta ",-1),nG={key:0,class:"text-red mt-0 text-center"};function iG(t,e,n,i,s,r){return ne(),he(fr,null,{default:y(()=>[f(_a,{class:"mt-16",length:"1800",thickness:"2"}),f(qe,{flat:"","max-width":"500",color:"#DBDCF1",class:"mx-auto my-8 rounded-lg"},{default:y(()=>[tG,f(A_,{onSubmit:Fr(r.login,["prevent"])},{default:y(()=>[f(qt,{class:"mx-16 my-8 px-8",variant:"outlined",modelValue:s.userEmail,"onUpdate:modelValue":e[0]||(e[0]=o=>s.userEmail=o),type:"text","prepend-inner-icon":"mdi-email-outline",label:"Email"},null,8,["modelValue"]),f(qt,{class:"mx-16 my-2 px-8",variant:"outlined",modelValue:s.userPassword,"onUpdate:modelValue":e[1]||(e[1]=o=>s.userPassword=o),"prepend-inner-icon":"mdi-lock-outline","append-inner-icon":s.visible?"mdi-eye-off":"mdi-eye",type:s.visible?"text":"password","onClick:appendInner":e[2]||(e[2]=o=>s.visible=!s.visible),label:"Senha"},null,8,["modelValue","append-inner-icon","type"]),s.errorMsg?(ne(),bn("p",nG,wt(s.errorMsg),1)):Ke("",!0),f(Mn,{class:"mb-16 justify-center"},{default:y(()=>[f(me,{variant:"tonal",height:"50",style:{"background-color":"#d37146",color:"white"},rounded:"xs",type:"submit"},{default:y(()=>[q(" Entrar ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1}),f(_a,{class:"my-16",length:"1800",thickness:"2"})]),_:1})}const sG=Ot(eG,[["render",iG]]),rG={data(){return{userEmail:"",userPassword:"",visible:!1}},methods:{register(){const t=pr();AD(t,this.userEmail,this.userPassword).then(e=>{const n=e.user;console.log("Registration sucessful",n),this.$router.push("/eduquiz/")}).catch(e=>{e.code;const n=e.message;console.log(n)})}}},oG=ke("p",{class:"text-h5 ml-3 my-16 text-secondary font-weight-bold text-center"}," Registre-se para criar seus quizzes ",-1);function aG(t,e,n,i,s,r){return ne(),he(fr,null,{default:y(()=>[f(_a,{class:"mt-16",length:"1800",thickness:"2"}),f(qe,{flat:"","max-width":"500",color:"#DBDCF1",class:"mx-auto my-8 rounded-lg"},{default:y(()=>[oG,f(A_,{onSubmit:Fr(r.register,["prevent"])},{default:y(()=>[f(qt,{class:"mx-16 my-8 px-8",variant:"outlined",modelValue:t.userFirstName,"onUpdate:modelValue":e[0]||(e[0]=o=>t.userFirstName=o),type:"text","prepend-inner-icon":"mdi-account",label:"Primeiro Nome"},null,8,["modelValue"]),f(qt,{class:"mx-16 my-8 px-8",variant:"outlined",modelValue:t.userLastName,"onUpdate:modelValue":e[1]||(e[1]=o=>t.userLastName=o),type:"text","prepend-inner-icon":"mdi-account-details",label:"Segundo nome"},null,8,["modelValue"]),f(qt,{class:"mx-16 my-8 px-8",variant:"outlined",modelValue:s.userEmail,"onUpdate:modelValue":e[2]||(e[2]=o=>s.userEmail=o),type:"text","prepend-inner-icon":"mdi-email-outline",label:"Email"},null,8,["modelValue"]),f(qt,{class:"mx-16 my-2 px-8",variant:"outlined",modelValue:s.userPassword,"onUpdate:modelValue":e[3]||(e[3]=o=>s.userPassword=o),"prepend-inner-icon":"mdi-lock-outline","append-inner-icon":s.visible?"mdi-eye-off":"mdi-eye",type:s.visible?"text":"password","onClick:appendInner":e[4]||(e[4]=o=>s.visible=!s.visible),label:"Senha"},null,8,["modelValue","append-inner-icon","type"]),f(Mn,{class:"mb-16 justify-center"},{default:y(()=>[f(me,{variant:"tonal",height:"50",style:{"background-color":"#d37146",color:"white"},rounded:"xs",type:"submit"},{default:y(()=>[q(" Registrar-se ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1}),f(_a,{class:"my-16",length:"1800",thickness:"2"})]),_:1})}const lG=Ot(rG,[["render",aG]]);const cG=W({color:String,...Zi(),...Be(),...vo(),...ns(),...iu(),...Cf(),...Fn(),...St(),...Tt()},"VSheet"),j_=ce()({name:"VSheet",props:cG(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Mt(t),{backgroundColorClasses:s,backgroundColorStyles:r}=Ki(Ae(t,"color")),{borderClasses:o}=es(t),{dimensionStyles:a}=yo(t),{elevationClasses:l}=is(t),{locationStyles:c}=su(t),{positionClasses:u}=If(t),{roundedClasses:d}=Vn(t);return be(()=>f(t.tag,{class:["v-sheet",i.value,s.value,o.value,l.value,u.value,d.value,t.class],style:[r.value,a.value,c.value,t.style]},n)),{}}}),uG={};function dG(t,e){return ne(),he(fr,null,{default:y(()=>[f(qe,{flat:"",color:"#DBDCF1"},{default:y(()=>[f(kt,{class:"mx-auto w-75 text-h3 pa-10 font-weight-bold text-primary text-wrap no-hyphen"},{default:y(()=>[q(" Seus quizzes ")]),_:1})]),_:1}),f(ft,{class:"d-flex justify-center"},{default:y(()=>[f(qe,{width:"300",height:"300",flat:"",color:"#DBDCF1",class:"rounded-xl"},{default:y(()=>[f(kt,{class:"w-75 text-h4 pl-4 pt-4 font-weight-bold text-primary text-wrap no-hyphen"},{default:y(()=>[q(" O que  o que  ")]),_:1}),f(va,{class:"font-weight-black text-primary"},{default:y(()=>[q(" 22/06/2023 - 14h30 ")]),_:1}),f(j_,{class:"bg-grey mt-3",width:"300",height:"120"}),f(Mn,null,{default:y(()=>[f(me,{width:"100",class:"mx-6 no-uppercase",rounded:"",style:{"background-color":"#d37146",color:"white"},to:"/eduquiz/home"},{default:y(()=>[q(" jogar ")]),_:1}),f(me,{color:"primary",width:"100",variant:"outlined",rounded:"",class:"no-uppercase"},{default:y(()=>[q(" editar ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const hG=Ot(uG,[["render",dG]]);const QR=Symbol.for("vuetify:v-chip-group"),fG=W({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Ua},...Be(),...gx({selectedClass:"v-chip--selected"}),...St(),...Tt(),...Ns({variant:"tonal"})},"VChipGroup");ce()({name:"VChipGroup",props:fG(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=Mt(t),{isSelected:s,select:r,next:o,prev:a,selected:l}=b_(t,QR);return xs({VChip:{color:Ae(t,"color"),disabled:Ae(t,"disabled"),filter:Ae(t,"filter"),variant:Ae(t,"variant")}}),be(()=>f(t.tag,{class:["v-chip-group",{"v-chip-group--column":t.column},i.value,t.class],style:t.style},{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n,{isSelected:s,select:r,next:o,prev:a,selected:l.value})]}})),{}}});const mG=W({activeClass:String,appendAvatar:String,appendIcon:tt,closable:Boolean,closeIcon:{type:tt,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:tt,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:zi(),onClickOnce:zi(),...Zi(),...Be(),...ts(),...ns(),...__(),...Fn(),...Tf(),...tu(),...St({tag:"span"}),...Tt(),...Ns({variant:"tonal"})},"VChip"),H_=ce()({name:"VChip",directives:{Ripple:ru},props:mG(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0,"group:selected":t=>!0,click:t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{t:r}=_o(),{borderClasses:o}=es(t),{colorClasses:a,colorStyles:l,variantClasses:c}=Wa(t),{densityClasses:u}=Ps(t),{elevationClasses:d}=is(t),{roundedClasses:h}=Vn(t),{sizeClasses:m}=nu(t),{themeClasses:g}=Mt(t),p=rt(t,"modelValue"),v=w_(t,QR,!1),E=Sf(t,n),b=w(()=>t.link!==!1&&E.isLink.value),C=w(()=>!t.disabled&&t.link!==!1&&(!!v||t.link||E.isClickable.value)),S=w(()=>({"aria-label":r(t.closeLabel),onClick(N){p.value=!1,i("click:close",N)}}));function R(N){var T;i("click",N),C.value&&((T=E.navigate)==null||T.call(E,N),v==null||v.toggle())}function x(N){(N.key==="Enter"||N.key===" ")&&(N.preventDefault(),R(N))}return()=>{const N=E.isLink.value?"a":t.tag,T=!!(t.appendIcon||t.appendAvatar),k=!!(T||s.append),L=!!(s.close||t.closable),V=!!(s.filter||t.filter)&&v,O=!!(t.prependIcon||t.prependAvatar),P=!!(O||s.prepend),$=!v||v.isSelected.value;return p.value&&en(f(N,{class:["v-chip",{"v-chip--disabled":t.disabled,"v-chip--label":t.label,"v-chip--link":C.value,"v-chip--filter":V,"v-chip--pill":t.pill},g.value,o.value,$?a.value:void 0,u.value,d.value,h.value,m.value,c.value,v==null?void 0:v.selectedClass.value,t.class],style:[$?l.value:void 0,t.style],disabled:t.disabled||void 0,draggable:t.draggable,href:E.href.value,tabindex:C.value?0:void 0,onClick:R,onKeydown:C.value&&!b.value&&x},{default:()=>{var re;return[qa(C.value,"v-chip"),V&&f(zx,{key:"filter"},{default:()=>[en(f("div",{class:"v-chip__filter"},[s.filter?en(f(At,{key:"filter-defaults",disabled:!t.filterIcon,defaults:{VIcon:{icon:t.filterIcon}}},null),[[Ti("slot"),s.filter,"default"]]):f(Ge,{key:"filter-icon",icon:t.filterIcon},null)]),[[po,v.isSelected.value]])]}),P&&f("div",{key:"prepend",class:"v-chip__prepend"},[s.prepend?f(At,{key:"prepend-defaults",disabled:!O,defaults:{VAvatar:{image:t.prependAvatar,start:!0},VIcon:{icon:t.prependIcon,start:!0}}},s.prepend):f(Te,null,[t.prependIcon&&f(Ge,{key:"prepend-icon",icon:t.prependIcon,start:!0},null),t.prependAvatar&&f(gs,{key:"prepend-avatar",image:t.prependAvatar,start:!0},null)])]),f("div",{class:"v-chip__content"},[((re=s.default)==null?void 0:re.call(s,{isSelected:v==null?void 0:v.isSelected.value,selectedClass:v==null?void 0:v.selectedClass.value,select:v==null?void 0:v.select,toggle:v==null?void 0:v.toggle,value:v==null?void 0:v.value.value,disabled:t.disabled}))??t.text]),k&&f("div",{key:"append",class:"v-chip__append"},[s.append?f(At,{key:"append-defaults",disabled:!T,defaults:{VAvatar:{end:!0,image:t.appendAvatar},VIcon:{end:!0,icon:t.appendIcon}}},s.append):f(Te,null,[t.appendIcon&&f(Ge,{key:"append-icon",end:!0,icon:t.appendIcon},null),t.appendAvatar&&f(gs,{key:"append-avatar",end:!0,image:t.appendAvatar},null)])]),L&&f("div",ye({key:"close",class:"v-chip__close"},S.value),[s.close?f(At,{key:"close-defaults",defaults:{VIcon:{icon:t.closeIcon,size:"x-small"}}},s.close):f(Ge,{key:"close-icon",icon:t.closeIcon,size:"x-small"},null)])]}}),[[Ti("ripple"),C.value&&t.ripple,null]])}}}),gG=W({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,showSize:{type:[Boolean,Number],default:!1,validator:t=>typeof t=="boolean"||[1e3,1024].includes(t)},...Ga({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:t=>bi(t).every(e=>e!=null&&typeof e=="object")},...Rf({clearable:!0})},"VFileInput"),pG=ce()({name:"VFileInput",inheritAttrs:!1,props:gG(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{t:r}=_o(),o=rt(t,"modelValue"),{isFocused:a,focus:l,blur:c}=au(t),u=w(()=>typeof t.showSize!="boolean"?t.showSize:void 0),d=w(()=>(o.value??[]).reduce((k,L)=>{let{size:V=0}=L;return k+V},0)),h=w(()=>cE(d.value,u.value)),m=w(()=>(o.value??[]).map(k=>{const{name:L="",size:V=0}=k;return t.showSize?`${L} (${cE(V,u.value)})`:L})),g=w(()=>{var L;const k=((L=o.value)==null?void 0:L.length)??0;return t.showSize?r(t.counterSizeString,k,h.value):r(t.counterString,k)}),p=ae(),v=ae(),E=ae(),b=w(()=>a.value||t.active),C=w(()=>["plain","underlined"].includes(t.variant));function S(){var k;E.value!==document.activeElement&&((k=E.value)==null||k.focus()),a.value||l()}function R(k){N(k)}function x(k){i("mousedown:control",k)}function N(k){var L;(L=E.value)==null||L.click(),i("click:control",k)}function T(k){k.stopPropagation(),S(),Ct(()=>{o.value=[],h_(t["onClick:clear"],k)})}return ge(o,k=>{(!Array.isArray(k)||!k.length)&&E.value&&(E.value.value="")}),be(()=>{const k=!!(s.counter||t.counter),L=!!(k||s.details),[V,O]=za(n),[{modelValue:P,...$}]=Yi.filterProps(t),[re]=D_(t);return f(Yi,ye({ref:p,modelValue:o.value,"onUpdate:modelValue":oe=>o.value=oe,class:["v-file-input",{"v-file-input--chips":!!t.chips,"v-file-input--selection-slot":!!s.selection,"v-text-field--plain-underlined":C.value},t.class],style:t.style,"onClick:prepend":R},V,$,{centerAffix:!C.value,focused:a.value}),{...s,default:oe=>{let{id:se,isDisabled:F,isDirty:G,isReadonly:ue,isValid:pe}=oe;return f(Pf,ye({ref:v,"prepend-icon":t.prependIcon,onMousedown:x,onClick:N,"onClick:clear":T,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},re,{id:se.value,active:b.value||G.value,dirty:G.value,disabled:F.value,focused:a.value,error:pe.value===!1}),{...s,default:De=>{var dt;let{props:{class:je,...at}}=De;return f(Te,null,[f("input",ye({ref:E,type:"file",readonly:ue.value,disabled:F.value,multiple:t.multiple,name:t.name,onClick:B=>{B.stopPropagation(),S()},onChange:B=>{if(!B.target)return;const D=B.target;o.value=[...D.files??[]]},onFocus:S,onBlur:c},at,O),null),f("div",{class:je},[!!((dt=o.value)!=null&&dt.length)&&(s.selection?s.selection({fileNames:m.value,totalBytes:d.value,totalBytesReadable:h.value}):t.chips?m.value.map(B=>f(H_,{key:B,size:"small",color:t.color},{default:()=>[B]})):m.value.join(", "))])])}})},details:L?oe=>{var se,F;return f(Te,null,[(se=s.details)==null?void 0:se.call(s,oe),k&&f(Te,null,[f("span",null,null),f(P_,{active:!!((F=o.value)!=null&&F.length),value:g.value},s.counter)])])}:void 0})}),Ds({},p,v,E)}}),vG=W({...$_({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),Mu=ce()({name:"VRadio",props:vG(),setup(t,e){let{slots:n}=e;return be(()=>f(z_,ye(t,{class:["v-radio",t.class],style:t.style,type:"radio"}),n)),{}}});const yG=W({height:{type:[Number,String],default:"auto"},...Ga(),...$a(U_(),["multiple"]),trueIcon:{type:tt,default:"$radioOn"},falseIcon:{type:tt,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),Lu=ce()({name:"VRadioGroup",inheritAttrs:!1,props:yG(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const s=Jn(),r=w(()=>t.id||`radio-group-${s}`),o=rt(t,"modelValue");return be(()=>{const[a,l]=za(n),[c,u]=Yi.filterProps(t),[d,h]=z_.filterProps(t),m=i.label?i.label({label:t.label,props:{for:r.value}}):t.label;return f(Yi,ye({class:["v-radio-group",t.class],style:t.style},a,c,{modelValue:o.value,"onUpdate:modelValue":g=>o.value=g,id:r.value}),{...i,default:g=>{let{id:p,messagesId:v,isDisabled:E,isReadonly:b}=g;return f(Te,null,[m&&f(N_,{id:p.value},{default:()=>[m]}),f(lK,ye(d,{id:p.value,"aria-describedby":v.value,defaultsTarget:"VRadio",trueIcon:t.trueIcon,falseIcon:t.falseIcon,type:t.type,disabled:E.value,readonly:b.value,"aria-labelledby":m?p.value:void 0,multiple:!1},l,{modelValue:o.value,"onUpdate:modelValue":C=>o.value=C}),i)])}})}),{}}}),_G={props:{slide:{type:Object,required:!0}},data(){return{imagePreview:null}},methods:{onFileInputChange(t){debugger;const e=t.target.files[0];if(e){const n=new FileReader;n.onload=()=>{this.imagePreview=n.result},n.readAsDataURL(e)}this.slide.image=e},emitSlideChangeByUser(){this.$emit("slide-data-updated-by-user",this.slide)}},watch:{slide:{deep:!0,handler(){debugger;this.emitSlideChangeByUser()}}}},wG={class:"w-100 pa-6 text-wrap text-white"},bG={class:"w-100 pa-6 text-wrap text-white"},EG={class:"w-100 pa-6 text-wrap text-white"},CG={class:"w-100 pa-6 text-wrap text-white"};function IG(t,e,n,i,s,r){return ne(),he(ft,{class:"py-0"},{default:y(()=>[f(qe,{flat:"",color:"#F2F2FA",height:"800px",class:"w-100 rounded-drawer d-flex flex-column justify-space-between"},{default:y(()=>[f(kt,{class:"bg-primary text-center text-wrap"},{default:y(()=>[f(uR,{label:"Insira a pergunta",variant:"underlined",clearable:"","no-resize":"",rows:"2",modelValue:n.slide.question,"onUpdate:modelValue":e[0]||(e[0]=o=>n.slide.question=o)},null,8,["modelValue"])]),_:1}),s.imagePreview?Ke("",!0):(ne(),he(qe,{key:0,color:"#DBDCF1",height:"300",class:"w-50 mx-auto elevation-3 text-center"},{default:y(()=>[f(kt,{class:"mt-16"},{default:y(()=>[q(" Encontre e insira uma imagem ")]),_:1}),f(va,null,{default:y(()=>[q(" Ou arraste para enviar")]),_:1}),f(ft,{class:"w-50"},{default:y(()=>[f(pG,{class:"mt-16",variant:"underlined",onChange:r.onFileInputChange},null,8,["onChange"])]),_:1})]),_:1})),s.imagePreview?(ne(),he(qe,{key:1,color:"#DBDCF1",height:"300",class:"w-50 mx-auto elevation-3 text-center"},{default:y(()=>[f(me,{rounded:"",size:"30",color:"secondary",class:"no-uppercase btn-out",icon:"mdi-close-circle-outline",onClick:e[1]||(e[1]=o=>s.imagePreview=!1)}),s.imagePreview?(ne(),he(Gi,{key:0,src:s.imagePreview,cover:""},null,8,["src"])):Ke("",!0)]),_:1})):Ke("",!0),f(Mn,{class:"d-flex flex-column justify-end"},{default:y(()=>[f(xf),f(Gn,{class:"w-100"},{default:y(()=>[f(ut,{cols:"12",md:"6"},{default:y(()=>[f(qe,{flat:"",height:"150",rounded:"xl",class:"bg-deep-purple-lighten-2 d-flex align-center"},{default:y(()=>[f(Ge,{size:"50",color:"white",class:"mr-auto ml-8"},{default:y(()=>[q("mdi-cards-club")]),_:1}),ke("div",wG,[f(qt,{variant:"underlined",label:"Insira uma resposta aqui",modelValue:n.slide.optA,"onUpdate:modelValue":e[2]||(e[2]=o=>n.slide.optA=o)},null,8,["modelValue"])]),f(Lu,{modelValue:n.slide.rightOpt,"onUpdate:modelValue":e[3]||(e[3]=o=>n.slide.rightOpt=o)},{default:y(()=>[f(Mu,{class:"mr-8",value:"optA",color:"white"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),f(ut,{cols:"12",md:"6"},{default:y(()=>[f(qe,{flat:"",height:"150",rounded:"xl",class:"bg-teal-lighten-2 d-flex align-center"},{default:y(()=>[f(Ge,{size:"50",color:"white",class:"mr-auto ml-8"},{default:y(()=>[q("mdi-cards-spade")]),_:1}),ke("div",bG,[f(qt,{variant:"underlined",label:"Insira uma resposta aqui",modelValue:n.slide.optB,"onUpdate:modelValue":e[4]||(e[4]=o=>n.slide.optB=o)},null,8,["modelValue"])]),f(Lu,{modelValue:n.slide.rightOpt,"onUpdate:modelValue":e[5]||(e[5]=o=>n.slide.rightOpt=o)},{default:y(()=>[f(Mu,{class:"mr-8",value:"optB",color:"white"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),f(Gn,{class:"w-100"},{default:y(()=>[f(ut,{cols:"12",md:"6"},{default:y(()=>[f(qe,{flat:"",height:"150",rounded:"xl",class:"bg-deep-orange-lighten-2 d-flex align-center"},{default:y(()=>[f(Ge,{size:"50",color:"white",class:"mr-auto ml-8"},{default:y(()=>[q("mdi-cards-heart")]),_:1}),ke("div",EG,[f(qt,{variant:"underlined",label:"Insira uma resposta aqui",modelValue:n.slide.optC,"onUpdate:modelValue":e[6]||(e[6]=o=>n.slide.optC=o)},null,8,["modelValue"])]),f(Lu,{modelValue:n.slide.rightOpt,"onUpdate:modelValue":e[7]||(e[7]=o=>n.slide.rightOpt=o)},{default:y(()=>[f(Mu,{class:"mr-8",value:"optC",color:"white"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),f(ut,{cols:"12",md:"6"},{default:y(()=>[f(qe,{flat:"",height:"150",rounded:"xl",class:"bg-pink-accent-1 d-flex align-center"},{default:y(()=>[f(Ge,{size:"50",color:"white",class:"mr-auto ml-8"},{default:y(()=>[q("mdi-cards-diamond")]),_:1}),ke("div",CG,[f(qt,{variant:"underlined",label:"Insira uma resposta aqui",modelValue:n.slide.optD,"onUpdate:modelValue":e[8]||(e[8]=o=>n.slide.optD=o)},null,8,["modelValue"])]),f(Lu,{modelValue:n.slide.rightOpt,"onUpdate:modelValue":e[9]||(e[9]=o=>n.slide.rightOpt=o)},{default:y(()=>[f(Mu,{class:"mr-8",value:"optD",color:"white"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const SG=Ot(_G,[["render",IG],["__scopeId","data-v-1ed5b22d"]]);let Fu;const TG=new Uint8Array(16);function kG(){if(!Fu&&(Fu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Fu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Fu(TG)}const sn=[];for(let t=0;t<256;++t)sn.push((t+256).toString(16).slice(1));function AG(t,e=0){return(sn[t[e+0]]+sn[t[e+1]]+sn[t[e+2]]+sn[t[e+3]]+"-"+sn[t[e+4]]+sn[t[e+5]]+"-"+sn[t[e+6]]+sn[t[e+7]]+"-"+sn[t[e+8]]+sn[t[e+9]]+"-"+sn[t[e+10]]+sn[t[e+11]]+sn[t[e+12]]+sn[t[e+13]]+sn[t[e+14]]+sn[t[e+15]]).toLowerCase()}const xG=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),hC={randomUUID:xG};function RG(t,e,n){if(hC.randomUUID&&!e&&!t)return hC.randomUUID();t=t||{};const i=t.random||(t.rng||kG)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){n=n||0;for(let s=0;s<16;++s)e[n+s]=i[s];return e}return AG(i)}const XR=W({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:tt,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:Ua},...IR({itemChildren:!1})},"Select"),PG=W({...XR(),...$a(O_({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...Ka({transition:{component:T_}})},"VSelect");ce()({name:"VSelect",props:PG(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=_o(),s=ae(),r=ae(),o=rt(t,"menu"),a=w({get:()=>o.value,set:P=>{var $;o.value&&!P&&(($=r.value)!=null&&$.openChildren)||(o.value=P)}}),{items:l,transformIn:c,transformOut:u}=kR(t),d=rt(t,"modelValue",[],P=>c(bi(P)),P=>{const $=u(P);return t.multiple?$:$[0]??null}),h=k_(),m=w(()=>d.value.map(P=>l.value.find($=>t.valueComparator($.value,P.value))||P)),g=w(()=>m.value.map(P=>P.props.value)),p=Ce(!1);let v="",E;const b=w(()=>t.hideSelected?l.value.filter(P=>!m.value.some($=>$===P)):l.value),C=w(()=>t.hideNoData&&!l.value.length||t.readonly||(h==null?void 0:h.isReadonly.value)),S=ae();function R(P){t.openOnClear&&(a.value=!0)}function x(){C.value||(a.value=!a.value)}function N(P){var F,G;if(t.readonly||h!=null&&h.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(P.key)&&P.preventDefault(),["Enter","ArrowDown"," "].includes(P.key)&&(a.value=!0),["Escape","Tab"].includes(P.key)&&(a.value=!1),P.key==="Home"?(F=S.value)==null||F.focus("first"):P.key==="End"&&((G=S.value)==null||G.focus("last"));const $=1e3;function re(ue){const pe=ue.key.length===1,De=!ue.ctrlKey&&!ue.metaKey&&!ue.altKey;return pe&&De}if(t.multiple||!re(P))return;const oe=performance.now();oe-E>$&&(v=""),v+=P.key.toLowerCase(),E=oe;const se=l.value.find(ue=>ue.title.toLowerCase().startsWith(v));se!==void 0&&(d.value=[se])}function T(P){var $;P.key==="Tab"&&(($=s.value)==null||$.focus())}function k(P){if(t.multiple){const $=g.value.findIndex(re=>t.valueComparator(re,P.value));if($===-1)d.value=[...d.value,P];else{const re=[...d.value];re.splice($,1),d.value=re}}else d.value=[P],a.value=!1}function L(P){var $;($=S.value)!=null&&$.$el.contains(P.relatedTarget)||(a.value=!1)}function V(){var P;p.value&&((P=s.value)==null||P.focus())}function O(P){p.value=!0}return be(()=>{const P=!!(t.chips||n.chip),$=!!(!t.hideNoData||b.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),re=d.value.length>0,[oe]=qt.filterProps(t),se=re||!p.value&&t.label&&!t.persistentPlaceholder?void 0:t.placeholder;return f(qt,ye({ref:s},oe,{modelValue:d.value.map(F=>F.props.value).join(", "),"onUpdate:modelValue":F=>{F==null&&(d.value=[])},focused:p.value,"onUpdate:focused":F=>p.value=F,validationValue:d.externalValue,dirty:re,class:["v-select",{"v-select--active-menu":a.value,"v-select--chips":!!t.chips,[`v-select--${t.multiple?"multiple":"single"}`]:!0,"v-select--selected":d.value.length,"v-select--selection-slot":!!n.selection},t.class],style:t.style,readonly:!0,placeholder:se,"onClick:clear":R,"onMousedown:control":x,onBlur:L,onKeydown:N}),{...n,default:()=>f(Te,null,[f(Df,ye({ref:r,modelValue:a.value,"onUpdate:modelValue":F=>a.value=F,activator:"parent",contentClass:"v-select__content",disabled:C.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterLeave:V},t.menuProps),{default:()=>[$&&f(ps,{ref:S,selected:g.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:F=>F.preventDefault(),onKeydown:T,onFocusin:O,tabindex:"-1"},{default:()=>{var F,G,ue;return[(F=n["prepend-item"])==null?void 0:F.call(n),!b.value.length&&!t.hideNoData&&(((G=n["no-data"])==null?void 0:G.call(n))??f(zn,{title:i(t.noDataText)},null)),b.value.map((pe,De)=>{var at;const je=ye(pe.props,{key:De,onClick:()=>k(pe)});return((at=n.item)==null?void 0:at.call(n,{item:pe,index:De,props:je}))??f(zn,je,{prepend:dt=>{let{isSelected:B}=dt;return f(Te,null,[t.multiple&&!t.hideSelected?f(ah,{key:pe.value,modelValue:B,ripple:!1,tabindex:"-1"},null):void 0,pe.props.prependIcon&&f(Ge,{icon:pe.props.prependIcon},null)])}})}),(ue=n["append-item"])==null?void 0:ue.call(n)]}})]}),m.value.map((F,G)=>{var De;function ue(je){je.stopPropagation(),je.preventDefault(),k(F)}const pe={"onClick:close":ue,onMousedown(je){je.preventDefault(),je.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return f("div",{key:F.value,class:"v-select__selection"},[P?n.chip?f(At,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:F.title}}},{default:()=>{var je;return[(je=n.chip)==null?void 0:je.call(n,{item:F,index:G,props:pe})]}}):f(H_,ye({key:"chip",closable:t.closableChips,size:"small",text:F.title},pe),null):((De=n.selection)==null?void 0:De.call(n,{item:F,index:G}))??f("span",{class:"v-select__selection-text"},[F.title,t.multiple&&G<m.value.length-1&&f("span",{class:"v-select__selection-comma"},[q(",")])])])})]),"append-inner":function(){var pe;for(var F=arguments.length,G=new Array(F),ue=0;ue<F;ue++)G[ue]=arguments[ue];return f(Te,null,[(pe=n["append-inner"])==null?void 0:pe.call(n,...G),t.menuIcon?f(Ge,{class:"v-select__menu-icon",icon:t.menuIcon},null):void 0])}})}),Ds({isFocused:p,menu:a,select:k},s)}});const NG=(t,e,n)=>t==null||e==null?-1:t.toString().toLocaleLowerCase().indexOf(e.toString().toLocaleLowerCase()),DG=W({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function OG(t,e,n){var a;const i=[],s=(n==null?void 0:n.default)??NG,r=n!=null&&n.filterKeys?bi(n.filterKeys):!1,o=Object.keys((n==null?void 0:n.customKeyFilter)??{}).length;if(!(t!=null&&t.length))return i;e:for(let l=0;l<t.length;l++){const c=t[l],u={},d={};let h=-1;if(e&&!(n!=null&&n.noFilter)){if(typeof c=="object"){const p=r||Object.keys(c);for(const v of p){const E=Mi(c,v,c),b=(a=n==null?void 0:n.customKeyFilter)==null?void 0:a[v];if(h=b?b(E,e,c):s(E,e,c),h!==-1&&h!==!1)b?u[v]=h:d[v]=h;else if((n==null?void 0:n.filterMode)==="every")continue e}}else h=s(c,e,c),h!==-1&&h!==!1&&(d.title=h);const m=Object.keys(d).length,g=Object.keys(u).length;if(!m&&!g||(n==null?void 0:n.filterMode)==="union"&&g!==o&&!m||(n==null?void 0:n.filterMode)==="intersection"&&(g!==o||!m))continue}i.push({index:l,matches:{...d,...u}})}return i}function MG(t,e,n,i){const s=w(()=>typeof(n==null?void 0:n.value)!="string"&&typeof(n==null?void 0:n.value)!="number"?"":String(n.value)),r=ae([]),o=ae(new Map),a=w(()=>i!=null&&i.transform?cn(e).map(i==null?void 0:i.transform):cn(e));Xi(()=>{r.value=[],o.value=new Map;const c=OG(a.value,s.value,{customKeyFilter:t.customKeyFilter,default:t.customFilter,filterKeys:t.filterKeys,filterMode:t.filterMode,noFilter:t.noFilter}),u=cn(e);c.forEach(d=>{let{index:h,matches:m}=d;const g=u[h];r.value.push(g),o.value.set(g.value,m)})});function l(c){return o.value.get(c.value)}return{filteredItems:r,filteredMatches:o,getMatches:l}}function LG(t,e,n){if(e==null)return t;if(Array.isArray(e))throw new Error("Multiple matches is not implemented");return typeof e=="number"&&~e?f(Te,null,[f("span",{class:"v-autocomplete__unmask"},[t.substr(0,e)]),f("span",{class:"v-autocomplete__mask"},[t.substr(e,n)]),f("span",{class:"v-autocomplete__unmask"},[t.substr(e+n)])]):t}const FG=W({autoSelectFirst:{type:[Boolean,String]},search:String,...DG({filterKeys:["title"]}),...XR(),...$a(O_({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...Ka({transition:!1})},"VAutocomplete"),VG=ce()({name:"VAutocomplete",props:FG(),emits:{"update:focused":t=>!0,"update:search":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=_o(),s=ae(),r=Ce(!1),o=Ce(!0),a=ae(!1),l=ae(),c=rt(t,"menu"),u=w({get:()=>c.value,set:B=>{var D;c.value&&!B&&((D=l.value)!=null&&D.openChildren)||(c.value=B)}}),d=Ce(-1),h=w(()=>{var B;return(B=s.value)==null?void 0:B.color}),{items:m,transformIn:g,transformOut:p}=kR(t),{textColorClasses:v,textColorStyles:E}=Wi(h),b=rt(t,"search",""),C=rt(t,"modelValue",[],B=>g(bi(B)),B=>{const D=p(B);return t.multiple?D:D[0]??null}),S=k_(),{filteredItems:R,getMatches:x}=MG(t,m,w(()=>o.value?void 0:b.value)),N=w(()=>C.value.map(B=>m.value.find(D=>t.valueComparator(D.value,B.value))||B)),T=w(()=>t.hideSelected?R.value.filter(B=>!N.value.some(D=>D.value===B.value)):R.value),k=w(()=>N.value.map(B=>B.props.value)),L=w(()=>N.value[d.value]),V=w(()=>{var D;return(t.autoSelectFirst===!0||t.autoSelectFirst==="exact"&&b.value===((D=T.value[0])==null?void 0:D.title))&&T.value.length>0&&!o.value&&!a.value}),O=w(()=>t.hideNoData&&!m.value.length||t.readonly||(S==null?void 0:S.isReadonly.value)),P=ae();function $(B){t.openOnClear&&(u.value=!0),b.value=""}function re(){O.value||(u.value=!0)}function oe(B){O.value||(r.value&&(B.preventDefault(),B.stopPropagation()),u.value=!u.value)}function se(B){var X,Z,Pe;if(t.readonly||S!=null&&S.isReadonly.value)return;const D=s.value.selectionStart,J=k.value.length;if((d.value>-1||["Enter","ArrowDown","ArrowUp"].includes(B.key))&&B.preventDefault(),["Enter","ArrowDown"].includes(B.key)&&(u.value=!0),["Escape"].includes(B.key)&&(u.value=!1),["Enter","Escape","Tab"].includes(B.key)&&(V.value&&["Enter","Tab"].includes(B.key)&&dt(R.value[0]),o.value=!0),B.key==="ArrowDown"&&V.value&&((X=P.value)==null||X.focus("next")),!!t.multiple){if(["Backspace","Delete"].includes(B.key)){if(d.value<0){B.key==="Backspace"&&!b.value&&(d.value=J-1);return}const _=d.value;L.value&&dt(L.value),d.value=_>=J-1?J-2:_}if(B.key==="ArrowLeft"){if(d.value<0&&D>0)return;const _=d.value>-1?d.value-1:J-1;N.value[_]?d.value=_:(d.value=-1,s.value.setSelectionRange((Z=b.value)==null?void 0:Z.length,(Pe=b.value)==null?void 0:Pe.length))}if(B.key==="ArrowRight"){if(d.value<0)return;const _=d.value+1;N.value[_]?d.value=_:(d.value=-1,s.value.setSelectionRange(0,0))}}}function F(B){var D;B.key==="Tab"&&((D=s.value)==null||D.focus())}function G(B){b.value=B.target.value}function ue(){var B;r.value&&(o.value=!0,(B=s.value)==null||B.focus())}function pe(B){r.value=!0,setTimeout(()=>{a.value=!0})}function De(B){a.value=!1}function je(B){(B==null||B===""&&!t.multiple)&&(C.value=[])}const at=Ce(!1);function dt(B){if(t.multiple){const D=k.value.findIndex(J=>t.valueComparator(J,B.value));if(D===-1)C.value=[...C.value,B];else{const J=[...C.value];J.splice(D,1),C.value=J}}else C.value=[B],at.value=!0,b.value=B.title,u.value=!1,o.value=!0,Ct(()=>at.value=!1)}return ge(r,(B,D)=>{var J;B!==D&&(B?(at.value=!0,b.value=t.multiple?"":String(((J=N.value.at(-1))==null?void 0:J.props.title)??""),o.value=!0,Ct(()=>at.value=!1)):(!t.multiple&&!b.value?C.value=[]:V.value&&!a.value&&!N.value.some(X=>{let{value:Z}=X;return Z===T.value[0].value})&&dt(T.value[0]),u.value=!1,b.value="",d.value=-1))}),ge(b,B=>{!r.value||at.value||(B&&(u.value=!0),o.value=!B)}),be(()=>{const B=!!(t.chips||n.chip),D=!!(!t.hideNoData||T.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),J=C.value.length>0,[X]=qt.filterProps(t);return f(qt,ye({ref:s},X,{modelValue:b.value,"onUpdate:modelValue":je,focused:r.value,"onUpdate:focused":Z=>r.value=Z,validationValue:C.externalValue,dirty:J,onInput:G,class:["v-autocomplete",`v-autocomplete--${t.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":u.value,"v-autocomplete--chips":!!t.chips,"v-autocomplete--selection-slot":!!n.selection,"v-autocomplete--selecting-index":d.value>-1},t.class],style:t.style,readonly:t.readonly,placeholder:J?void 0:t.placeholder,"onClick:clear":$,"onMousedown:control":re,onKeydown:se}),{...n,default:()=>f(Te,null,[f(Df,ye({ref:l,modelValue:u.value,"onUpdate:modelValue":Z=>u.value=Z,activator:"parent",contentClass:"v-autocomplete__content",disabled:O.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterLeave:ue},t.menuProps),{default:()=>[D&&f(ps,{ref:P,selected:k.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:Z=>Z.preventDefault(),onKeydown:F,onFocusin:pe,onFocusout:De,tabindex:"-1"},{default:()=>{var Z,Pe,_;return[(Z=n["prepend-item"])==null?void 0:Z.call(n),!T.value.length&&!t.hideNoData&&(((Pe=n["no-data"])==null?void 0:Pe.call(n))??f(zn,{title:i(t.noDataText)},null)),T.value.map((I,A)=>{var U;const M=ye(I.props,{key:A,active:V.value&&A===0?!0:void 0,onClick:()=>dt(I)});return((U=n.item)==null?void 0:U.call(n,{item:I,index:A,props:M}))??f(zn,M,{prepend:j=>{let{isSelected:te}=j;return f(Te,null,[t.multiple&&!t.hideSelected?f(ah,{key:I.value,modelValue:te,ripple:!1,tabindex:"-1"},null):void 0,I.props.prependIcon&&f(Ge,{icon:I.props.prependIcon},null)])},title:()=>{var j,te;return o.value?I.title:LG(I.title,(j=x(I))==null?void 0:j.title,((te=b.value)==null?void 0:te.length)??0)}})}),(_=n["append-item"])==null?void 0:_.call(n)]}})]}),N.value.map((Z,Pe)=>{var A;function _(M){M.stopPropagation(),M.preventDefault(),dt(Z)}const I={"onClick:close":_,onMousedown(M){M.preventDefault(),M.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return f("div",{key:Z.value,class:["v-autocomplete__selection",Pe===d.value&&["v-autocomplete__selection--selected",v.value]],style:Pe===d.value?E.value:{}},[B?n.chip?f(At,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:Z.title}}},{default:()=>{var M;return[(M=n.chip)==null?void 0:M.call(n,{item:Z,index:Pe,props:I})]}}):f(H_,ye({key:"chip",closable:t.closableChips,size:"small",text:Z.title},I),null):((A=n.selection)==null?void 0:A.call(n,{item:Z,index:Pe}))??f("span",{class:"v-autocomplete__selection-text"},[Z.title,t.multiple&&Pe<N.value.length-1&&f("span",{class:"v-autocomplete__selection-comma"},[q(",")])])])})]),"append-inner":function(){var I;for(var Z=arguments.length,Pe=new Array(Z),_=0;_<Z;_++)Pe[_]=arguments[_];return f(Te,null,[(I=n["append-inner"])==null?void 0:I.call(n,...Pe),t.menuIcon?f(Ge,{class:"v-autocomplete__menu-icon",icon:t.menuIcon,onMousedown:oe,onClick:hq},null):void 0])}})}),Ds({isFocused:r,isPristine:o,menu:u,search:b,filteredItems:R,select:dt},s)}});function BG(t){let{rootEl:e,isSticky:n,layoutItemStyles:i}=t;const s=Ce(!1),r=Ce(0),o=w(()=>{const c=typeof s.value=="boolean"?"top":s.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,s.value?{[c]:Se(r.value)}:{top:i.value.top}]});ci(()=>{ge(n,c=>{c?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),Xn(()=>{document.removeEventListener("scroll",l)});let a=0;function l(){const c=a>window.scrollY?"up":"down",u=e.value.getBoundingClientRect(),d=parseFloat(i.value.top??0),h=window.scrollY-Math.max(0,r.value-d),m=u.height+Math.max(r.value,d)-window.scrollY-window.innerHeight,g=parseFloat(getComputedStyle(e.value).getPropertyValue("--v-body-scroll-y"))||0;u.height<window.innerHeight-d?(s.value="top",r.value=d):c==="up"&&s.value==="bottom"||c==="down"&&s.value==="top"?(r.value=window.scrollY+u.top-g,s.value=!0):c==="down"&&m<=0?(r.value=0,s.value="bottom"):c==="up"&&h<=0&&(g?s.value!=="top"&&(r.value=-h+g+d,s.value="top"):(r.value=u.top+h,s.value="top")),a=window.scrollY}return{isStuck:s,stickyStyles:o}}const UG=100,$G=20;function fC(t){const e=1.41421356237;return(t<0?-1:1)*Math.sqrt(Math.abs(t))*e}function mC(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let e=0;for(let n=t.length-1;n>0;n--){if(t[n].t===t[n-1].t)continue;const i=fC(e),s=(t[n].d-t[n-1].d)/(t[n].t-t[n-1].t);e+=(s-i)*Math.abs(s),n===t.length-1&&(e*=.5)}return fC(e)*1e3}function zG(){const t={};function e(s){Array.from(s.changedTouches).forEach(r=>{(t[r.identifier]??(t[r.identifier]=new uq($G))).push([s.timeStamp,r])})}function n(s){Array.from(s.changedTouches).forEach(r=>{delete t[r.identifier]})}function i(s){var c;const r=(c=t[s])==null?void 0:c.values().reverse();if(!r)throw new Error(`No samples for touch id ${s}`);const o=r[0],a=[],l=[];for(const u of r){if(o[0]-u[0]>UG)break;a.push({t:u[0],d:u[1].clientX}),l.push({t:u[0],d:u[1].clientY})}return{x:mC(a),y:mC(l),get direction(){const{x:u,y:d}=this,[h,m]=[Math.abs(u),Math.abs(d)];return h>m&&u>=0?"right":h>m&&u<=0?"left":m>h&&d>=0?"down":m>h&&d<=0?"up":jG()}}}return{addMovement:e,endTouch:n,getVelocity:i}}function jG(){throw new Error}function HG(t){let{isActive:e,isTemporary:n,width:i,touchless:s,position:r}=t;ci(()=>{window.addEventListener("touchstart",E,{passive:!0}),window.addEventListener("touchmove",b,{passive:!1}),window.addEventListener("touchend",C,{passive:!0})}),Xn(()=>{window.removeEventListener("touchstart",E),window.removeEventListener("touchmove",b),window.removeEventListener("touchend",C)});const o=w(()=>["left","right"].includes(r.value)),{addMovement:a,endTouch:l,getVelocity:c}=zG();let u=!1;const d=Ce(!1),h=Ce(0),m=Ce(0);let g;function p(R,x){return(r.value==="left"?R:r.value==="right"?document.documentElement.clientWidth-R:r.value==="top"?R:r.value==="bottom"?document.documentElement.clientHeight-R:ko())-(x?i.value:0)}function v(R){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const N=r.value==="left"?(R-m.value)/i.value:r.value==="right"?(document.documentElement.clientWidth-R-m.value)/i.value:r.value==="top"?(R-m.value)/i.value:r.value==="bottom"?(document.documentElement.clientHeight-R-m.value)/i.value:ko();return x?Math.max(0,Math.min(1,N)):N}function E(R){if(s.value)return;const x=R.changedTouches[0].clientX,N=R.changedTouches[0].clientY,T=25,k=r.value==="left"?x<T:r.value==="right"?x>document.documentElement.clientWidth-T:r.value==="top"?N<T:r.value==="bottom"?N>document.documentElement.clientHeight-T:ko(),L=e.value&&(r.value==="left"?x<i.value:r.value==="right"?x>document.documentElement.clientWidth-i.value:r.value==="top"?N<i.value:r.value==="bottom"?N>document.documentElement.clientHeight-i.value:ko());(k||L||e.value&&n.value)&&(u=!0,g=[x,N],m.value=p(o.value?x:N,e.value),h.value=v(o.value?x:N),l(R),a(R))}function b(R){const x=R.changedTouches[0].clientX,N=R.changedTouches[0].clientY;if(u){if(!R.cancelable){u=!1;return}const k=Math.abs(x-g[0]),L=Math.abs(N-g[1]);(o.value?k>L&&k>3:L>k&&L>3)?(d.value=!0,u=!1):(o.value?L:k)>3&&(u=!1)}if(!d.value)return;R.preventDefault(),a(R);const T=v(o.value?x:N,!1);h.value=Math.max(0,Math.min(1,T)),T>1?m.value=p(o.value?x:N,!0):T<0&&(m.value=p(o.value?x:N,!1))}function C(R){if(u=!1,!d.value)return;a(R),d.value=!1;const x=c(R.changedTouches[0].identifier),N=Math.abs(x.x),T=Math.abs(x.y);(o.value?N>T&&N>400:T>N&&T>3)?e.value=x.direction===({left:"right",right:"left",top:"down",bottom:"up"}[r.value]||ko()):e.value=h.value>.5}const S=w(()=>d.value?{transform:r.value==="left"?`translateX(calc(-100% + ${h.value*i.value}px))`:r.value==="right"?`translateX(calc(100% - ${h.value*i.value}px))`:r.value==="top"?`translateY(calc(-100% + ${h.value*i.value}px))`:r.value==="bottom"?`translateY(calc(100% - ${h.value*i.value}px))`:ko(),transition:"none"}:void 0);return{isDragging:d,dragProgress:h,dragStyles:S}}function ko(){throw new Error}const qG=["start","end","left","right","top","bottom"],WG=W({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[String,Boolean],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>qG.includes(t)},sticky:Boolean,...Zi(),...Be(),...ns(),...DR(),...Fn(),...St({tag:"nav"}),...Tt()},"VNavigationDrawer"),gC=ce()({name:"VNavigationDrawer",props:WG(),emits:{"update:modelValue":t=>!0,"update:rail":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{isRtl:r}=ss(),{themeClasses:o}=Mt(t),{borderClasses:a}=es(t),{backgroundColorClasses:l,backgroundColorStyles:c}=Ki(Ae(t,"color")),{elevationClasses:u}=is(t),{mobile:d}=qx(),{roundedClasses:h}=Vn(t),m=Tx(),g=rt(t,"modelValue",null,G=>!!G),{ssrBootStyles:p}=Nf(),{scopeId:v}=ou(),E=ae(),b=Ce(!1),C=w(()=>t.rail&&t.expandOnHover&&b.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),S=w(()=>hp(t.location,r.value)),R=w(()=>!t.permanent&&(d.value||t.temporary)),x=w(()=>t.sticky&&!R.value&&S.value!=="bottom");t.expandOnHover&&t.rail!=null&&ge(b,G=>i("update:rail",!G)),t.disableResizeWatcher||ge(R,G=>!t.permanent&&Ct(()=>g.value=!G)),!t.disableRouteWatcher&&m&&ge(m.currentRoute,()=>R.value&&(g.value=!1)),ge(()=>t.permanent,G=>{G&&(g.value=!0)}),yf(()=>{t.modelValue!=null||R.value||(g.value=t.permanent||!d.value)});const{isDragging:N,dragProgress:T,dragStyles:k}=HG({isActive:g,isTemporary:R,width:C,touchless:Ae(t,"touchless"),position:S}),L=w(()=>{const G=R.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):C.value;return N.value?G*T.value:G}),{layoutItemStyles:V,layoutItemScrimStyles:O}=OR({id:t.name,order:w(()=>parseInt(t.order,10)),position:S,layoutSize:L,elementSize:C,active:w(()=>g.value||N.value),disableTransitions:w(()=>N.value),absolute:w(()=>t.absolute||x.value&&typeof P.value!="string")}),{isStuck:P,stickyStyles:$}=BG({rootEl:E,isSticky:x,layoutItemStyles:V}),re=Ki(w(()=>typeof t.scrim=="string"?t.scrim:null)),oe=w(()=>({...N.value?{opacity:T.value*.2,transition:"none"}:void 0,...O.value}));xs({VList:{bgColor:"transparent"}});function se(){b.value=!0}function F(){b.value=!1}return be(()=>{const G=s.image||t.image;return f(Te,null,[f(t.tag,ye({ref:E,onMouseenter:se,onMouseleave:F,class:["v-navigation-drawer",`v-navigation-drawer--${S.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":b.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":R.value,"v-navigation-drawer--active":g.value,"v-navigation-drawer--sticky":x.value},o.value,l.value,a.value,u.value,h.value,t.class],style:[c.value,V.value,k.value,p.value,$.value,t.style]},v,n),{default:()=>{var ue,pe,De,je;return[G&&f("div",{key:"image",class:"v-navigation-drawer__img"},[s.image?(ue=s.image)==null?void 0:ue.call(s,{image:t.image}):f("img",{src:t.image,alt:""},null)]),s.prepend&&f("div",{class:"v-navigation-drawer__prepend"},[(pe=s.prepend)==null?void 0:pe.call(s)]),f("div",{class:"v-navigation-drawer__content"},[(De=s.default)==null?void 0:De.call(s)]),s.append&&f("div",{class:"v-navigation-drawer__append"},[(je=s.append)==null?void 0:je.call(s)])]}}),f(qi,{name:"fade-transition"},{default:()=>[R.value&&(N.value||g.value)&&!!t.scrim&&f("div",ye({class:["v-navigation-drawer__scrim",re.backgroundColorClasses.value],style:[oe.value,re.backgroundColorStyles.value],onClick:()=>g.value=!1},v),null)]})])}),{isStuck:P}}}),KG={components:{DefaultSlideInput:SG,TheCountdown:M_},data(){return{snackbar:!1,snackbarText:"",slideTypes:[{title:"Padro"}],quizId:this.$route.params.quizId,drawer:!0,rail:!0,drawer2:!0,rail2:!0,selectedSlide:null,loading:!0}},methods:{async deleteSlide(t){if(this.$store.state.slides.length<=1){this.snackbarText="Quiz precisa ter pelo menos um slide!",this.snackbar=!0;return}await qV(ln(Nt,"slides",t.slideId));const e=this.$store.state.slides.indexOf(t);this.$store.state.slides.splice(e,1)},createNewSlide(t){debugger;if(t.title==="Padro"){const e={slideId:RG(),question:"",optA:"",optB:"",optC:"",optD:"",countdownTime:20,quizId:this.quizId,scoreSystem:"default"};this.$store.state.slides.splice(this.$store.state.slides.length,0,e),console.log("New slides array ",this.$store.state.slides)}},handleSlideClick(t){debugger;console.log("Slide selected",t),this.selectedSlide=t,console.log("the whole slide array, ",this.$store.state.slides)},handleSlideUpdateByUser(t){this.$store.state.unsaved=!0;const e=this.$store.state.slides.findIndex(n=>n.slideId===t.slideId);e!==-1?this.$store.state.slides.splice(e,1,t):console.log("Slide not found"),console.log(this.$store.state.slides)},async getSlides(t){},confirmLeave(){return window.confirm("Do you really want to leave? you have unsaved changes!")},confirmStayInDirtyForm(){return this.$store.state.unsaved&&!this.confirmLeave()},beforeWindowUnload(t){this.confirmStayInDirtyForm()&&(t.preventDefault(),t.returnValue="")}},async beforeMount(){debugger;this.$store.state.creationMode=!0;const t=MT(tc(Nt,"slides"),LT("quizId","==",this.quizId));(await $T(t)).forEach(async n=>{debugger;this.$store.state.slides.push({slideId:n.id,...n.data()}),this.selectedSlide=0,console.log(this.$store.state.slides)}),this.selectedSlide=this.$store.state.slides[0],console.log("SELECTED SLIDE",this.selectedSlide),this.loading=!1},unmounted(){this.$store.state.creationMode=!1,this.$store.state.slides=[]},created(){window.addEventListener("beforeunload",this.beforeWindowUnload)},beforeDestroy(){window.removeEventListener("beforeunload",this.beforeWindowUnload)},beforeRouteLeave(t,e,n){this.confirmStayInDirtyForm()?n(!1):n()}},GG={class:"d-flex justify-space-between"},YG={class:"ml-2"};function QG(t,e,n,i,s,r){const o=_i("default-slide-input");return ne(),bn(Te,null,[f(xR,{modelValue:s.snackbar,"onUpdate:modelValue":e[1]||(e[1]=a=>s.snackbar=a),"multi-line":""},{actions:y(()=>[f(me,{color:"red",variant:"text",onClick:e[0]||(e[0]=a=>s.snackbar=!1)},{default:y(()=>[q(" Fechar ")]),_:1})]),default:y(()=>[q(wt(s.snackbarText)+" ",1)]),_:1},8,["modelValue"]),f(fr,null,{default:y(()=>[s.loading?(ne(),he(j_,{key:0,height:"720",class:"mt-n16 d-flex justify-center align-center"},{default:y(()=>[f(Ef,{size:80,width:8,indeterminate:"","model-value":"20"})]),_:1})):Ke("",!0),s.loading?Ke("",!0):(ne(),he(lh,{key:1,class:"mx-2 my-8"},{default:y(()=>[f(gC,{color:"#F2F2FA",modelValue:s.drawer,"onUpdate:modelValue":e[4]||(e[4]=a=>s.drawer=a),rail:s.rail,permanent:"",class:"rounded-drawer",onClick:e[5]||(e[5]=a=>s.rail=!1)},{default:y(()=>[f(zn,{title:"Slides",nav:""},{prepend:y(()=>[f(me,{variant:"text",size:"50",icon:"mdi-button-pointer",onClick:e[2]||(e[2]=Fr(a=>s.rail=!s.rail,["stop"]))})]),append:y(()=>[f(me,{variant:"text",icon:"mdi-chevron-left",onClick:e[3]||(e[3]=Fr(a=>s.rail=!s.rail,["stop"]))})]),_:1}),f(ps,{density:"compact",nav:""},{default:y(()=>[(ne(!0),bn(Te,null,ga(t.$store.state.slides,(a,l)=>(ne(),he(zn,{key:a.slideId,value:a.slideId,onClick:c=>r.handleSlideClick(a)},HH({title:y(()=>[ke("div",GG,[ke("p",YG,"Slide "+wt(l+1),1),f(me,{size:"15",variant:"text",icon:"mdi-trash-can-outline",onClick:c=>r.deleteSlide(a)},null,8,["onClick"])])]),default:y(()=>[s.rail?Ke("",!0):(ne(),he(ft,{key:0,class:"rounded-drawer"},{default:y(()=>[f(qe,{height:"120"},{default:y(()=>[f(kt,{class:"bg-primary text-center text-caption"},{default:y(()=>[q(wt(a.question),1)]),_:2},1024),f(Gn,{class:"w-100 mt-3 px-5 my-1","no-gutters":""},{default:y(()=>[f(ut,{cols:"6"},{default:y(()=>[f(qe,{class:"d-flex justify-center bg-deep-purple-lighten-2"},{default:y(()=>[f(Ge,{class:"pa-1 ma-1",size:"15",color:a.rightOpt==="optA"?"black":""},{default:y(()=>[q(" mdi-cards-club ")]),_:2},1032,["color"])]),_:2},1024)]),_:2},1024),f(ut,{cols:"6"},{default:y(()=>[f(qe,{class:"d-flex justify-center bg-teal-lighten-2"},{default:y(()=>[f(Ge,{class:"pa-1 ma-1",size:"15",color:a.rightOpt==="optB"?"black":""},{default:y(()=>[q(" mdi-cards-spade ")]),_:2},1032,["color"])]),_:2},1024)]),_:2},1024)]),_:2},1024),f(Gn,{class:"w-100 mt-1 px-5","no-gutters":""},{default:y(()=>[f(ut,{cols:"6"},{default:y(()=>[f(qe,{class:"d-flex justify-center bg-deep-orange-lighten-2"},{default:y(()=>[f(Ge,{class:"pa-1 ma-1",size:"15",color:a.rightOpt==="optC"?null:"white"},{default:y(()=>[q(" mdi-cards-heart ")]),_:2},1032,["color"])]),_:2},1024)]),_:2},1024),f(ut,{cols:"6"},{default:y(()=>[f(qe,{class:"d-flex justify-center bg-pink-accent-1"},{default:y(()=>[f(Ge,{class:"pa-1 ma-1",size:"15",color:a.rightOpt==="optD"?"black":""},{default:y(()=>[q(" mdi-cards-diamond ")]),_:2},1032,["color"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))]),_:2},[s.rail?{name:"prepend",fn:y(()=>[f(Ge,null,{default:y(()=>[q(" mdi-card-outline ")]),_:1})]),key:"0"}:void 0]),1032,["value","onClick"]))),128)),s.rail?Ke("",!0):(ne(),he(me,{key:0,id:"new-slide-activator",variant:"tonal",style:{"background-color":"#d37146",color:"white"},width:"180",height:"30",size:"large",class:"mt-5 ml-7 no-uppercase",rounded:"xs"},{default:y(()=>[q(" Novo Slide "),f(Df,{activator:"parent"},{default:y(()=>[f(ps,null,{default:y(()=>[(ne(!0),bn(Te,null,ga(s.slideTypes,(a,l)=>(ne(),he(zn,{key:l,value:l,onClick:c=>r.createNewSlide(a)},{default:y(()=>[f(Zu,null,{default:y(()=>[q(wt(a.title),1)]),_:2},1024)]),_:2},1032,["value","onClick"]))),128))]),_:1})]),_:1})]),_:1}))]),_:1})]),_:1},8,["modelValue","rail"]),f(gC,{color:"#F2F2FA",modelValue:s.drawer,"onUpdate:modelValue":e[10]||(e[10]=a=>s.drawer=a),rail:s.rail2,permanent:"",location:"right",class:"rounded-drawer",onClick:e[11]||(e[11]=a=>s.rail2=!1)},{default:y(()=>[f(zn,{title:"Configuraes",nav:""},{prepend:y(()=>[f(me,{variant:"text",size:"50",icon:"mdi-cog-outline",onClick:e[6]||(e[6]=Fr(a=>s.rail2=!s.rail2,["stop"]))})]),append:y(()=>[f(me,{variant:"text",icon:"mdi-chevron-left",onClick:e[7]||(e[7]=Fr(a=>s.rail2=!s.rail2,["stop"]))})]),_:1}),s.rail2?Ke("",!0):(ne(),he(ps,{key:0,density:"compact",nav:""},{default:y(()=>[f(zn,null,{default:y(()=>[f(Zu,null,{default:y(()=>[q("Sistema de pontuao")]),_:1}),f(VG,{density:"compact",class:"my-5",variant:"solo",items:["default"],modelValue:s.selectedSlide.scoreSystem,"onUpdate:modelValue":e[8]||(e[8]=a=>s.selectedSlide.scoreSystem=a)},null,8,["modelValue"])]),_:1}),f(zn,null,{default:y(()=>[f(Zu,null,{default:y(()=>[q("Limite de tempo em segundos")]),_:1}),f(qt,{density:"compact",class:"my-5",variant:"solo",type:"number",modelValue:s.selectedSlide.countdownTime,"onUpdate:modelValue":e[9]||(e[9]=a=>s.selectedSlide.countdownTime=a)},null,8,["modelValue"])]),_:1})]),_:1}))]),_:1},8,["modelValue","rail"]),f(fr,null,{default:y(()=>[f(o,{slide:s.selectedSlide,onSlideDataUpdatedByUser:r.handleSlideUpdateByUser},null,8,["slide","onSlideDataUpdatedByUser"])]),_:1})]),_:1}))]),_:1})],64)}const XG=Ot(KG,[["render",QG],["__scopeId","data-v-c8780c0b"]]),JG={props:["quiz"],methods:{play(){const e=pr().currentUser;Tg(tc(Nt,"rooms"),{gameState:"created",quizId:this.quiz.quizId,hostId:e.uid,createdBy:e.uid}).then(n=>{console.log("Room created successfuly. RoomId "+n.id),this.$router.push("/eduquiz/rooms/"+n.id)})},formatDate(t){return new $t(t.seconds,t.nanoseconds).toDate().toLocaleString()}}},ZG={class:"d-block mx-auto"};function e8(t,e,n,i,s,r){return ne(),he(qe,{width:"500",height:"400",flat:"",color:"#DBDCF1",class:"d-flex flex-column justify-space-between rounded-xl pa-0"},{default:y(()=>[f(kt,{style:{height:"100px"},class:"text-h4 font-weight-bold text-primary text-wrap no-hyphen d-flex align-center"},{default:y(()=>[ke("p",ZG,wt(n.quiz.title),1)]),_:1}),f(va,{class:"font-weight-black text-primary"},{default:y(()=>[q(wt(r.formatDate(n.quiz.createdAt)),1)]),_:1}),f(j_,{class:"bg-grey mt-3",width:"500",height:"200"}),f(Mn,{location:"bottom"},{default:y(()=>[f(me,{width:"100",class:"mx-6 no-uppercase",rounded:"",style:{"background-color":"#d37146",color:"white"},onClick:r.play},{default:y(()=>[q(" jogar ")]),_:1},8,["onClick"]),f(me,{color:"primary",width:"100",variant:"outlined",rounded:"",class:"no-uppercase",to:"/eduquiz/create-quiz/"+n.quiz.quizId},{default:y(()=>[q(" editar ")]),_:1},8,["to"])]),_:1})]),_:1})}const t8=Ot(JG,[["render",e8]]),n8={components:{Quiz:t8},data(){return{quizzes:[]}},async mounted(){let t=pr();aI(t,async e=>{if(e){const n=MT(tc(Nt,"quizzes"),LT("createdBy","==",this.$store.state.userId));(await $T(n)).forEach(s=>{this.quizzes.push({quizId:s.id,...s.data()})}),console.log(this.quizzes)}else console.log("No logged in")})}};function i8(t,e,n,i,s,r){const o=_i("Quiz");return ne(),he(fr,null,{default:y(()=>[f(qe,{flat:"",color:"#DBDCF1"},{default:y(()=>[f(kt,{class:"mx-auto w-75 text-h3 pa-10 font-weight-bold text-primary text-wrap no-hyphen"},{default:y(()=>[q(" Seus quizzes ")]),_:1})]),_:1}),f(ft,{class:"d-flex justify-space-evenly flex-wrap py-10",style:{gap:"50px"}},{default:y(()=>[(ne(!0),bn(Te,null,ga(s.quizzes,a=>(ne(),he(o,{quiz:a},null,8,["quiz"]))),256))]),_:1})]),_:1})}const s8=Ot(n8,[["render",i8]]),r8={};function o8(t,e){return"ABOUT"}const a8=Ot(r8,[["render",o8]]),l8=rK({history:b3(),routes:[{path:"/eduquiz/",component:ZK},{path:"/eduquiz/about",component:a8},{path:"/eduquiz/room",component:_K},{path:"/eduquiz/game",component:VK},{path:"/eduquiz/home",component:gK},{path:"/eduquiz/login",component:sG},{path:"/eduquiz/register",component:lG},{path:"/eduquiz/my-quizzes",component:s8},{path:"/eduquiz/create-quiz/:quizId",component:XG},{path:"/eduquiz/public-rooms",component:hG},{path:"/eduquiz/rooms/:roomId",component:MK}]});function c8(){return JR().__VUE_DEVTOOLS_GLOBAL_HOOK__}function JR(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const u8=typeof Proxy=="function",d8="devtools-plugin:setup",h8="plugin:settings:set";let Ao,Sp;function f8(){var t;return Ao!==void 0||(typeof window<"u"&&window.performance?(Ao=!0,Sp=window.performance):typeof global<"u"&&(!((t=global.perf_hooks)===null||t===void 0)&&t.performance)?(Ao=!0,Sp=global.perf_hooks.performance):Ao=!1),Ao}function m8(){return f8()?Sp.now():Date.now()}class g8{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const i={};if(e.settings)for(const o in e.settings){const a=e.settings[o];i[o]=a.defaultValue}const s=`__vue-devtools-plugin-settings__${e.id}`;let r=Object.assign({},i);try{const o=localStorage.getItem(s),a=JSON.parse(o);Object.assign(r,a)}catch{}this.fallbacks={getSettings(){return r},setSettings(o){try{localStorage.setItem(s,JSON.stringify(o))}catch{}r=o},now(){return m8()}},n&&n.on(h8,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(c=>{this.targetQueue.push({method:a,args:l,resolve:c})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function p8(t,e){const n=t,i=JR(),s=c8(),r=u8&&n.enableEarlyProxy;if(s&&(i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!r))s.emit(d8,t,e);else{const o=r?new g8(n,s):null;(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:o}),o&&e(o.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var v8="store";function Ya(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function y8(t){return t!==null&&typeof t=="object"}function _8(t){return t&&typeof t.then=="function"}function w8(t,e){return function(){return t(e)}}function ZR(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}function eP(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Mf(t,n,[],t._modules.root,!0),q_(t,n,e)}function q_(t,e,n){var i=t._state,s=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var r=t._wrappedGetters,o={},a={},l=hf(!0);l.run(function(){Ya(r,function(c,u){o[u]=w8(c,t),a[u]=w(function(){return o[u]()}),Object.defineProperty(t.getters,u,{get:function(){return a[u].value},enumerable:!0})})}),t._state=Xt({data:e}),t._scope=l,t.strict&&S8(t),i&&n&&t._withCommit(function(){i.data=null}),s&&s.stop()}function Mf(t,e,n,i,s){var r=!n.length,o=t._modules.getNamespace(n);if(i.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=i),!r&&!s){var a=W_(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){a[l]=i.state})}var c=i.context=b8(t,o,n);i.forEachMutation(function(u,d){var h=o+d;E8(t,h,u,c)}),i.forEachAction(function(u,d){var h=u.root?d:o+d,m=u.handler||u;C8(t,h,m,c)}),i.forEachGetter(function(u,d){var h=o+d;I8(t,h,u,c)}),i.forEachChild(function(u,d){Mf(t,e,n.concat(d),u,s)})}function b8(t,e,n){var i=e==="",s={dispatch:i?t.dispatch:function(r,o,a){var l=ch(r,o,a),c=l.payload,u=l.options,d=l.type;return(!u||!u.root)&&(d=e+d),t.dispatch(d,c)},commit:i?t.commit:function(r,o,a){var l=ch(r,o,a),c=l.payload,u=l.options,d=l.type;(!u||!u.root)&&(d=e+d),t.commit(d,c,u)}};return Object.defineProperties(s,{getters:{get:i?function(){return t.getters}:function(){return tP(t,e)}},state:{get:function(){return W_(t.state,n)}}}),s}function tP(t,e){if(!t._makeLocalGettersCache[e]){var n={},i=e.length;Object.keys(t.getters).forEach(function(s){if(s.slice(0,i)===e){var r=s.slice(i);Object.defineProperty(n,r,{get:function(){return t.getters[s]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function E8(t,e,n,i){var s=t._mutations[e]||(t._mutations[e]=[]);s.push(function(o){n.call(t,i.state,o)})}function C8(t,e,n,i){var s=t._actions[e]||(t._actions[e]=[]);s.push(function(o){var a=n.call(t,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},o);return _8(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):a})}function I8(t,e,n,i){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(r){return n(i.state,i.getters,r.state,r.getters)})}function S8(t){ge(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function W_(t,e){return e.reduce(function(n,i){return n[i]},t)}function ch(t,e,n){return y8(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var T8="vuex bindings",pC="vuex:mutations",Hm="vuex:actions",xo="vuex",k8=0;function A8(t,e){p8({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[T8]},function(n){n.addTimelineLayer({id:pC,label:"Vuex Mutations",color:vC}),n.addTimelineLayer({id:Hm,label:"Vuex Actions",color:vC}),n.addInspector({id:xo,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(i){if(i.app===t&&i.inspectorId===xo)if(i.filter){var s=[];rP(s,e._modules.root,i.filter,""),i.rootNodes=s}else i.rootNodes=[sP(e._modules.root,"")]}),n.on.getInspectorState(function(i){if(i.app===t&&i.inspectorId===xo){var s=i.nodeId;tP(e,s),i.state=P8(D8(e._modules,s),s==="root"?e.getters:e._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(i){if(i.app===t&&i.inspectorId===xo){var s=i.nodeId,r=i.path;s!=="root"&&(r=s.split("/").filter(Boolean).concat(r)),e._withCommit(function(){i.set(e._state.data,r,i.state.value)})}}),e.subscribe(function(i,s){var r={};i.payload&&(r.payload=i.payload),r.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(xo),n.sendInspectorState(xo),n.addTimelineEvent({layerId:pC,event:{time:Date.now(),title:i.type,data:r}})}),e.subscribeAction({before:function(i,s){var r={};i.payload&&(r.payload=i.payload),i._id=k8++,i._time=Date.now(),r.state=s,n.addTimelineEvent({layerId:Hm,event:{time:i._time,title:i.type,groupId:i._id,subtitle:"start",data:r}})},after:function(i,s){var r={},o=Date.now()-i._time;r.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},i.payload&&(r.payload=i.payload),r.state=s,n.addTimelineEvent({layerId:Hm,event:{time:Date.now(),title:i.type,groupId:i._id,subtitle:"end",data:r}})}})})}var vC=8702998,x8=6710886,R8=16777215,nP={label:"namespaced",textColor:R8,backgroundColor:x8};function iP(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function sP(t,e){return{id:e||"root",label:iP(e),tags:t.namespaced?[nP]:[],children:Object.keys(t._children).map(function(n){return sP(t._children[n],e+n+"/")})}}function rP(t,e,n,i){i.includes(n)&&t.push({id:i||"root",label:i.endsWith("/")?i.slice(0,i.length-1):i||"Root",tags:e.namespaced?[nP]:[]}),Object.keys(e._children).forEach(function(s){rP(t,e._children[s],n,i+s+"/")})}function P8(t,e,n){e=n==="root"?e:e[n];var i=Object.keys(e),s={state:Object.keys(t.state).map(function(o){return{key:o,editable:!0,value:t.state[o]}})};if(i.length){var r=N8(e);s.getters=Object.keys(r).map(function(o){return{key:o.endsWith("/")?iP(o):o,editable:!1,value:Tp(function(){return r[o]})}})}return s}function N8(t){var e={};return Object.keys(t).forEach(function(n){var i=n.split("/");if(i.length>1){var s=e,r=i.pop();i.forEach(function(o){s[o]||(s[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),s=s[o]._custom.value}),s[r]=Tp(function(){return t[n]})}else e[n]=Tp(function(){return t[n]})}),e}function D8(t,e){var n=e.split("/").filter(function(i){return i});return n.reduce(function(i,s,r){var o=i[s];if(!o)throw new Error('Missing module "'+s+'" for path "'+e+'".');return r===n.length-1?o:o._children},e==="root"?t:t.root._children)}function Tp(t){try{return t()}catch(e){return e}}var xi=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var i=e.state;this.state=(typeof i=="function"?i():i)||{}},oP={namespaced:{configurable:!0}};oP.namespaced.get=function(){return!!this._rawModule.namespaced};xi.prototype.addChild=function(e,n){this._children[e]=n};xi.prototype.removeChild=function(e){delete this._children[e]};xi.prototype.getChild=function(e){return this._children[e]};xi.prototype.hasChild=function(e){return e in this._children};xi.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};xi.prototype.forEachChild=function(e){Ya(this._children,e)};xi.prototype.forEachGetter=function(e){this._rawModule.getters&&Ya(this._rawModule.getters,e)};xi.prototype.forEachAction=function(e){this._rawModule.actions&&Ya(this._rawModule.actions,e)};xi.prototype.forEachMutation=function(e){this._rawModule.mutations&&Ya(this._rawModule.mutations,e)};Object.defineProperties(xi.prototype,oP);var wo=function(e){this.register([],e,!1)};wo.prototype.get=function(e){return e.reduce(function(n,i){return n.getChild(i)},this.root)};wo.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(i,s){return n=n.getChild(s),i+(n.namespaced?s+"/":"")},"")};wo.prototype.update=function(e){aP([],this.root,e)};wo.prototype.register=function(e,n,i){var s=this;i===void 0&&(i=!0);var r=new xi(n,i);if(e.length===0)this.root=r;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],r)}n.modules&&Ya(n.modules,function(a,l){s.register(e.concat(l),a,i)})};wo.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),i=e[e.length-1],s=n.getChild(i);s&&s.runtime&&n.removeChild(i)};wo.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),i=e[e.length-1];return n?n.hasChild(i):!1};function aP(t,e,n){if(e.update(n),n.modules)for(var i in n.modules){if(!e.getChild(i))return;aP(t.concat(i),e.getChild(i),n.modules[i])}}function O8(t){return new Bn(t)}var Bn=function(e){var n=this;e===void 0&&(e={});var i=e.plugins;i===void 0&&(i=[]);var s=e.strict;s===void 0&&(s=!1);var r=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new wo(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=r;var o=this,a=this,l=a.dispatch,c=a.commit;this.dispatch=function(h,m){return l.call(o,h,m)},this.commit=function(h,m,g){return c.call(o,h,m,g)},this.strict=s;var u=this._modules.root.state;Mf(this,u,[],this._modules.root),q_(this,u),i.forEach(function(d){return d(n)})},K_={state:{configurable:!0}};Bn.prototype.install=function(e,n){e.provide(n||v8,this),e.config.globalProperties.$store=this;var i=this._devtools!==void 0?this._devtools:!1;i&&A8(e,this)};K_.state.get=function(){return this._state.data};K_.state.set=function(t){};Bn.prototype.commit=function(e,n,i){var s=this,r=ch(e,n,i),o=r.type,a=r.payload,l={type:o,payload:a},c=this._mutations[o];c&&(this._withCommit(function(){c.forEach(function(d){d(a)})}),this._subscribers.slice().forEach(function(u){return u(l,s.state)}))};Bn.prototype.dispatch=function(e,n){var i=this,s=ch(e,n),r=s.type,o=s.payload,a={type:r,payload:o},l=this._actions[r];if(l){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(a,i.state)})}catch{}var c=l.length>1?Promise.all(l.map(function(u){return u(o)})):l[0](o);return new Promise(function(u,d){c.then(function(h){try{i._actionSubscribers.filter(function(m){return m.after}).forEach(function(m){return m.after(a,i.state)})}catch{}u(h)},function(h){try{i._actionSubscribers.filter(function(m){return m.error}).forEach(function(m){return m.error(a,i.state,h)})}catch{}d(h)})})}};Bn.prototype.subscribe=function(e,n){return ZR(e,this._subscribers,n)};Bn.prototype.subscribeAction=function(e,n){var i=typeof e=="function"?{before:e}:e;return ZR(i,this._actionSubscribers,n)};Bn.prototype.watch=function(e,n,i){var s=this;return ge(function(){return e(s.state,s.getters)},n,Object.assign({},i))};Bn.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};Bn.prototype.registerModule=function(e,n,i){i===void 0&&(i={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),Mf(this,this.state,e,this._modules.get(e),i.preserveState),q_(this,this.state)};Bn.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var i=W_(n.state,e.slice(0,-1));delete i[e[e.length-1]]}),eP(this)};Bn.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};Bn.prototype.hotUpdate=function(e){this._modules.update(e),eP(this,!0)};Bn.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(Bn.prototype,K_);const M8="modulepreload",L8=function(t){return"/eduquiz/"+t},yC={},F8=function(e,n,i){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(r=>{if(r=L8(r),r in yC)return;yC[r]=!0;const o=r.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!i)for(let u=s.length-1;u>=0;u--){const d=s[u];if(d.href===r&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":M8,o||(c.as="script",c.crossOrigin=""),c.href=r,document.head.appendChild(c),o)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())};async function V8(){(await F8(()=>import("./webfontloader-523643f5.js").then(e=>e.w),[])).load({google:{families:["Droid Sans","Droid Serif"]}})}function B8(t){let e=[];const n=[],i=lP(t),s=cP(t);for(let r=0;r<i.getDay();r++)e.push(null);for(let r=1;r<=s.getDate();r++){const o=new Date(t.getFullYear(),t.getMonth(),r);e.push(o),e.length===7&&(n.push(e),e=[])}for(let r=e.length;r<7;r++)e.push(null);return n.push(e),n}function lP(t){return new Date(t.getFullYear(),t.getMonth(),1)}function cP(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function U8(t){if(t==null)return null;if(t instanceof Date)return t;if(typeof t=="string"){const e=Date.parse(t);if(!isNaN(e))return new Date(e)}return null}const $8={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:0,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:0,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0},_C=new Date(2e3,0,2);function z8(t){const e=$8[t.slice(-2).toUpperCase()];return nx(7).map(n=>{const i=new Date(_C);return i.setDate(_C.getDate()+e+n),new Intl.DateTimeFormat(t,{weekday:"long"}).format(i)})}function j8(t,e,n){const i=new Date(t);let s={};switch(e){case"fullDateWithWeekday":s={weekday:"long",day:"numeric",month:"long",year:"numeric"};break;case"normalDateWithWeekday":s={weekday:"short",day:"numeric",month:"short",year:"numeric"};break;case"keyboardDate":s={};break;case"monthAndDate":s={month:"long",day:"numeric"};break;case"monthAndYear":s={month:"long",year:"numeric"};break;default:s={timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,s).format(i)}function H8(t,e){const n=new Date(t);return n.setDate(n.getDate()+e),n}function q8(t,e){const n=new Date(t);return n.setMonth(n.getMonth()+e),n}function W8(t){return t.getFullYear()}function K8(t){return t.getMonth()}function G8(t){return new Date(t.getFullYear(),0,1)}function Y8(t){return new Date(t.getFullYear(),11,31)}function qm(t){return new Date(t,0,1)}function Q8(t){let e=t.getFullYear(),n=qm(e);if(t<n)e=e-1,n=qm(e);else{const r=qm(e+1);t>=r&&(e=e+1,n=r)}const i=Math.abs(t.getTime()-n.getTime()),s=Math.ceil(i/(1e3*60*60*24));return Math.floor(s/7)+1}function X8(t,e){return uP(t,e[0])&&Z8(t,e[1])}function J8(t){const e=new Date(t);return e instanceof Date&&!isNaN(e.getTime())}function uP(t,e){return t.getTime()>e.getTime()}function Z8(t,e){return t.getTime()<e.getTime()}function e7(t,e){return t.getTime()===e.getTime()}function t7(t,e){return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function n7(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function i7(t,e,n){const i=new Date(t),s=new Date(e);return n==="month"?i.getMonth()-s.getMonth()+(i.getFullYear()-s.getFullYear())*12:Math.floor((i.getTime()-s.getTime())/(1e3*60*60*24))}function s7(t,e){const n=new Date(t);return n.setFullYear(e),n}class r7{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en";this.locale=e}date(e){return U8(e)}addDays(e,n){return H8(e,n)}addMonths(e,n){return q8(e,n)}getWeekArray(e){return B8(e)}startOfMonth(e){return lP(e)}endOfMonth(e){return cP(e)}format(e,n){return j8(e,n,this.locale)}isEqual(e,n){return e7(e,n)}isValid(e){return J8(e)}isWithinRange(e,n){return X8(e,n)}isAfter(e,n){return uP(e,n)}isSameDay(e,n){return t7(e,n)}isSameMonth(e,n){return n7(e,n)}setYear(e,n){return s7(e,n)}getDiff(e,n,i){return i7(e,n,i)}getWeek(e){return Q8(e)}getWeekdays(){return z8(this.locale)}getYear(e){return W8(e)}getMonth(e){return K8(e)}startOfYear(e){return G8(e)}endOfYear(e){return Y8(e)}}const wC=Symbol.for("vuetify:date-adapter");function o7(t){return t??{adapter:r7}}function dP(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:e,...n}=t,i=pi(e,n),{aliases:s={},components:r={},directives:o={}}=i,a=Rq(i.defaults),l=XW(i.display,i.ssr),c=Gq(i.theme),u=iW(i.icons),d=hW(i.locale),h=o7(i.date);return{install:g=>{for(const p in o)g.directive(p,o[p]);for(const p in r)g.component(p,r[p]);for(const p in s)g.component(p,ja({...s[p],name:p,aliasName:s[p].name}));if(c.install(g),g.provide(_c,a),g.provide(wp,l),g.provide(th,c),g.provide(mp,u),g.provide(nh,d),g.provide(wC,h),jt&&i.ssr)if(g.$nuxt)g.$nuxt.hook("app:suspense:resolve",()=>{l.update()});else{const{mount:p}=g;g.mount=function(){const v=p(...arguments);return Ct(()=>l.update()),g.mount=p,v}}Jn.reset(),g.mixin({computed:{$vuetify(){return Xt({defaults:Ro.call(this,_c),display:Ro.call(this,wp),theme:Ro.call(this,th),icons:Ro.call(this,mp),locale:Ro.call(this,nh),date:Ro.call(this,wC)})}}})},defaults:a,display:l,theme:c,icons:u,locale:d,date:h}}const a7="3.3.3";dP.version=a7;function Ro(t){var i,s;const e=this.$,n=((i=e.parent)==null?void 0:i.provides)??((s=e.vnode.appContext)==null?void 0:s.provides);if(n&&t in n)return n[t]}const l7=dP({theme:{themes:{light:{colors:{primary:"#7876D7",secondary:"#D37146"}}}}});function c7(t){V8(),t.use(l7)}const u7=O8({state(){return{currentPlayer:null,roomPlayers:[],isHost:!1,room:null,currentUser:null,creationMode:!1,unsaved:!1,slides:[]}}}),Lf=iq(i3);c7(Lf);Lf.use(l8);Lf.use(u7);Lf.mount("#app");
